---
about_this_resource_text: <p><strong>Description:</strong> Lecture covering single
  threaded performance and assembly language. Discussion of project results, emphasizing
  importance of writing tests first and pair programming.</p> <p><strong>Speaker:</strong>
  Charles Leiserson</p>
content_type: resource
course_id: 6-172-performance-engineering-of-software-systems-fall-2010
embedded_media:
- id: Video-InternetArchive-MP4
  media_location: http://www.archive.org/download/MIT6.172F10/MIT6_172_F10_lec06_300k.mp4
  parent_uid: 09df8fad1e45ccf584d557cb2eaa3f62
  title: Video-Internet Archive-MP4
  type: Video
  uid: 527dd5b21887b6527befb139afb06636
- id: Video-iTunesU-MP4
  media_location: http://itunes.apple.com/us/itunes-u/lecture-6-c-to-assembler/id481759887?i=109649108
  parent_uid: 09df8fad1e45ccf584d557cb2eaa3f62
  title: Video-iTunes U-MP4
  type: Video
  uid: a85945b328df82d0befbbc6c90e9f637
- id: Video-YouTube-Stream
  media_location: GOlurMtkuWQ
  parent_uid: 09df8fad1e45ccf584d557cb2eaa3f62
  title: Video-YouTube-Stream
  type: Video
  uid: 935183eaa90d9cc631fc53eafc56ee8d
- id: Thumbnail-YouTube-JPG
  media_location: https://img.youtube.com/vi/GOlurMtkuWQ/default.jpg
  parent_uid: 09df8fad1e45ccf584d557cb2eaa3f62
  title: Thumbnail-YouTube-JPG
  type: Thumbnail
  uid: 1fac35f65ea169eb7047123fcbd27ad2
- id: MIT6_172F10_lec06.pdf
  parent_uid: 09df8fad1e45ccf584d557cb2eaa3f62
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-172-performance-engineering-of-software-systems-fall-2010/video-lectures/lecture-6-c-to-assembler/MIT6_172F10_lec06.pdf
  title: MIT6_172F10_lec06.pdf
  type: null
  uid: 35068cb6eea0b24685d255e89677ab0a
- id: 3Play-3PlayYouTubeid-MP4
  media_location: GOlurMtkuWQ
  parent_uid: 09df8fad1e45ccf584d557cb2eaa3f62
  title: 3Play-3Play YouTube id
  type: 3Play
  uid: 2bc3786d8e13f85bcbd79ca9d299a5f8
- id: GOlurMtkuWQ.srt
  parent_uid: 09df8fad1e45ccf584d557cb2eaa3f62
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-172-performance-engineering-of-software-systems-fall-2010/video-lectures/lecture-6-c-to-assembler/GOlurMtkuWQ.srt
  title: 3play caption file
  type: null
  uid: 8008a27482f279610f2eff97e0977bd2
- id: GOlurMtkuWQ.pdf
  parent_uid: 09df8fad1e45ccf584d557cb2eaa3f62
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-172-performance-engineering-of-software-systems-fall-2010/video-lectures/lecture-6-c-to-assembler/GOlurMtkuWQ.pdf
  title: 3play pdf file
  type: null
  uid: e3995441eaa14fa7f70af19cd93fe312
- id: Caption-3Play YouTube id-SRT
  parent_uid: 09df8fad1e45ccf584d557cb2eaa3f62
  title: Caption-3Play YouTube id-SRT-English - US
  type: Caption
  uid: 8d1a693fee68342e226a0e9df1a104fa
- id: Transcript-3Play YouTube id-PDF
  parent_uid: 09df8fad1e45ccf584d557cb2eaa3f62
  title: Transcript-3Play YouTube id-PDF-English - US
  type: Transcript
  uid: 623d584dafb362c009b94abc233cd75f
file: null
file_size: null
hide_download: true
hide_download_original: null
inline_embed_id: 13374244lecture6:ctoassembler58662008
layout: video
license: https://creativecommons.org/licenses/by-nc-sa/4.0/
order_index: 71
parent_uid: 24169d0487e846a39c316276f85b8cb5
related_resources_text: ''
short_url: lecture-6-c-to-assembler
technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-172-performance-engineering-of-software-systems-fall-2010/video-lectures/lecture-6-c-to-assembler
title: 'Lecture 6: C to Assembler'
transcript: '<p><span m=''1810''>The</span> <span m=''1920''>following</span> <span
  m=''2370''>content</span> <span m=''2960''>is</span> <span m=''3070''>provided</span>
  <span m=''3520''>under</span> <span m=''3800''>a</span> <span m=''3820''>Creative</span>
  <span m=''4240''>Commons</span> <span m=''4640''>license.</span> <span m=''5650''>Your</span>
  <span m=''5930''>support</span> <span m=''6430''>will</span> <span m=''6600''>help</span>
  <span m=''6830''>MIT</span> <span m=''7310''>OpenCourseWare</span> <span m=''8090''>continue</span>
  <span m=''8380''>to</span> <span m=''8680''>offer</span> <span m=''9110''>high</span>
  <span m=''9330''>quality</span> <span m=''9860''>educational</span> <span m=''10470''>resources</span>
  <span m=''11120''>for</span> <span m=''11250''>free.</span> <span m=''12340''>To</span>
  <span m=''12460''>make</span> <span m=''12670''>a</span> <span m=''12720''>donation</span>
  <span m=''13350''>or</span> <span m=''13660''>view</span> <span m=''14070''>additional</span>
  <span m=''14530''>materials</span> <span m=''15070''>from</span> <span m=''15230''>hundreds</span>
  <span m=''15660''>of</span> <span m=''15770''>MIT</span> <span m=''16190''>courses,</span>
  <span m=''17200''>visit</span> <span m=''17530''>MIT</span> <span m=''17950''>OpenCourseWare</span>
  <span m=''18990''>at</span> <span m=''19160''>ocw.mit.edu.</span> </p><p><span m=''26000''>CHARLES
  LEISERSON: So</span> <span m=''26200''>today</span> <span m=''26480''>we''re</span>
  <span m=''26580''>going</span> <span m=''26670''>to</span> <span m=''26730''>take</span>
  <span m=''26950''>a</span> <span m=''27020''>little</span> <span m=''27220''>bit</span>
  <span m=''27400''>closer</span> <span m=''27880''>look</span> <span m=''30660''>at</span>
  <span m=''31290''>what''s</span> <span m=''31690''>happening</span> <span m=''32150''>under</span>
  <span m=''32360''>the</span> <span m=''32479''>covers</span> <span m=''33120''>when</span>
  <span m=''33330''>you</span> <span m=''33740''>compile</span> <span m=''34520''>a</span>
  <span m=''34640''>C</span> <span m=''34880''>program.</span> <span m=''37240''>But</span>
  <span m=''37930''>before</span> <span m=''38370''>we</span> <span m=''38460''>get</span>
  <span m=''38660''>into</span> <span m=''38900''>that,</span> <span m=''40700''>we</span>
  <span m=''40800''>did</span> <span m=''40930''>a</span> <span m=''41000''>little</span>
  <span m=''41560''>interesting</span> <span m=''42080''>correlation</span> <span
  m=''43820''>on</span> <span m=''44870''>your</span> <span m=''45920''>scores</span>
  <span m=''48530''>for</span> <span m=''48810''>the</span> <span m=''49450''>first</span>
  <span m=''49860''>problem,</span> <span m=''50910''>for</span> <span m=''51000''>the</span>
  <span m=''51160''>every</span> <span m=''51430''>bit</span> <span m=''51640''>one.</span>
  <span m=''52760''>So</span> <span m=''52930''>this</span> <span m=''53170''>is</span>
  <span m=''53320''>basically</span> <span m=''55190''>plotting.</span> <span m=''55810''>It''s</span>
  <span m=''55940''>a</span> <span m=''56010''>scatter</span> <span m=''56550''>plot</span>
  <span m=''57250''>of</span> <span m=''58460''>how</span> <span m=''58840''>you</span>
  <span m=''59020''>did</span> <span m=''59250''>in</span> <span m=''59360''>your</span>
  <span m=''59490''>test</span> <span m=''59940''>coverage</span> <span m=''60350''>score</span>
  <span m=''62100''>versus</span> <span m=''62430''>how</span> <span m=''62670''>you</span>
  <span m=''62860''>did</span> <span m=''63090''>in</span> <span m=''63260''>your</span>
  <span m=''63470''>correctness</span> <span m=''65319''>score</span> <span m=''67160''>and</span>
  <span m=''67410''>performance,</span> <span m=''67900''>correctness</span> <span
  m=''68300''>and</span> <span m=''68420''>performance</span> <span m=''68960''>together.</span>
  </p><p><span m=''71050''>And</span> <span m=''71950''>what''s</span> <span m=''72140''>interesting</span>
  <span m=''73090''>is</span> <span m=''73510''>that</span> <span m=''73640''>if</span>
  <span m=''73760''>you</span> <span m=''73890''>did</span> <span m=''74200''>better</span>
  <span m=''74590''>in</span> <span m=''74690''>your</span> <span m=''74860''>test</span>
  <span m=''75270''>coverage,</span> <span m=''78070''>you</span> <span m=''78200''>did</span>
  <span m=''78400''>better</span> <span m=''78810''>in</span> <span m=''79010''>your</span>
  <span m=''79210''>performance</span> <span m=''79820''>and</span> <span m=''79940''>correctness.</span>
  <span m=''82161''>OK,</span> <span m=''82630''>that''s</span> <span m=''82940''>a</span>
  <span m=''83010''>pretty</span> <span m=''83290''>good</span> <span m=''83480''>correlation,</span>
  <span m=''84330''>right?</span> <span m=''84640''>There''s</span> <span m=''84980''>some</span>
  <span m=''85300''>outliers</span> <span m=''85720''>here.</span> <span m=''86465''>But</span>
  <span m=''86790''>that''s</span> <span m=''87070''>a</span> <span m=''87140''>pretty</span>
  <span m=''87350''>good</span> <span m=''87510''>correlation.</span> <span m=''96170''>Yeah,</span>
  <span m=''96370''>John?</span> <span m=''96890''>Yeah?</span> </p><p><span m=''97643''>JOHN:
  The--</span> </p><p><span m=''98106''>CHARLES LEISERSON: Do</span> <span m=''98570''>we</span>
  <span m=''98720''>have</span> <span m=''98870''>a</span> <span m=''98970''>handheld?</span>
  <span m=''99340''>Here we</span> <span m=''99710''>go.</span> <span m=''100360''>Just</span>
  <span m=''100690''>a</span> <span m=''101020''>second.</span> <span m=''107660''>The</span>
  <span m=''107790''>only</span> <span m=''107940''>thing is</span> <span m=''108210''>we</span>
  <span m=''108280''>have</span> <span m=''108360''>to</span> <span m=''108460''>figure</span>
  <span m=''108660''>out</span> <span m=''108740''>how</span> <span m=''108850''>to</span>
  <span m=''108970''>turn it</span> <span m=''109350''>on.</span> <span m=''109610''>There</span>
  <span m=''109760''>we</span> <span m=''109850''>go.</span> </p><p><span m=''112885''>JOHN:
  Yeah,</span> <span m=''113360''>so</span> <span m=''113540''>just</span> <span m=''113790''>to</span>
  <span m=''113880''>clarify,</span> <span m=''114870''>the</span> <span m=''114960''>people</span>
  <span m=''115400''>who</span> <span m=''115640''>seemingly</span> <span m=''116180''>got</span>
  <span m=''116530''>no</span> <span m=''116800''>test</span> <span m=''117210''>coverage</span>
  <span m=''117570''>but</span> <span m=''117770''>really</span> <span m=''118060''>good</span>
  <span m=''118250''>performance</span> <span m=''118515''>scores,</span> <span m=''119580''>what</span>
  <span m=''120180''>actually</span> <span m=''120610''>happened</span> <span m=''121030''>was</span>
  <span m=''121280''>that</span> <span m=''122020''>we</span> <span m=''122240''>tested</span>
  <span m=''122730''>for</span> <span m=''122920''>things</span> <span m=''123420''>that</span>
  <span m=''123670''>we</span> <span m=''123830''>didn''t</span> <span m=''124140''>expect</span>
  <span m=''124540''>students</span> <span m=''124930''>to</span> <span m=''125710''>cover</span>
  <span m=''126080''>for</span> <span m=''126760''>like</span> <span m=''127010''>on</span>
  <span m=''127280''>feeding</span> <span m=''127630''>invalid</span> <span m=''128120''>values</span>
  <span m=''128610''>to</span> <span m=''129000''>better</span> <span m=''129340''>a</span>
  <span m=''129710''>set</span> <span m=''130030''>and better</span> <span m=''130360''>a</span>
  <span m=''130630''>get</span> <span m=''131360''>or</span> <span m=''132110''>testing</span>
  <span m=''132510''>for</span> <span m=''132670''>private</span> <span m=''133150''>functions</span>
  <span m=''133610''>to</span> <span m=''133730''>their</span> <span m=''133960''>implementations.</span>
  <span m=''134830''>So</span> <span m=''135110''>in</span> <span m=''135240''>reality</span>
  <span m=''136260''>they</span> <span m=''136530''>had</span> <span m=''137030''>better</span>
  <span m=''137310''>test</span> <span m=''137550''>suites</span> <span m=''137890''>than</span>
  <span m=''138180''>the</span> <span m=''138820''>coverage</span> <span m=''139190''>score</span>
  <span m=''139460''>would</span> <span m=''139630''>indicate.</span> </p><p><span
  m=''146970''>CHARLES LEISERSON: So</span> <span m=''147150''>what</span> <span m=''147280''>are</span>
  <span m=''147310''>the</span> <span m=''147400''>lessons</span> <span m=''148000''>that</span>
  <span m=''148140''>one</span> <span m=''148340''>draws</span> <span m=''148730''>from</span>
  <span m=''148880''>this?</span> <span m=''151430''>So</span> <span m=''152140''>professional</span>
  <span m=''152710''>engineers</span> <span m=''153350''>know</span> <span m=''153500''>what</span>
  <span m=''153690''>the</span> <span m=''153780''>lessons</span> <span m=''154270''>are.</span>
  <span m=''155270''>So</span> <span m=''155490''>the</span> <span m=''155590''>lessons</span>
  <span m=''156100''>are</span> <span m=''157140''>that it</span> <span m=''157270''>is</span>
  <span m=''157380''>actually</span> <span m=''157810''>better,</span> <span m=''158730''>if</span>
  <span m=''158910''>you</span> <span m=''159080''>have</span> <span m=''159250''>a</span>
  <span m=''159320''>coding</span> <span m=''159720''>problem</span> <span m=''160400''>to</span>
  <span m=''160550''>do,</span> <span m=''161430''>to</span> <span m=''161570''>write</span>
  <span m=''161870''>tests</span> <span m=''162330''>first.</span> <span m=''164910''>Before</span>
  <span m=''165360''>you</span> <span m=''165540''>code</span> <span m=''166020''>you</span>
  <span m=''166250''>write</span> <span m=''166580''>your</span> <span m=''166710''>tests.</span>
  </p><p><span m=''168850''>And</span> <span m=''169370''>that</span> <span m=''169620''>actually</span>
  <span m=''170610''>speeds</span> <span m=''171340''>the</span> <span m=''171440''>development</span>
  <span m=''172250''>of</span> <span m=''172360''>fast</span> <span m=''172820''>correct</span>
  <span m=''173230''>code.</span> <span m=''173880''>It''s</span> <span m=''174130''>actually</span>
  <span m=''174400''>faster.</span> <span m=''175080''>You</span> <span m=''175220''>get</span>
  <span m=''175490''>to</span> <span m=''175570''>the</span> <span m=''175870''>end</span>
  <span m=''176430''>result</span> <span m=''176840''>much</span> <span m=''177110''>faster.</span>
  <span m=''178340''>Because</span> <span m=''178770''>whenever</span> <span m=''179230''>you</span>
  <span m=''179420''>make</span> <span m=''179870''>an</span> <span m=''180570''>error</span>
  <span m=''181070''>in</span> <span m=''181110''>your</span> <span m=''181870''>program,</span>
  <span m=''182650''>you</span> <span m=''182820''>instantly</span> <span m=''183480''>know</span>
  <span m=''185036''>that</span> <span m=''185400''>you</span> <span m=''185630''>may</span>
  <span m=''185890''>have</span> <span m=''186150''>a</span> <span m=''186200''>problem</span>
  <span m=''186810''>rather</span> <span m=''187150''>than</span> <span m=''187360''>thinking</span>
  <span m=''187790''>that</span> <span m=''187910''>you''re</span> <span m=''188060''>doing</span>
  <span m=''188340''>something</span> <span m=''188740''>OK</span> <span m=''189940''>and</span>
  <span m=''190190''>then</span> <span m=''190380''>discovering</span> <span m=''191480''>that,</span>
  <span m=''191650''>oh,</span> <span m=''192020''>in</span> <span m=''192200''>fact</span>
  <span m=''193860''>your</span> <span m=''194330''>code</span> <span m=''194570''>is,</span>
  <span m=''194700''>in</span> <span m=''194800''>fact,</span> <span m=''195120''>incorrect,</span>
  <span m=''195680''>and</span> <span m=''195770''>you''re</span> <span m=''195890''>working</span>
  <span m=''196270''>away</span> <span m=''197010''>optimizing</span> <span m=''197720''>something</span>
  <span m=''198120''>that''s</span> <span m=''198320''>not</span> <span m=''198530''>working</span>
  <span m=''202690''>So</span> <span m=''203240''>before</span> <span m=''203730''>coding,</span>
  <span m=''204360''>it''s</span> <span m=''204540''>highly</span> <span m=''205030''>recommended</span>
  <span m=''205650''>that</span> <span m=''205700''>you</span> <span m=''205840''>write</span>
  <span m=''206150''>test.</span> </p><p><span m=''206620''>Also</span> <span m=''207030''>if</span>
  <span m=''207180''>you</span> <span m=''207310''>find</span> <span m=''207700''>a</span>
  <span m=''207750''>bug,</span> <span m=''210160''>when</span> <span m=''210340''>you</span>
  <span m=''210430''>find</span> <span m=''210740''>a</span> <span m=''210780''>bug,</span>
  <span m=''211270''>the</span> <span m=''211360''>first</span> <span m=''211740''>thing</span>
  <span m=''211890''>you</span> <span m=''211990''>should</span> <span m=''212220''>do</span>
  <span m=''212610''>is</span> <span m=''212830''>write</span> <span m=''213120''>a</span>
  <span m=''213180''>test</span> <span m=''214630''>for</span> <span m=''214770''>that</span>
  <span m=''215050''>bug</span> <span m=''215360''>if</span> <span m=''215450''>it</span>
  <span m=''215560''>wasn''t</span> <span m=''215840''>already</span> <span m=''216170''>covered.</span>
  <span m=''218310''>Then</span> <span m=''218650''>you</span> <span m=''218780''>fix</span>
  <span m=''219120''>the</span> <span m=''219220''>bug.</span> <span m=''220490''>And</span>
  <span m=''220660''>then</span> <span m=''220790''>you</span> <span m=''220890''>make</span>
  <span m=''221130''>sure</span> <span m=''221390''>that</span> <span m=''221560''>your</span>
  <span m=''221700''>test</span> <span m=''222180''>now,</span> <span m=''223400''>that</span>
  <span m=''223560''>your</span> <span m=''223680''>new</span> <span m=''223860''>implementation,</span>
  <span m=''224530''>passes</span> <span m=''225050''>that</span> <span m=''225330''>particular</span>
  <span m=''226380''>one.</span> <span m=''226830''>Professional</span> <span m=''227450''>engineers</span>
  <span m=''227930''>know</span> <span m=''228140''>this.</span> <span m=''228850''>Professional</span>
  <span m=''229380''>software</span> <span m=''229750''>developers</span> <span m=''230260''>know</span>
  <span m=''230440''>this.</span> <span m=''232310''>It</span> <span m=''232520''>comes</span>
  <span m=''234070''>hard.</span> <span m=''234360''>And</span> <span m=''234650''>if</span>
  <span m=''234750''>you</span> <span m=''234880''>want</span> <span m=''235380''>a</span>
  <span m=''235490''>job</span> <span m=''235980''>at</span> <span m=''237230''>any</span>
  <span m=''237510''>top</span> <span m=''237860''>flight</span> <span m=''238180''>software</span>
  <span m=''238770''>firm,</span> <span m=''239760''>they''re</span> <span m=''239900''>going</span>
  <span m=''240010''>to</span> <span m=''240050''>expect</span> <span m=''240530''>that</span>
  <span m=''240690''>you</span> <span m=''241155''>know</span> <span m=''241620''>that</span>
  <span m=''241770''>you</span> <span m=''241870''>write</span> <span m=''242120''>tests</span>
  <span m=''242520''>first</span> <span m=''243660''>before</span> <span m=''244100''>you</span>
  <span m=''244350''>do</span> <span m=''244490''>coding.</span> </p><p><span m=''248100''>The</span>
  <span m=''248200''>second</span> <span m=''249090''>lesson</span> <span m=''249640''>isn''t</span>
  <span m=''249980''>quite</span> <span m=''250200''>so</span> <span m=''250530''>obvious</span>
  <span m=''251410''>from</span> <span m=''251700''>this.</span> <span m=''252030''>But</span>
  <span m=''252150''>it''s</span> <span m=''252300''>the</span> <span m=''252360''>second</span>
  <span m=''252680''>lesson</span> <span m=''253140''>that</span> <span m=''253380''>I</span>
  <span m=''253490''>think</span> <span m=''253730''>some</span> <span m=''254020''>people</span>
  <span m=''254780''>experienced</span> <span m=''255330''>in</span> <span m=''255420''>the</span>
  <span m=''255510''>class</span> <span m=''256060''>which</span> <span m=''256230''>was</span>
  <span m=''258880''>the</span> <span m=''259089''>idea</span> <span m=''259370''>of</span>
  <span m=''259450''>putting</span> <span m=''259750''>you</span> <span m=''259980''>in</span>
  <span m=''260120''>groups,</span> <span m=''260570''>in</span> <span m=''260670''>particular</span>
  <span m=''261149''>in</span> <span m=''261279''>pairs,</span> <span m=''261920''>was</span>
  <span m=''262089''>not</span> <span m=''262410''>so</span> <span m=''262530''>that</span>
  <span m=''262650''>you</span> <span m=''262800''>could</span> <span m=''263000''>do</span>
  <span m=''263140''>divide</span> <span m=''263570''>and</span> <span m=''263710''>conquer</span>
  <span m=''264240''>on</span> <span m=''264470''>the</span> <span m=''264560''>code.</span>
  <span m=''266930''>It</span> <span m=''267050''>was</span> <span m=''267220''>to</span>
  <span m=''267320''>do</span> <span m=''267470''>pair</span> <span m=''267830''>programming.</span>
  </p><p><span m=''269550''>And</span> <span m=''269820''>what</span> <span m=''269980''>we</span>
  <span m=''270090''>found</span> <span m=''270550''>was</span> <span m=''270820''>that</span>
  <span m=''271590''>a</span> <span m=''271680''>bunch</span> <span m=''271960''>of</span>
  <span m=''272080''>groups</span> <span m=''273380''>divided</span> <span m=''273850''>up</span>
  <span m=''274010''>the</span> <span m=''274100''>work.</span> <span m=''275540''>And</span>
  <span m=''275670''>they</span> <span m=''275770''>said,</span> <span m=''276030''>OK,</span>
  <span m=''276310''>it''ll</span> <span m=''276500''>go</span> <span m=''276660''>faster</span>
  <span m=''277220''>if</span> <span m=''277310''>you</span> <span m=''277460''>do</span>
  <span m=''277610''>this</span> <span m=''277820''>one</span> <span m=''278000''>and</span>
  <span m=''278150''>I</span> <span m=''278220''>do</span> <span m=''278350''>that</span>
  <span m=''278630''>one.</span> <span m=''279800''>Once</span> <span m=''280100''>again</span>
  <span m=''280500''>that''s</span> <span m=''280720''>probably</span> <span m=''281390''>a</span>
  <span m=''281440''>mistake.</span> <span m=''282810''>If</span> <span m=''282940''>you</span>
  <span m=''283110''>can</span> <span m=''283280''>sit</span> <span m=''283640''>together</span>
  <span m=''284200''>and</span> <span m=''284370''>take</span> <span m=''284670''>turns</span>
  <span m=''285030''>at</span> <span m=''285120''>the</span> <span m=''285220''>keyboard</span>
  <span m=''287010''>making</span> <span m=''287470''>the</span> <span m=''287560''>changes,</span>
  <span m=''288130''>it</span> <span m=''288250''>may</span> <span m=''288450''>seem</span>
  <span m=''288700''>like</span> <span m=''288910''>it''s</span> <span m=''289110''>going</span>
  <span m=''289370''>slower</span> <span m=''289810''>to</span> <span m=''289890''>begin</span>
  <span m=''290210''>with,</span> <span m=''291150''>but</span> <span m=''291270''>it''s</span>
  <span m=''291380''>amazing</span> <span m=''292030''>how</span> <span m=''292220''>many</span>
  <span m=''292540''>errors</span> <span m=''292910''>you</span> <span m=''293070''>catch</span>
  <span m=''293510''>and</span> <span m=''293580''>how</span> <span m=''293790''>quickly</span>
  <span m=''294210''>you</span> <span m=''294320''>find</span> <span m=''294700''>your</span>
  <span m=''294870''>errors</span> <span m=''296640''>because</span> <span m=''296990''>you''re</span>
  <span m=''297110''>just</span> <span m=''297890''>talking</span> <span m=''298350''>with</span>
  <span m=''298500''>each</span> <span m=''298700''>other.</span> <span m=''299560''>And</span>
  <span m=''300140''>it''s</span> <span m=''300310''>like,</span> <span m=''300560''>oh,</span>
  <span m=''300920''>duh.</span> </p><p><span m=''302990''>So</span> <span m=''304140''>good</span>
  <span m=''304420''>programmers</span> <span m=''305010''>know</span> <span m=''305230''>this.</span>
  <span m=''306860''>That</span> <span m=''307380''>it</span> <span m=''307580''>really</span>
  <span m=''307850''>helps</span> <span m=''308530''>to</span> <span m=''308610''>have</span>
  <span m=''308710''>more</span> <span m=''309010''>than</span> <span m=''309190''>one</span>
  <span m=''309460''>person</span> <span m=''310020''>understand</span> <span m=''310710''>what''s</span>
  <span m=''310950''>going</span> <span m=''311220''>on in</span> <span m=''311480''>the</span>
  <span m=''311570''>code.</span> <span m=''312560''>So</span> <span m=''312770''>the</span>
  <span m=''312860''>people</span> <span m=''313320''>who</span> <span m=''313480''>had</span>
  <span m=''313920''>difficulty</span> <span m=''314540''>with</span> <span m=''314710''>their</span>
  <span m=''314870''>partners</span> <span m=''315580''>one</span> <span m=''315870''>way</span>
  <span m=''316010''>or</span> <span m=''316120''>another</span> <span m=''317210''>often</span>
  <span m=''317660''>did</span> <span m=''317850''>not,</span> <span m=''318350''>it</span>
  <span m=''318490''>was</span> <span m=''318650''>partly</span> <span m=''319080''>because</span>
  <span m=''319660''>they</span> <span m=''319860''>just</span> <span m=''320110''>divided</span>
  <span m=''320550''>up</span> <span m=''320700''>the</span> <span m=''320790''>work,</span>
  <span m=''321530''>you''re</span> <span m=''321760''>responsible</span> <span m=''322230''>for</span>
  <span m=''322350''>that,</span> <span m=''322560''>oh,</span> <span m=''322760''>we</span>
  <span m=''322850''>got</span> <span m=''322990''>a</span> <span m=''323040''>bad</span>
  <span m=''323340''>grade</span> <span m=''323560''>on</span> <span m=''323640''>that,</span>
  <span m=''323860''>that''s</span> <span m=''324070''>your</span> <span m=''324230''>fault.</span>
  <span m=''325290''>No,</span> <span m=''325620''>both</span> <span m=''325970''>partners</span>
  <span m=''326840''>own</span> <span m=''327140''>that</span> <span m=''327390''>grade</span>
  <span m=''327730''>100%.</span> <span m=''329540''>And</span> <span m=''329730''>the</span>
  <span m=''329800''>best</span> <span m=''330170''>way</span> <span m=''330290''>to</span>
  <span m=''330420''>ensure</span> <span m=''333850''>is</span> <span m=''334130''>to</span>
  <span m=''334490''>work</span> <span m=''334710''>together.</span> </p><p><span
  m=''335220''>Now,</span> <span m=''335780''>this</span> <span m=''336000''>sometimes</span>
  <span m=''336570''>flies</span> <span m=''336970''>in</span> <span m=''337050''>the</span>
  <span m=''337130''>face</span> <span m=''337530''>of</span> <span m=''337640''>people</span>
  <span m=''338020''>who</span> <span m=''338650''>believe</span> <span m=''339060''>that</span>
  <span m=''339240''>they</span> <span m=''339440''>are</span> <span m=''340150''>clever</span>
  <span m=''340465''>or</span> <span m=''340780''>more</span> <span m=''341000''>experienced</span>
  <span m=''341720''>than</span> <span m=''341860''>somebody,</span> <span m=''342440''>than</span>
  <span m=''342600''>their</span> <span m=''342740''>partner,</span> <span m=''343640''>oh,</span>
  <span m=''343830''>I</span> <span m=''343940''>can</span> <span m=''344110''>do</span>
  <span m=''344220''>this</span> <span m=''344380''>much</span> <span m=''344580''>better</span>
  <span m=''344910''>on</span> <span m=''345040''>my</span> <span m=''345270''>own.</span>
  <span m=''347720''>Usually,</span> <span m=''348900''>that''s</span> <span m=''349230''>true</span>
  <span m=''349510''>for</span> <span m=''349690''>little</span> <span m=''350020''>projects,</span>
  <span m=''350780''>but</span> <span m=''351040''>as</span> <span m=''351280''>the</span>
  <span m=''351370''>projects</span> <span m=''353150''>get</span> <span m=''353370''>bigger</span>
  <span m=''354810''>that</span> <span m=''355230''>becomes</span> <span m=''355710''>a</span>
  <span m=''355760''>much</span> <span m=''355990''>harder</span> <span m=''359390''>situation</span>
  <span m=''360080''>to</span> <span m=''360170''>deal</span> <span m=''360460''>with.</span>
  <span m=''361350''>It</span> <span m=''361910''>becomes</span> <span m=''362330''>the</span>
  <span m=''362420''>case</span> <span m=''362760''>that</span> <span m=''362860''>you</span>
  <span m=''362970''>really</span> <span m=''363270''>want</span> <span m=''364060''>two</span>
  <span m=''364210''>brains</span> <span m=''364680''>looking</span> <span m=''364980''>at</span>
  <span m=''365070''>the</span> <span m=''365160''>same</span> <span m=''365400''>thing,</span>
  <span m=''366800''>four</span> <span m=''367190''>eyes</span> <span m=''367540''>as</span>
  <span m=''367670''>opposed</span> <span m=''368060''>to</span> <span m=''368790''>two</span>
  <span m=''369100''>eyes</span> <span m=''369360''>looking</span> <span m=''369610''>at</span>
  <span m=''369740''>things.</span> </p><p><span m=''372310''>But</span> <span m=''372620''>I</span>
  <span m=''372710''>think,</span> <span m=''372930''>in</span> <span m=''373060''>particular,</span>
  <span m=''374410''>before</span> <span m=''374930''>coding</span> <span m=''375320''>write</span>
  <span m=''375610''>test.</span> <span m=''376060''>And</span> <span m=''376240''>we</span>
  <span m=''376380''>are</span> <span m=''376470''>right</span> <span m=''376730''>now</span>
  <span m=''376970''>working</span> <span m=''377440''>on</span> <span m=''377670''>improving</span>
  <span m=''378190''>the</span> <span m=''378320''>infrastructure.</span> <span m=''379620''>One</span>
  <span m=''379920''>of</span> <span m=''379990''>the</span> <span m=''380060''>things</span>
  <span m=''382130''>that</span> <span m=''382930''>they</span> <span m=''383190''>have</span>
  <span m=''383450''>in</span> <span m=''383580''>most</span> <span m=''383870''>companies</span>
  <span m=''384560''>is,</span> <span m=''384830''>at</span> <span m=''384940''>the</span>
  <span m=''385030''>very</span> <span m=''385940''>minimum,</span> <span m=''386470''>they</span>
  <span m=''386590''>have</span> <span m=''386760''>what''s</span> <span m=''386950''>called</span>
  <span m=''387200''>a</span> <span m=''387260''>nightly</span> <span m=''387670''>build.</span>
  <span m=''389510''>Nightly</span> <span m=''389890''>build</span> <span m=''390230''>says</span>
  <span m=''390530''>they</span> <span m=''390660''>take</span> <span m=''390950''>all</span>
  <span m=''391150''>the</span> <span m=''391230''>software,</span> <span m=''392160''>they</span>
  <span m=''392300''>build</span> <span m=''392710''>it,</span> <span m=''393130''>and</span>
  <span m=''393280''>then</span> <span m=''393400''>they</span> <span m=''393520''>run</span>
  <span m=''393740''>regression</span> <span m=''394280''>tests</span> <span m=''394900''>against</span>
  <span m=''395410''>it</span> <span m=''395800''>all</span> <span m=''396120''>night</span>
  <span m=''396570''>while</span> <span m=''396760''>everybody''s</span> <span m=''397540''>home</span>
  <span m=''397710''>sleeping.</span> <span m=''397990''>Come</span> <span m=''398180''>in</span>
  <span m=''398250''>the</span> <span m=''398410''>next</span> <span m=''398570''>morning,</span>
  <span m=''399510''>here''s</span> <span m=''399810''>the</span> <span m=''399900''>things</span>
  <span m=''400200''>that</span> <span m=''400280''>broke. And</span> <span m=''400680''>if</span>
  <span m=''400780''>you</span> <span m=''400890''>broke</span> <span m=''401230''>the</span>
  <span m=''401320''>build,</span> <span m=''403660''>you</span> <span m=''403810''>got</span>
  <span m=''403970''>some</span> <span m=''404120''>work</span> <span m=''404340''>to</span>
  <span m=''404450''>do</span> <span m=''404600''>that</span> <span m=''404830''>morning.</span>
  <span m=''406760''>And</span> <span m=''406990''>it''s</span> <span m=''407140''>generally</span>
  <span m=''407460''>not</span> <span m=''407590''>a</span> <span m=''407730''>good</span>
  <span m=''407950''>idea</span> <span m=''408200''>to</span> <span m=''408270''>break</span>
  <span m=''408570''>the</span> <span m=''408660''>build.</span> </p><p><span m=''410260''>What</span>
  <span m=''410890''>has</span> <span m=''411480''>been</span> <span m=''411670''>demonstrating,</span>
  <span m=''412300''>in</span> <span m=''412410''>fact,</span> <span m=''412890''>is</span>
  <span m=''413120''>that</span> <span m=''413280''>continuous</span> <span m=''414050''>build</span>
  <span m=''414350''>is</span> <span m=''414470''>even</span> <span m=''414730''>better.</span>
  <span m=''416520''>This</span> <span m=''416690''>is</span> <span m=''416850''>where,</span>
  <span m=''417160''>whenever</span> <span m=''417640''>you</span> <span m=''417790''>make</span>
  <span m=''417990''>a</span> <span m=''418060''>change to</span> <span m=''418420''>the</span>
  <span m=''418540''>program,</span> <span m=''418940''>you</span> <span m=''419060''>run</span>
  <span m=''419230''>the</span> <span m=''419300''>full</span> <span m=''419540''>suite</span>
  <span m=''419850''>of</span> <span m=''420890''>tests</span> <span m=''421380''>on</span>
  <span m=''421580''>it.</span> <span m=''422250''>And</span> <span m=''422760''>we''re</span>
  <span m=''423160''>going</span> <span m=''423260''>to</span> <span m=''423330''>look</span>
  <span m=''423610''>into</span> <span m=''424070''>it.</span> <span m=''424160''>We</span>
  <span m=''424290''>have</span> <span m=''424460''>to</span> <span m=''424560''>see</span>
  <span m=''424750''>what</span> <span m=''424900''>our</span> <span m=''425100''>resources</span>
  <span m=''425690''>are.</span> <span m=''425830''>As</span> <span m=''425910''>you
  know,</span> <span m=''427500''>our</span> <span m=''427660''>TAs</span> <span m=''428110''>are</span>
  <span m=''428440''>a</span> <span m=''428730''>limited</span> <span m=''429130''>resource.</span>
  </p><p><span m=''429660''>But</span> <span m=''429820''>we''re going to</span> <span
  m=''429980''>look</span> <span m=''430220''>into</span> <span m=''430490''>seeing</span>
  <span m=''430890''>whether</span> <span m=''431150''>we</span> <span m=''431280''>can</span>
  <span m=''431440''>provide</span> <span m=''431820''>more</span> <span m=''432060''>of</span>
  <span m=''432110''>that</span> <span m=''432300''>kind</span> <span m=''432510''>of</span>
  <span m=''432580''>infrastructure</span> <span m=''433660''>on</span> <span m=''433820''>some
  of the</span> <span m=''434030''>later</span> <span m=''434430''>projects</span>
  <span m=''435350''>for</span> <span m=''435490''>you</span> <span m=''435640''>folks.</span>
  <span m=''435940''>So</span> <span m=''436010''>you</span> <span m=''436120''>can</span>
  <span m=''436240''>sort</span> <span m=''436420''>of</span> <span m=''436470''>see</span>
  <span m=''437220''>the</span> <span m=''437360''>matrix</span> <span m=''437860''>that</span>
  <span m=''437970''>we</span> <span m=''438190''>eventually</span> <span m=''438500''>got</span>
  <span m=''438790''>to</span> <span m=''438860''>you.</span> <span m=''439370''>You</span>
  <span m=''439500''>can</span> <span m=''439640''>see</span> <span m=''439840''>that</span>
  <span m=''440070''>develop</span> <span m=''440490''>in</span> <span m=''440590''>real</span>
  <span m=''440860''>time.</span> <span m=''441920''>How am</span> <span m=''442110''>I</span>
  <span m=''442330''>doing</span> <span m=''442590''>against</span> <span m=''442940''>other</span>
  <span m=''443260''>people''s</span> <span m=''443790''>tests?</span> <span m=''444650''>How</span>
  <span m=''444850''>are</span> <span m=''444930''>they</span> <span m=''445110''>doing</span>
  <span m=''445350''>against</span> <span m=''445700''>my</span> <span m=''445880''>tests,</span>
  <span m=''446260''>et</span> <span m=''446370''>cetera?</span> <span m=''449600''>So</span>
  <span m=''449780''>we''ll</span> <span m=''449900''>see</span> <span m=''450070''>whether</span>
  <span m=''450300''>we</span> <span m=''450400''>can</span> <span m=''450550''>do</span>
  <span m=''450660''>that.</span> </p><p><span m=''451410''>But</span> <span m=''451730''>what''s</span>
  <span m=''452090''>funny</span> <span m=''452600''>is</span> <span m=''452850''>you</span>
  <span m=''453000''>think</span> <span m=''453430''>that</span> <span m=''453600''>it''d</span>
  <span m=''453790''>be</span> <span m=''453930''>faster</span> <span m=''454230''>to</span>
  <span m=''454530''>just</span> <span m=''454810''>code</span> <span m=''455190''>and</span>
  <span m=''455330''>do</span> <span m=''455520''>it.</span> <span m=''455950''>Computer</span>
  <span m=''456310''>science</span> <span m=''456690''>is</span> <span m=''456890''>full</span>
  <span m=''457170''>of</span> <span m=''457300''>wonderful</span> <span m=''457720''>paradoxes.</span>
  <span m=''459120''>And</span> <span m=''459430''>one</span> <span m=''459620''>of</span>
  <span m=''459740''>them</span> <span m=''459970''>is</span> <span m=''461430''>that</span>
  <span m=''462710''>doing</span> <span m=''463000''>things</span> <span m=''463360''>like</span>
  <span m=''463750''>writing</span> <span m=''464280''>the</span> <span m=''464440''>extra</span>
  <span m=''464850''>code</span> <span m=''466270''>to</span> <span m=''466420''>test</span>
  <span m=''467340''>is</span> <span m=''467500''>actually</span> <span m=''467850''>faster</span>
  <span m=''468540''>than</span> <span m=''468720''>not</span> <span m=''468990''>writing</span>
  <span m=''469250''>it,</span> <span m=''471120''>surprisingly.</span> <span m=''472650''>It</span>
  <span m=''472890''>really</span> <span m=''473130''>gets</span> <span m=''473400''>you
  to</span> <span m=''473560''>the</span> <span m=''473810''>end</span> <span m=''474300''>result</span>
  <span m=''474710''>a</span> <span m=''474780''>lot</span> <span m=''475040''>faster.</span>
  <span m=''475460''>Any</span> <span m=''475660''>questions</span> <span m=''476080''>about</span>
  <span m=''476310''>that?</span> <span m=''479200''>Any</span> <span m=''479380''>comments</span>
  <span m=''479810''>about</span> <span m=''480050''>that?</span> </p><p><span m=''483410''>Let''s</span>
  <span m=''483620''>talk</span> <span m=''483850''>about</span> <span m=''484130''>our</span>
  <span m=''488020''>today.</span> <span m=''488330''>So</span> <span m=''488470''>today</span>
  <span m=''488790''>we''re</span> <span m=''488930''>going</span> <span m=''489030''>to</span>
  <span m=''489130''>talk</span> <span m=''489400''>mostly</span> <span m=''489960''>about</span>
  <span m=''490260''>single</span> <span m=''490600''>threaded</span> <span m=''491000''>performance.</span>
  <span m=''492990''>This</span> <span m=''493190''>is</span> <span m=''493370''>one</span>
  <span m=''493810''>instruction</span> <span m=''494420''>stream</span> <span m=''494830''>that</span>
  <span m=''494910''>you''re</span> <span m=''495020''>trying</span> <span m=''495170''>to</span>
  <span m=''495330''>make</span> <span m=''495530''>go</span> <span m=''495690''>fast.</span>
  <span m=''496970''>But</span> <span m=''497460''>if</span> <span m=''497530''>you</span>
  <span m=''497650''>look</span> <span m=''497850''>at</span> <span m=''497960''>today''s</span>
  <span m=''499390''>computing</span> <span m=''500600''>milieu,</span> <span m=''502570''>how</span>
  <span m=''503140''>all</span> <span m=''503470''>of</span> <span m=''503620''>the</span>
  <span m=''503910''>computers</span> <span m=''504360''>are</span> <span m=''504440''>used,</span>
  <span m=''505760''>what do</span> <span m=''505930''>you</span> <span m=''506020''>have?</span>
  </p><p><span m=''506380''>You''ve got</span> <span m=''506660''>networks</span>
  <span m=''507480''>of</span> <span m=''508060''>multi-core</span> <span m=''508800''>clusters.</span>
  <span m=''509650''>It''s</span> <span m=''509990''>parallelism</span> <span m=''510660''>everywhere.</span>
  <span m=''512270''>You''ve</span> <span m=''512400''>got</span> <span m=''512530''>shared</span>
  <span m=''512909''>memory</span> <span m=''513250''>among</span> <span m=''513559''>processors</span>
  <span m=''514270''>within</span> <span m=''514539''>a</span> <span m=''514630''>chip.</span>
  <span m=''515950''>You''ve</span> <span m=''516100''>got</span> <span m=''516299''>message</span>
  <span m=''516720''>passing</span> <span m=''517280''>among</span> <span m=''517730''>machines</span>
  <span m=''518230''>in</span> <span m=''518309''>a</span> <span m=''518390''>cluster.</span>
  <span m=''519409''>You''ve</span> <span m=''519590''>got</span> <span m=''519830''>network</span>
  <span m=''520179''>protocols</span> <span m=''520880''>among</span> <span m=''521179''>clusters</span>
  <span m=''521809''>so that</span> <span m=''521919''>you</span> <span m=''522049''>can</span>
  <span m=''522210''>do</span> <span m=''522990''>wide</span> <span m=''523440''>area</span>
  <span m=''525820''>things.</span> <span m=''527400''>Yet</span> <span m=''527590''>we''re</span>
  <span m=''527750''>saying,</span> <span m=''528270''>no,</span> <span m=''528540''>let''s</span>
  <span m=''528770''>take</span> <span m=''529000''>a</span> <span m=''529070''>look</span>
  <span m=''529380''>at</span> <span m=''529560''>what</span> <span m=''529700''>happens</span>
  <span m=''530300''>on</span> <span m=''530620''>one</span> <span m=''530970''>core</span>
  <span m=''532040''>on</span> <span m=''532230''>one</span> <span m=''532470''>machine.</span>
  </p><p><span m=''534320''>So</span> <span m=''534530''>why</span> <span m=''534940''>is</span>
  <span m=''535190''>that</span> <span m=''536480''>important</span> <span m=''537720''>to</span>
  <span m=''537850''>focus</span> <span m=''538350''>first</span> <span m=''539420''>on</span>
  <span m=''539680''>what</span> <span m=''539920''>one</span> <span m=''540230''>core</span>
  <span m=''540570''>can</span> <span m=''540730''>do?</span> <span m=''542590''>Why</span>
  <span m=''542890''>study</span> <span m=''543290''>single</span> <span m=''543700''>threaded</span>
  <span m=''544120''>performance</span> <span m=''545260''>at</span> <span m=''545380''>all?</span>
  <span m=''545530''>Let''s</span> <span m=''545700''>just</span> <span m=''545880''>go</span>
  <span m=''546020''>do</span> <span m=''546140''>the</span> <span m=''546250''>parallel</span>
  <span m=''546640''>stuff.</span> <span m=''546920''>That''s</span> <span m=''547120''>more</span>
  <span m=''547300''>fun</span> <span m=''547540''>anyway.</span> </p><p><span m=''550820''>Well,</span>
  <span m=''551050''>there</span> <span m=''551450''>are</span> <span m=''551550''>a</span>
  <span m=''551670''>couple</span> <span m=''551800''>of</span> <span m=''551930''>reasons</span>
  <span m=''552330''>that</span> <span m=''552420''>I</span> <span m=''552500''>can</span>
  <span m=''552680''>think</span> <span m=''552930''>of.</span> <span m=''553630''>The</span>
  <span m=''553750''>first</span> <span m=''554160''>one</span> <span m=''555170''>is</span>
  <span m=''558030''>at</span> <span m=''558580''>the</span> <span m=''558760''>end</span>
  <span m=''558940''>of</span> <span m=''559020''>the</span> <span m=''559100''>day,</span>
  <span m=''561280''>even</span> <span m=''561560''>if</span> <span m=''561640''>you''ve</span>
  <span m=''561790''>got</span> <span m=''562010''>something</span> <span m=''562370''>running</span>
  <span m=''563400''>widely</span> <span m=''563960''>in</span> <span m=''564090''>parallel,</span>
  <span m=''565020''>the</span> <span m=''565110''>code</span> <span m=''565500''>is</span>
  <span m=''565640''>running</span> <span m=''567230''>in</span> <span m=''567410''>each</span>
  <span m=''567670''>core</span> <span m=''568110''>in</span> <span m=''568230''>a</span>
  <span m=''568290''>single</span> <span m=''568660''>threaded</span> <span m=''569060''>manner.</span>
  <span m=''569560''>You</span> <span m=''569660''>just</span> <span m=''569880''>have</span>
  <span m=''570010''>a</span> <span m=''570060''>bunch</span> <span m=''570370''>of</span>
  <span m=''570450''>them.</span> <span m=''572050''>And</span> <span m=''572260''>so</span>
  <span m=''573100''>if</span> <span m=''573320''>you''ve</span> <span m=''573510''>given</span>
  <span m=''573920''>up</span> <span m=''574790''>a</span> <span m=''574880''>factor</span>
  <span m=''575360''>of</span> <span m=''575510''>two</span> <span m=''575860''>or
  a</span> <span m=''576060''>factor</span> <span m=''576510''>of</span> <span m=''576600''>four</span>
  <span m=''577480''>in</span> <span m=''577660''>performance</span> <span m=''578760''>or</span>
  <span m=''578930''>even</span> <span m=''579150''>more,</span> <span m=''579900''>as</span>
  <span m=''580110''>you''re</span> <span m=''580260''>aware,</span> <span m=''580550''>you
  can</span> <span m=''580690''>sometimes</span> <span m=''581130''>make</span> <span
  m=''581390''>it</span> <span m=''581750''>orders</span> <span m=''582100''>of</span>
  <span m=''582180''>magnitude,</span> <span m=''582840''>but</span> <span m=''583450''>in</span>
  <span m=''583620''>performance</span> <span m=''584240''>what</span> <span m=''584430''>you''re</span>
  <span m=''584570''>saying</span> <span m=''585040''>is that</span> <span m=''585190''>you''re</span>
  <span m=''585430''>going</span> <span m=''585500''>to</span> <span m=''585990''>end</span>
  <span m=''586170''>up</span> <span m=''586300''>using</span> <span m=''587010''>much</span>
  <span m=''587330''>more</span> <span m=''587640''>resources</span> <span m=''589030''>to</span>
  <span m=''589160''>do</span> <span m=''589340''>your</span> <span m=''590040''>particular</span>
  <span m=''590580''>job</span> <span m=''590930''>in</span> <span m=''591060''>parallel.</span>
  <span m=''592060''>And</span> <span m=''592220''>resources</span> <span m=''592840''>is</span>
  <span m=''592970''>money.</span> </p><p><span m=''593690''>So</span> <span m=''593830''>if</span>
  <span m=''593910''>I</span> <span m=''594050''>can</span> <span m=''594230''>do</span>
  <span m=''594400''>the</span> <span m=''594510''>job</span> <span m=''594950''>with</span>
  <span m=''595560''>a</span> <span m=''595940''>cluster</span> <span m=''596530''>of</span>
  <span m=''597200''>16</span> <span m=''600700''>processors</span> <span m=''603140''>and</span>
  <span m=''603360''>somebody</span> <span m=''603690''>else</span> <span m=''603900''>can</span>
  <span m=''604070''>do</span> <span m=''604260''>it</span> <span m=''604560''>in</span>
  <span m=''604780''>a</span> <span m=''604870''>cluster</span> <span m=''605290''>with</span>
  <span m=''605440''>only</span> <span m=''605680''>four</span> <span m=''606000''>processors,</span>
  <span m=''607280''>hey,</span> <span m=''608300''>they</span> <span m=''608580''>just</span>
  <span m=''609430''>spent</span> <span m=''609900''>a</span> <span m=''609990''>quarter</span>
  <span m=''610660''>the</span> <span m=''610810''>amount</span> <span m=''611440''>on</span>
  <span m=''612360''>not</span> <span m=''612610''>just</span> <span m=''612940''>the</span>
  <span m=''614160''>capital</span> <span m=''614830''>investment</span> <span m=''615480''>in</span>
  <span m=''615660''>that</span> <span m=''616290''>hardware</span> <span m=''617080''>but</span>
  <span m=''617220''>also</span> <span m=''617520''>the</span> <span m=''617680''>operating</span>
  <span m=''618190''>costs</span> <span m=''619820''>of</span> <span m=''619960''>what</span>
  <span m=''620130''>it</span> <span m=''620260''>cost to</span> <span m=''620740''>actually</span>
  <span m=''621720''>cool</span> <span m=''622330''>and</span> <span m=''623820''>provide</span>
  <span m=''624300''>electricity</span> <span m=''624990''>to</span> <span m=''625500''>and</span>
  <span m=''625860''>maintain</span> <span m=''626430''>and</span> <span m=''626550''>so</span>
  <span m=''626740''>forth.</span> <span m=''627040''>All</span> <span m=''627270''>that</span>
  <span m=''627480''>gets</span> <span m=''627670''>much</span> <span m=''627920''>cheaper.</span>
  <span m=''629050''>So</span> <span m=''629230''>if</span> <span m=''629290''>you</span>
  <span m=''629410''>get</span> <span m=''629740''>good</span> <span m=''629950''>single</span>
  <span m=''630250''>thread</span> <span m=''630510''>performance,</span> <span m=''631000''>it</span>
  <span m=''631100''>translates.</span> <span m=''631730''>That''s</span> <span m=''631970''>kind</span>
  <span m=''632140''>of</span> <span m=''633050''>the</span> <span m=''633540''>direct</span>
  <span m=''634170''>reason.</span> </p><p><span m=''636300''>The</span> <span m=''636530''>indirect</span>
  <span m=''637130''>reason</span> <span m=''637740''>is,</span> <span m=''638420''>for</span>
  <span m=''638600''>studying</span> <span m=''638990''>it,</span> <span m=''639280''>is</span>
  <span m=''639580''>that</span> <span m=''639930''>many</span> <span m=''640290''>of</span>
  <span m=''640350''>the</span> <span m=''640430''>lessons</span> <span m=''640910''>will</span>
  <span m=''641010''>generalize.</span> <span m=''642160''>So</span> <span m=''642340''>things</span>
  <span m=''642620''>that</span> <span m=''642730''>we''ll</span> <span m=''642860''>see</span>
  <span m=''643160''>for</span> <span m=''643310''>single</span> <span m=''643670''>core,</span>
  <span m=''643910''>there</span> <span m=''644140''>is</span> <span m=''644230''>an</span>
  <span m=''644310''>analogy</span> <span m=''645310''>when</span> <span m=''645570''>you</span>
  <span m=''645630''>start</span> <span m=''645880''>looking</span> <span m=''646210''>at</span>
  <span m=''647260''>parallel</span> <span m=''647890''>and</span> <span m=''648190''>distributed</span>
  <span m=''648720''>systems.</span> <span m=''650640''>So</span> <span m=''650790''>that''s</span>
  <span m=''651000''>a</span> <span m=''651060''>little</span> <span m=''652130''>less</span>
  <span m=''652480''>concrete.</span> <span m=''653320''>But</span> <span m=''653570''>as</span>
  <span m=''653820''>you''ll</span> <span m=''653950''>see</span> <span m=''654190''>as</span>
  <span m=''654270''>you</span> <span m=''654360''>gain</span> <span m=''654610''>experience,</span>
  <span m=''655220''>you''ll</span> <span m=''655360''>see</span> <span m=''657200''>that</span>
  <span m=''657360''>there''s</span> <span m=''657600''>a</span> <span m=''657660''>lot</span>
  <span m=''658000''>of</span> <span m=''658150''>lessons</span> <span m=''658600''>that</span>
  <span m=''659030''>generalize</span> <span m=''659870''>to</span> <span m=''660430''>how</span>
  <span m=''660560''>do</span> <span m=''660630''>you</span> <span m=''660750''>think</span>
  <span m=''660980''>about</span> <span m=''661290''>performance</span> <span m=''662030''>no</span>
  <span m=''662190''>matter</span> <span m=''662430''>what</span> <span m=''662760''>the</span>
  <span m=''665330''>context.</span> </p><p><span m=''669660''>So</span> <span m=''669860''>what</span>
  <span m=''670030''>about</span> <span m=''670340''>a</span> <span m=''671680''>single</span>
  <span m=''672160''>threaded</span> <span m=''672500''>machine?</span> <span m=''672860''>What''s</span>
  <span m=''673090''>it</span> <span m=''673220''>like?</span> <span m=''674130''>So</span>
  <span m=''674320''>some</span> <span m=''674570''>of</span> <span m=''674610''>this</span>
  <span m=''674790''>is</span> <span m=''674920''>going</span> <span m=''675030''>to</span>
  <span m=''675070''>be</span> <span m=''675210''>a</span> <span m=''675270''>little</span>
  <span m=''675530''>bit</span> <span m=''675720''>review,</span> <span m=''676100''>but</span>
  <span m=''676280''>we''re</span> <span m=''676370''>going</span> <span m=''676470''>to</span>
  <span m=''676530''>just</span> <span m=''676710''>sort</span> <span m=''676860''>of</span>
  <span m=''676970''>go</span> <span m=''677150''>deeper.</span> <span m=''677590''>We''ve</span>
  <span m=''677730''>sort of</span> <span m=''678105''>been</span> <span m=''678830''>taking</span>
  <span m=''679210''>layers</span> <span m=''679590''>off</span> <span m=''679800''>the</span>
  <span m=''679970''>onion.</span> <span m=''680330''>And</span> <span m=''680470''>today</span>
  <span m=''680740''>we''re</span> <span m=''680880''>going</span> <span m=''680990''>to</span>
  <span m=''681560''>take</span> <span m=''681770''>a</span> <span m=''681820''>few</span>
  <span m=''682010''>more</span> <span m=''682210''>layers</span> <span m=''682600''>off</span>
  <span m=''682790''>the</span> <span m=''682930''>onion.</span> </p><p><span m=''683960''>So</span>
  <span m=''684170''>you</span> <span m=''684640''>have</span> <span m=''685140''>inside
  a</span> <span m=''685640''>processor</span> <span m=''686220''>core.</span> <span
  m=''686680''>You''ve</span> <span m=''686870''>got</span> <span m=''687590''>registers.</span>
  <span m=''688340''>You''ve</span> <span m=''688500''>got</span> <span m=''688670''>the</span>
  <span m=''688740''>functional</span> <span m=''689240''>units</span> <span m=''689650''>to</span>
  <span m=''689770''>do</span> <span m=''689990''>your</span> <span m=''690440''>ALU</span>
  <span m=''690930''>operations,</span> <span m=''692110''>floating</span> <span m=''692470''>point</span>
  <span m=''692750''>units,</span> <span m=''693800''>vector</span> <span m=''694230''>units</span>
  <span m=''694600''>these</span> <span m=''694880''>days,</span> <span m=''695930''>and</span>
  <span m=''696860''>all</span> <span m=''697120''>the</span> <span m=''697200''>stuff</span>
  <span m=''697540''>to</span> <span m=''697670''>do</span> <span m=''698290''>instruction,</span>
  <span m=''698870''>execution,</span> <span m=''699630''>and</span> <span m=''699760''>coordination,</span>
  <span m=''700950''>scheduling,</span> <span m=''701740''>out</span> <span m=''701920''>of</span>
  <span m=''702020''>order</span> <span m=''702300''>execution,</span> <span m=''702900''>and</span>
  <span m=''703070''>so</span> <span m=''703240''>forth.</span> <span m=''705100''>In</span>
  <span m=''705240''>addition</span> <span m=''705770''>then,</span> <span m=''706010''>you</span>
  <span m=''706150''>have</span> <span m=''706300''>a</span> <span m=''706360''>memory</span>
  <span m=''706670''>hierarchy.</span> <span m=''708510''>Within</span> <span m=''708950''>the</span>
  <span m=''709060''>core,</span> <span m=''709370''>you</span> <span m=''709480''>typically</span>
  <span m=''709900''>have</span> <span m=''710140''>registers</span> <span m=''710780''>and</span>
  <span m=''711130''>L1</span> <span m=''711340''>and</span> <span m=''711440''>L2</span>
  <span m=''711810''>caches.</span> <span m=''712520''>And</span> <span m=''712800''>then</span>
  <span m=''713500''>outside</span> <span m=''714060''>the</span> <span m=''714140''>core</span>
  <span m=''714480''>often</span> <span m=''714790''>is</span> <span m=''714920''>the</span>
  <span m=''715080''>L3</span> <span m=''715480''>cache.</span> <span m=''717910''>DRAM</span>
  <span m=''718640''>memory, you</span> <span m=''719100''>may</span> <span m=''719240''>have</span>
  <span m=''719320''>a</span> <span m=''719400''>solid-state</span> <span m=''720070''>drive</span>
  <span m=''720480''>these</span> <span m=''720760''>days</span> <span m=''721210''>and</span>
  <span m=''721360''>disk.</span> <span m=''722780''>And</span> <span m=''722930''>so</span>
  <span m=''723180''>in</span> <span m=''723350''>that</span> <span m=''723590''>context,</span>
  <span m=''724590''>you''re</span> <span m=''724710''>trying</span> <span m=''724950''>to</span>
  <span m=''725010''>make</span> <span m=''725240''>your</span> <span m=''725380''>code</span>
  <span m=''725670''>run</span> <span m=''725900''>fast.</span> </p><p><span m=''729540''>So</span>
  <span m=''729740''>when</span> <span m=''729900''>you</span> <span m=''730100''>compile</span>
  <span m=''731960''>the</span> <span m=''733680''>piece</span> <span m=''733900''>of</span>
  <span m=''734010''>code,</span> <span m=''734270''>so</span> <span m=''734360''>here</span>
  <span m=''734640''>I</span> <span m=''734730''>have</span> <span m=''735030''>a</span>
  <span m=''735100''>piece</span> <span m=''735320''>of</span> <span m=''735380''>code.</span>
  <span m=''735660''>I''m</span> <span m=''735870''>always</span> <span m=''736170''>amused</span>
  <span m=''736540''>when</span> <span m=''736670''>I</span> <span m=''736730''>put</span>
  <span m=''736930''>up</span> <span m=''737180''>a</span> <span m=''737420''>Fibonacci</span>
  <span m=''738550''>as</span> <span m=''738780''>the</span> <span m=''738870''>example.</span>
  <span m=''739370''>Because</span> <span m=''739680''>this</span> <span m=''739880''>is</span>
  <span m=''741160''>a</span> <span m=''741270''>really</span> <span m=''741630''>terrible</span>
  <span m=''742230''>way</span> <span m=''742490''>to</span> <span m=''742760''>compute</span>
  <span m=''743210''>Fibonacci</span> <span m=''743770''>numbers.</span> <span m=''745580''>So</span>
  <span m=''745730''>this</span> <span m=''745930''>is</span> <span m=''746100''>an</span>
  <span m=''746270''>exponential</span> <span m=''747110''>time</span> <span m=''747470''>algorithm</span>
  <span m=''747960''>for</span> <span m=''748100''>computing</span> <span m=''748530''>Fibonacci</span>
  <span m=''749060''>numbers.</span> <span m=''750120''>And</span> <span m=''751690''>you</span>
  <span m=''751830''>may</span> <span m=''751990''>be</span> <span m=''752140''>aware</span>
  <span m=''752460''>you</span> <span m=''752610''>can</span> <span m=''752760''>do</span>
  <span m=''752890''>this</span> <span m=''753110''>in</span> <span m=''753250''>linear</span>
  <span m=''753640''>time</span> <span m=''754740''>just</span> <span m=''754930''>by</span>
  <span m=''755100''>adding</span> <span m=''755420''>up</span> <span m=''755550''>from</span>
  <span m=''755680''>the</span> <span m=''755760''>bottom.</span> <span m=''756910''>In</span>
  <span m=''756990''>fact,</span> <span m=''757270''>if</span> <span m=''757340''>you</span>
  <span m=''757430''>take</span> <span m=''757670''>the</span> <span m=''757810''>algorithms</span>
  <span m=''758340''>course,</span> <span m=''758690''>you</span> <span m=''758800''>learn</span>
  <span m=''759070''>that</span> <span m=''759180''>you</span> <span m=''759270''>can</span>
  <span m=''759380''>actually</span> <span m=''759620''>do</span> <span m=''759760''>this</span>
  <span m=''759950''>in</span> <span m=''760040''>logarithmic</span> <span m=''760850''>time</span>
  <span m=''763050''>by</span> <span m=''763330''>matrix,</span> <span m=''764220''>recursive</span>
  <span m=''764710''>squaring</span> <span m=''765210''>of</span> <span m=''765290''>matrices.</span>
  </p><p><span m=''766770''>So</span> <span m=''767170''>it''s</span> <span m=''767320''>sort</span>
  <span m=''767510''>of</span> <span m=''767780''>interesting</span> <span m=''768240''>to</span>
  <span m=''768300''>put</span> <span m=''768450''>up</span> <span m=''768560''>something</span>
  <span m=''769040''>where</span> <span m=''769250''>we</span> <span m=''769370''>say</span>
  <span m=''769510''>we''re</span> <span m=''769620''>going</span> <span m=''769720''>to</span>
  <span m=''769790''>optimize</span> <span m=''770500''>this.</span> <span m=''772100''>And,</span>
  <span m=''772310''>of</span> <span m=''772360''>course,</span> <span m=''772580''>we''ll</span>
  <span m=''772700''>get</span> <span m=''772790''>a</span> <span m=''772880''>constant</span>
  <span m=''773360''>factor</span> <span m=''773730''>improvement</span> <span m=''774390''>on</span>
  <span m=''774570''>something</span> <span m=''774930''>like</span> <span m=''775190''>this.</span>
  <span m=''775800''>But,</span> <span m=''775940''>in</span> <span m=''776040''>fact,</span>
  <span m=''776370''>really</span> <span m=''776680''>this</span> <span m=''776840''>is</span>
  <span m=''776970''>a</span> <span m=''777050''>terrible</span> <span m=''777610''>program</span>
  <span m=''779030''>to</span> <span m=''779340''>write</span> <span m=''781390''>for</span>
  <span m=''781610''>optimization.</span> <span m=''782380''>But</span> <span m=''782610''>it''s</span>
  <span m=''783080''>good</span> <span m=''783290''>didactically.</span> <span m=''784720''>And</span>
  <span m=''784910''>Fibonacci</span> <span m=''785410''>numbers</span> <span m=''785710''>are</span>
  <span m=''785770''>fun</span> <span m=''786010''>anyway.</span> </p><p><span m=''787460''>So</span>
  <span m=''787650''>typically</span> <span m=''788080''>what</span> <span m=''788220''>happens</span>
  <span m=''788710''>is</span> <span m=''788930''>when</span> <span m=''789260''>you</span>
  <span m=''789740''>run</span> <span m=''790080''>GCC</span> <span m=''791770''>on</span>
  <span m=''791990''>your</span> <span m=''792890''>.C</span> <span m=''793120''>file</span>
  <span m=''794170''>and</span> <span m=''794480''>produce</span> <span m=''795790''>a</span>
  <span m=''796110''>binary,</span> <span m=''798100''>what</span> <span m=''798320''>happens</span>
  <span m=''798780''>is</span> <span m=''798930''>it</span> <span m=''799030''>produces</span>
  <span m=''799980''>the</span> <span m=''800230''>machine</span> <span m=''800640''>code,</span>
  <span m=''800920''>which</span> <span m=''801090''>is</span> <span m=''801190''>basically</span>
  <span m=''801690''>a</span> <span m=''801740''>string</span> <span m=''802490''>of</span>
  <span m=''802540''>bytes,</span> <span m=''803010''>zeros</span> <span m=''803300''>and</span>
  <span m=''803390''>ones.</span> <span m=''804810''>And</span> <span m=''805220''>that</span>
  <span m=''805540''>goes,</span> <span m=''806170''>when</span> <span m=''806350''>you</span>
  <span m=''806500''>run</span> <span m=''806950''>the</span> <span m=''807060''>program,</span>
  <span m=''807640''>that</span> <span m=''807860''>goes</span> <span m=''808300''>through</span>
  <span m=''808570''>the</span> <span m=''808670''>hardware</span> <span m=''809240''>interpreter.</span>
  <span m=''810650''>So</span> <span m=''810750''>the</span> <span m=''810830''>hardware
  of</span> <span m=''811310''>the</span> <span m=''811410''>machine</span> <span
  m=''811790''>is</span> <span m=''811910''>doing an</span> <span m=''812080''>interpretation</span>
  <span m=''813260''>of</span> <span m=''813430''>these</span> <span m=''813640''>very</span>
  <span m=''813870''>simple</span> <span m=''814200''>instructions</span> <span m=''815230''>and</span>
  <span m=''815390''>produces</span> <span m=''815870''>an</span> <span m=''815930''>execution.</span>
  </p><p><span m=''817150''>But,</span> <span m=''817350''>in</span> <span m=''817470''>fact,</span>
  <span m=''818040''>there''s</span> <span m=''818210''>actually</span> <span m=''818540''>four</span>
  <span m=''818910''>stages</span> <span m=''819770''>that</span> <span m=''819840''>go</span>
  <span m=''820230''>on</span> <span m=''820480''>inside</span> <span m=''820980''>of</span>
  <span m=''821070''>GCC</span> <span m=''822180''>if</span> <span m=''822390''>you</span>
  <span m=''822550''>type</span> <span m=''822850''>a</span> <span m=''822940''>command</span>
  <span m=''823310''>like</span> <span m=''823550''>this.</span> <span m=''824710''>The</span>
  <span m=''824830''>first</span> <span m=''825150''>thing</span> <span m=''825380''>is</span>
  <span m=''825500''>what''s</span> <span m=''825690''>called</span> <span m=''825980''>preprocessing.</span>
  <span m=''827320''>And</span> <span m=''827380''>what</span> <span m=''827530''>that</span>
  <span m=''827770''>does</span> <span m=''828020''>is</span> <span m=''828150''>it</span>
  <span m=''828260''>does</span> <span m=''828490''>any</span> <span m=''828660''>macro</span>
  <span m=''829230''>expansion</span> <span m=''830800''>and</span> <span m=''831140''>so</span>
  <span m=''831360''>forth,</span> <span m=''831620''>things</span> <span m=''831860''>that
  are</span> <span m=''832010''>just</span> <span m=''832290''>basically</span> <span
  m=''832830''>on</span> <span m=''832940''>the</span> <span m=''833060''>level</span>
  <span m=''835050''>of</span> <span m=''835280''>textual</span> <span m=''835710''>substitutions</span>
  <span m=''836990''>before</span> <span m=''837320''>you</span> <span m=''837420''>get</span>
  <span m=''837590''>into</span> <span m=''837800''>the</span> <span m=''837890''>guts</span>
  <span m=''838200''>of</span> <span m=''838250''>the</span> <span m=''838360''>compiler.</span>
  <span m=''839210''>Then</span> <span m=''839380''>you</span> <span m=''839480''>actually</span>
  <span m=''839840''>do</span> <span m=''840010''>the</span> <span m=''840140''>compiler.</span>
  <span m=''842310''>And</span> <span m=''842440''>that</span> <span m=''842700''>produces</span>
  <span m=''844890''>a</span> <span m=''845190''>version</span> <span m=''845680''>of</span>
  <span m=''845760''>machine</span> <span m=''846210''>code</span> <span m=''846580''>called</span>
  <span m=''847180''>assembly</span> <span m=''847930''>language,</span> <span m=''848220''>which</span>
  <span m=''848510''>we''ll</span> <span m=''848760''>see</span> <span m=''848940''>in</span>
  <span m=''849040''>just</span> <span m=''849270''>a</span> <span m=''849310''>minute.</span>
  <span m=''851140''>And</span> <span m=''852150''>from</span> <span m=''852420''>that</span>
  <span m=''854260''>version</span> <span m=''854680''>of</span> <span m=''855070''>assembly</span>
  <span m=''855470''>language</span> <span m=''856190''>it</span> <span m=''856390''>then</span>
  <span m=''856640''>goes</span> <span m=''856940''>into</span> <span m=''857230''>a</span>
  <span m=''857290''>process</span> <span m=''857840''>called</span> <span m=''858470''>linking</span>
  <span m=''858910''>and</span> <span m=''859000''>loading,</span> <span m=''860530''>which</span>
  <span m=''860820''>actually</span> <span m=''861390''>causes</span> <span m=''861980''>it</span>
  <span m=''862120''>to</span> <span m=''862210''>produce</span> <span m=''862650''>the</span>
  <span m=''862740''>binary</span> <span m=''863980''>that</span> <span m=''864280''>you</span>
  <span m=''864480''>can</span> <span m=''864730''>then</span> <span m=''865010''>execute.</span>
  </p><p><span m=''867510''>So</span> <span m=''867760''>all</span> <span m=''868100''>four</span>
  <span m=''868340''>stages</span> <span m=''868920''>are</span> <span m=''869340''>included</span>
  <span m=''869780''>here.</span> <span m=''870350''>And</span> <span m=''870540''>there</span>
  <span m=''870690''>are</span> <span m=''870760''>switches</span> <span m=''871290''>to</span>
  <span m=''871410''>GCC</span> <span m=''872850''>that</span> <span m=''873010''>let</span>
  <span m=''873250''>you</span> <span m=''873390''>do</span> <span m=''875060''>only</span>
  <span m=''875420''>one</span> <span m=''875850''>or</span> <span m=''876070''>all</span>
  <span m=''876340''>of</span> <span m=''876650''>these</span> <span m=''877150''>things.</span>
  <span m=''877430''>You</span> <span m=''877540''>can,</span> <span m=''877680''>for</span>
  <span m=''877790''>example,</span> <span m=''878240''>run</span> <span m=''878410''>the</span>
  <span m=''878710''>preprocessor</span> <span m=''879770''>GCC.</span> <span m=''880360''>You
  can tell it</span> <span m=''880660''>to</span> <span m=''880770''>run</span> <span
  m=''880920''>the</span> <span m=''881200''>preprocessor</span> <span m=''881810''>alone</span>
  <span m=''882670''>and</span> <span m=''882850''>see</span> <span m=''883050''>what</span>
  <span m=''883210''>all</span> <span m=''883450''>your</span> <span m=''883600''>macros</span>
  <span m=''884070''>expanded</span> <span m=''884580''>to.</span> <span m=''886180''>Yes?</span>
  <span m=''886410''>Question?</span> </p><p><span m=''887265''>AUDIENCE: What''s
  the</span> <span m=''887750''>difference between</span> <span m=''888235''>compiling
  and</span> <span m=''888720''>assembling?</span> </p><p><span m=''890180''>CHARLES
  LEISERSON: So</span> <span m=''890520''>compiling</span> <span m=''891470''>reduces</span>
  <span m=''892110''>it</span> <span m=''892840''>to</span> <span m=''893000''>essentially</span>
  <span m=''893450''>assembly</span> <span m=''893900''>language.</span> <span m=''895090''>And</span>
  <span m=''895250''>then</span> <span m=''895370''>assembling</span> <span m=''896140''>is</span>
  <span m=''896380''>taking</span> <span m=''896680''>that</span> <span m=''896840''>assembly</span>
  <span m=''897270''>language</span> <span m=''897980''>and</span> <span m=''900900''>producing</span>
  <span m=''901580''>the</span> <span m=''901660''>machine</span> <span m=''902180''>binary.</span>
  </p><p><span m=''904713''>AUDIENCE: I was going to say,</span> <span m=''905196''>there''s
  a</span> <span m=''905679''>one-to-one</span> <span m=''906162''>correspondence</span>
  <span m=''906645''>between</span> <span m=''907128''>machine code</span> <span m=''907611''>and</span>
  <span m=''908094''>assembly,</span> <span m=''908577''>but there''s</span> <span
  m=''909060''>not a one-to-one</span> <span m=''909543''>correspondence</span> <span
  m=''910026''>between C</span> <span m=''910509''>code and</span> <span m=''910992''>assembly.</span>
  </p><p><span m=''911958''>CHARLES LEISERSON: Yeah.</span> <span m=''912450''>So</span>
  <span m=''913290''>there''s</span> <span m=''913460''>actually</span> <span m=''913740''>not</span>
  <span m=''914050''>quite</span> <span m=''914230''>a</span> <span m=''914250''>one</span>
  <span m=''914520''>to</span> <span m=''914630''>one, but</span> <span m=''915070''>it''s</span>
  <span m=''915230''>very</span> <span m=''915460''>close.</span> <span m=''917020''>It''s</span>
  <span m=''917140''>very</span> <span m=''917350''>close.</span> <span m=''919060''>So</span>
  <span m=''919180''>you</span> <span m=''919250''>can</span> <span m=''919400''>think</span>
  <span m=''919610''>of</span> <span m=''919680''>it</span> <span m=''919740''>as</span>
  <span m=''919890''>one</span> <span m=''920110''>to</span> <span m=''920200''>one</span>
  <span m=''920490''>between</span> <span m=''921240''>assembly</span> <span m=''921720''>machine</span>
  <span m=''922010''>code.</span> <span m=''922180''>But</span> <span m=''922290''>assembly</span>
  <span m=''923060''>is,</span> <span m=''923230''>in</span> <span m=''923330''>some</span>
  <span m=''923540''>sense,</span> <span m=''923830''>a</span> <span m=''923960''>more</span>
  <span m=''924200''>human</span> <span m=''925140''>readable</span> <span m=''926390''>and</span>
  <span m=''926610''>understandable</span> <span m=''928330''>version</span> <span
  m=''928770''>of</span> <span m=''928960''>machine</span> <span m=''929330''>code.</span>
  <span m=''929890''>In fact,</span> <span m=''930060''>that''s</span> <span m=''930230''>what</span>
  <span m=''930320''>we''re</span> <span m=''930390''>going</span> <span m=''930470''>to</span>
  <span m=''930550''>talk</span> <span m=''930810''>about.</span> </p><p><span m=''931760''>So</span>
  <span m=''931920''>let''s</span> <span m=''932150''>go</span> <span m=''932850''>directly</span>
  <span m=''933330''>to</span> <span m=''933490''>assembly</span> <span m=''933930''>code.</span>
  <span m=''934210''>To</span> <span m=''934290''>do</span> <span m=''934500''>that</span>
  <span m=''934860''>I</span> <span m=''934980''>can</span> <span m=''935140''>use</span>
  <span m=''935360''>the</span> <span m=''935440''>minus</span> <span m=''936150''>S</span>
  <span m=''936540''>switch.</span> <span m=''938530''>Now it</span> <span m=''938650''>turns</span>
  <span m=''938970''>out</span> <span m=''939100''>it''s</span> <span m=''939230''>also</span>
  <span m=''939530''>helpful</span> <span m=''939930''>to</span> <span m=''939970''>use</span>
  <span m=''940230''>the</span> <span m=''940320''>minus</span> <span m=''940720''>G</span>
  <span m=''940950''>switch.</span> <span m=''941680''>Minus</span> <span m=''942100''>G</span>
  <span m=''942320''>says</span> <span m=''943380''>give</span> <span m=''943570''>me</span>
  <span m=''943730''>all</span> <span m=''943890''>the</span> <span m=''943970''>debugger</span>
  <span m=''945110''>symbol</span> <span m=''945450''>tables.</span> <span m=''946840''>And</span>
  <span m=''946960''>what</span> <span m=''947110''>that</span> <span m=''947310''>makes</span>
  <span m=''947550''>it</span> <span m=''947650''>is</span> <span m=''947780''>so
  that</span> <span m=''947930''>you</span> <span m=''948100''>can</span> <span m=''948210''>actually</span>
  <span m=''948490''>read</span> <span m=''948780''>the</span> <span m=''948880''>assembly</span>
  <span m=''949310''>language.</span> </p><p><span m=''950360''>If</span> <span m=''950530''>you</span>
  <span m=''950620''>don''t</span> <span m=''950840''>have</span> <span m=''951010''>that</span>
  <span m=''951160''>information,</span> <span m=''952210''>then</span> <span m=''952600''>you</span>
  <span m=''952760''>don''t</span> <span m=''952980''>know</span> <span m=''953150''>what</span>
  <span m=''953420''>the</span> <span m=''953600''>programmer</span> <span m=''954320''>wrote</span>
  <span m=''954870''>as</span> <span m=''955380''>the</span> <span m=''955890''>symbols.</span>
  <span m=''956560''>Instead</span> <span m=''958500''>you will</span> <span m=''958760''>get</span>
  <span m=''961610''>computer</span> <span m=''962030''>generated</span> <span m=''963050''>symbol</span>
  <span m=''963460''>names</span> <span m=''963980''>for</span> <span m=''964110''>things.</span>
  <span m=''964620''>And</span> <span m=''964870''>you</span> <span m=''965060''>don''t</span>
  <span m=''965250''>have</span> <span m=''965390''>any</span> <span m=''965850''>meaning</span>
  <span m=''966280''>to</span> <span m=''966390''>those.</span> <span m=''967180''>So</span>
  <span m=''967440''>it''s</span> <span m=''967550''>really a</span> <span m=''967810''>good</span>
  <span m=''968000''>idea</span> <span m=''968250''>to</span> <span m=''968300''>use</span>
  <span m=''968530''>minus</span> <span m=''968900''>G</span> <span m=''969100''>and</span>
  <span m=''969190''>minus</span> <span m=''969455''>S</span> <span m=''969720''>together.</span>
  </p><p><span m=''970800''>And</span> <span m=''970950''>this</span> <span m=''971260''>basically</span>
  <span m=''971690''>provides</span> <span m=''972110''>a</span> <span m=''972660''>convenient</span>
  <span m=''973130''>symbolic</span> <span m=''973700''>representation</span> <span
  m=''974430''>of</span> <span m=''974510''>the</span> <span m=''974600''>machine</span>
  <span m=''974970''>language.</span> <span m=''975340''>And</span> <span m=''975450''>this</span>
  <span m=''975600''>is</span> <span m=''975710''>sort</span> <span m=''975920''>of</span>
  <span m=''976240''>the</span> <span m=''976410''>type</span> <span m=''976650''>of</span>
  <span m=''976800''>thing</span> <span m=''976990''>that</span> <span m=''977100''>you''ll</span>
  <span m=''977290''>get,</span> <span m=''977730''>something</span> <span m=''978110''>coming</span>
  <span m=''978420''>out</span> <span m=''978600''>that</span> <span m=''978700''>looks</span>
  <span m=''978950''>like</span> <span m=''979150''>this.</span> <span m=''980080''>It''s</span>
  <span m=''980300''>basically</span> <span m=''980740''>an</span> <span m=''980830''>Ascii.</span>
  <span m=''981800''>It''s in</span> <span m=''982170''>text,</span> <span m=''983640''>characters,</span>
  <span m=''984250''>rather</span> <span m=''984720''>than</span> <span m=''985190''>being</span>
  <span m=''985700''>in</span> <span m=''986040''>the</span> <span m=''986140''>binary</span>
  <span m=''986730''>executable.</span> </p><p><span m=''988710''>And</span> <span
  m=''990450''>if</span> <span m=''990760''>you</span> <span m=''991040''>want,</span>
  <span m=''991390''>you</span> <span m=''991520''>can</span> <span m=''991660''>find</span>
  <span m=''991950''>out</span> <span m=''992140''>all</span> <span m=''993480''>the</span>
  <span m=''993820''>vagaries</span> <span m=''994380''>of</span> <span m=''994530''>it.</span>
  <span m=''994770''>This</span> <span m=''995070''>is</span> <span m=''995200''>one</span>
  <span m=''995740''>site</span> <span m=''996100''>that</span> <span m=''996200''>has</span>
  <span m=''997600''>some</span> <span m=''999320''>reasonable</span> <span m=''999720''>documentation</span>
  <span m=''1000520''>on</span> <span m=''1000690''>the</span> <span m=''1001050''>GNU</span>
  <span m=''1001440''>assembler.</span> <span m=''1002560''>It''s</span> <span m=''1002750''>actually</span>
  <span m=''1003040''>not</span> <span m=''1003310''>as</span> <span m=''1003470''>good</span>
  <span m=''1003860''>on</span> <span m=''1004200''>the</span> <span m=''1004950''>instructions,</span>
  <span m=''1005670''>but</span> <span m=''1005800''>it''s</span> <span m=''1005950''>really</span>
  <span m=''1006270''>good</span> <span m=''1006650''>on</span> <span m=''1007260''>all</span>
  <span m=''1007480''>the</span> <span m=''1007580''>directives,</span> <span m=''1008780''>which</span>
  <span m=''1008970''>we''ll</span> <span m=''1009090''>talk</span> <span m=''1009330''>about
  in</span> <span m=''1009530''>a</span> <span m=''1009560''>minute</span> <span m=''1009840''>like</span>
  <span m=''1010520''>.global</span> <span m=''1011330''>and</span> <span m=''1011800''>.type</span>
  <span m=''1012480''>and</span> <span m=''1013200''>all</span> <span m=''1013360''>that</span>
  <span m=''1013510''>stuff.</span> <span m=''1013730''>It''s</span> <span m=''1013870''>very</span>
  <span m=''1014080''>good</span> <span m=''1014240''>on</span> <span m=''1014340''>that</span>
  <span m=''1014540''>stuff.</span> </p><p><span m=''1018520''>There''s</span> <span
  m=''1018710''>another</span> <span m=''1019060''>thing that</span> <span m=''1019400''>you</span>
  <span m=''1019610''>can</span> <span m=''1019810''>do.</span> <span m=''1020260''>And</span>
  <span m=''1020570''>once</span> <span m=''1020840''>again,</span> <span m=''1021090''>it''s</span>
  <span m=''1021220''>also</span> <span m=''1021510''>helpful</span> <span m=''1021970''>if</span>
  <span m=''1022110''>you''ve</span> <span m=''1022410''>produced</span> <span m=''1023470''>a</span>
  <span m=''1024220''>binary</span> <span m=''1024700''>that</span> <span m=''1024849''>has</span>
  <span m=''1025230''>the</span> <span m=''1025530''>symbol</span> <span m=''1025930''>table.</span>
  <span m=''1026569''>And</span> <span m=''1026720''>that</span> <span m=''1026920''>is</span>
  <span m=''1027079''>to</span> <span m=''1027230''>do</span> <span m=''1027630''>a</span>
  <span m=''1029250''>dump</span> <span m=''1029660''>of</span> <span m=''1029770''>the</span>
  <span m=''1029900''>object</span> <span m=''1030339''>code.</span> <span m=''1031760''>And</span>
  <span m=''1031970''>when</span> <span m=''1032109''>you</span> <span m=''1032210''>do</span>
  <span m=''1032400''>a</span> <span m=''1033310''>dump of</span> <span m=''1033700''>the</span>
  <span m=''1033839''>object</span> <span m=''1034339''>code,</span> <span m=''1034720''>what</span>
  <span m=''1034910''>it</span> <span m=''1035040''>does</span> <span m=''1035530''>is</span>
  <span m=''1036030''>you</span> <span m=''1036230''>basically</span> <span m=''1036680''>give</span>
  <span m=''1036950''>it</span> <span m=''1037030''>an</span> <span m=''1037150''>executable</span>
  <span m=''1038519''>and it</span> <span m=''1038829''>goes</span> <span m=''1039079''>backwards</span>
  <span m=''1039750''>the</span> <span m=''1039880''>other</span> <span m=''1040050''>way,</span>
  <span m=''1040880''>take</span> <span m=''1041130''>this</span> <span m=''1041280''>executable</span>
  <span m=''1043089''>and</span> <span m=''1043300''>undo</span> <span m=''1043750''>one</span>
  <span m=''1044020''>step,</span> <span m=''1044579''>disassemble</span> <span m=''1045230''>it.</span>
  </p><p><span m=''1047800''>And</span> <span m=''1048280''>what''s</span> <span m=''1048610''>good</span>
  <span m=''1048760''>about</span> <span m=''1049090''>object</span> <span m=''1049500''>dump</span>
  <span m=''1049840''>is</span> <span m=''1050240''>that</span> <span m=''1050490''>it</span>
  <span m=''1050720''>gives</span> <span m=''1051000''>you,</span> <span m=''1051150''>first</span>
  <span m=''1051470''>of</span> <span m=''1051570''>all,</span> <span m=''1051780''>these</span>
  <span m=''1052020''>are</span> <span m=''1052170''>all</span> <span m=''1052310''>the</span>
  <span m=''1052440''>byte</span> <span m=''1052850''>codes</span> <span m=''1053350''>of</span>
  <span m=''1053580''>the</span> <span m=''1053710''>instructions.</span> <span m=''1054990''>Also</span>
  <span m=''1055380''>if</span> <span m=''1055560''>you''ve</span> <span m=''1055790''>got</span>
  <span m=''1056180''>the</span> <span m=''1056730''>minus</span> <span m=''1057150''>S</span>
  <span m=''1057500''>says</span> <span m=''1057890''>interleave</span> <span m=''1058220''>the</span>
  <span m=''1058310''>source</span> <span m=''1058750''>code,</span> <span m=''1059330''>so</span>
  <span m=''1059470''>you</span> <span m=''1059560''>can</span> <span m=''1059700''>see,</span>
  <span m=''1059970''>here''s</span> <span m=''1060280''>the</span> <span m=''1060370''>source</span>
  <span m=''1060770''>code</span> <span m=''1060980''>interleaved.</span> <span m=''1062060''>So</span>
  <span m=''1062180''>you</span> <span m=''1062240''>can</span> <span m=''1062340''>see</span>
  <span m=''1062500''>which</span> <span m=''1062700''>regions</span> <span m=''1063140''>of</span>
  <span m=''1063240''>code</span> <span m=''1064070''>depend</span> <span m=''1064460''>on</span>
  <span m=''1064670''>which</span> <span m=''1064930''>things.</span> <span m=''1067280''>And</span>
  <span m=''1067780''>so</span> <span m=''1068160''>it</span> <span m=''1068290''>basically</span>
  <span m=''1068760''>tells</span> <span m=''1069010''>you</span> <span m=''1069110''>where</span>
  <span m=''1069560''>in</span> <span m=''1069760''>memory</span> <span m=''1070150''>it''s</span>
  <span m=''1070340''>being</span> <span m=''1070600''>loaded,</span> <span m=''1071420''>it''s</span>
  <span m=''1071610''>been</span> <span m=''1071760''>loaded,</span> <span m=''1072430''>what</span>
  <span m=''1072880''>the</span> <span m=''1073000''>instructions</span> <span m=''1073710''>are.</span>
  <span m=''1073970''>And</span> <span m=''1074130''>then it</span> <span m=''1074440''>gives</span>
  <span m=''1074760''>you</span> <span m=''1075730''>the</span> <span m=''1076060''>assembly</span>
  <span m=''1076700''>interpretation</span> <span m=''1077460''>of</span> <span m=''1077560''>that</span>
  <span m=''1077870''>machine</span> <span m=''1078250''>binary.</span> </p><p><span
  m=''1079230''>And</span> <span m=''1079340''>this</span> <span m=''1079450''>is</span>
  <span m=''1079580''>where</span> <span m=''1079770''>you</span> <span m=''1079890''>can</span>
  <span m=''1080020''>see</span> <span m=''1080200''>it''s</span> <span m=''1080330''>almost</span>
  <span m=''1080770''>one</span> <span m=''1081040''>to</span> <span m=''1081160''>one</span>
  <span m=''1082310''>what''s</span> <span m=''1082600''>going</span> <span m=''1082820''>on</span>
  <span m=''1082960''>here.</span> <span m=''1083180''>Here</span> <span m=''1083460''>we</span>
  <span m=''1083590''>have</span> <span m=''1083810''>a</span> <span m=''1084370''>push</span>
  <span m=''1084770''>of</span> <span m=''1084930''>an</span> <span m=''1085050''>operand.
  And</span> <span m=''1085540''>that</span> <span m=''1085780''>notice</span> <span
  m=''1086030''>is</span> <span m=''1086170''>just</span> <span m=''1086380''>a</span>
  <span m=''1086440''>one</span> <span m=''1086700''>byte</span> <span m=''1087030''>code.</span>
  <span m=''1087620''>Whereas</span> <span m=''1087980''>here</span> <span m=''1089230''>we''ve</span>
  <span m=''1089420''>got</span> <span m=''1089590''>an</span> <span m=''1091280''>opcode</span>
  <span m=''1092050''>and</span> <span m=''1092310''>two</span> <span m=''1092510''>arguments.</span>
  <span m=''1093330''>And</span> <span m=''1093510''>it</span> <span m=''1093690''>has</span>
  <span m=''1094430''>three</span> <span m=''1094710''>bytes</span> <span m=''1095040''>as</span>
  <span m=''1095170''>it</span> <span m=''1095280''>turns</span> <span m=''1095560''>out.</span>
  <span m=''1096690''>So</span> <span m=''1096850''>you</span> <span m=''1096940''>can</span>
  <span m=''1097040''>see</span> <span m=''1097230''>there''s</span> <span m=''1097340''>sort</span>
  <span m=''1097540''>of</span> <span m=''1097600''>a</span> <span m=''1097670''>correspondence.</span>
  <span m=''1098640''>Yeah,</span> <span m=''1098810''>question?</span> </p><p><span
  m=''1100208''>AUDIENCE: How does</span> <span m=''1100702''>[? logic then take the
  ?]</span> <span m=''1101196''>machine</span> <span m=''1101690''>language</span>
  <span m=''1102678''>code and</span> <span m=''1103172''>go to--</span> <span m=''1104160''>how
  does</span> <span m=''1104654''>it know</span> <span m=''1105148''>the</span> <span
  m=''1105642''>function</span> <span m=''1106136''>names and</span> <span m=''1106630''>stuff?</span>
  </p><p><span m=''1107124''>CHARLES LEISERSON: It</span> <span m=''1107630''>knows
  the function</span> <span m=''1108060''>names</span> <span m=''1108520''>because</span>
  <span m=''1108820''>when</span> <span m=''1109040''>you</span> <span m=''1109150''>compile</span>
  <span m=''1109290''>it</span> <span m=''1109790''>with</span> <span m=''1110430''>-g,</span>
  <span m=''1111760''>it</span> <span m=''1111950''>produces,</span> <span m=''1112560''>in</span>
  <span m=''1112670''>addition</span> <span m=''1113060''>to</span> <span m=''1113110''>producing</span>
  <span m=''1113650''>the</span> <span m=''1113740''>binary,</span> <span m=''1114040''>it</span>
  <span m=''1114340''>produces</span> <span m=''1114860''>a</span> <span m=''1114920''>separate</span>
  <span m=''1115350''>segment</span> <span m=''1116250''>that''s</span> <span m=''1116450''>not</span>
  <span m=''1116730''>loaded</span> <span m=''1117100''>in</span> <span m=''1117790''>that</span>
  <span m=''1117890''>has</span> <span m=''1118330''>all</span> <span m=''1118750''>that</span>
  <span m=''1119000''>information</span> <span m=''1119710''>that</span> <span m=''1119870''>says,</span>
  <span m=''1120130''>oh,</span> <span m=''1120420''>at</span> <span m=''1120540''>this</span>
  <span m=''1120730''>location</span> <span m=''1121690''>is</span> <span m=''1121880''>where</span>
  <span m=''1122020''>this</span> <span m=''1122160''>symbol</span> <span m=''1122650''>is.</span>
  <span m=''1123030''>And</span> <span m=''1123530''>it</span> <span m=''1123730''>produces</span>
  <span m=''1124210''>all</span> <span m=''1124520''>that</span> <span m=''1125400''>as</span>
  <span m=''1125580''>stuff</span> <span m=''1125870''>that''s</span> <span m=''1126040''>never</span>
  <span m=''1126310''>loaded</span> <span m=''1126690''>in</span> <span m=''1126840''>at</span>
  <span m=''1126970''>run</span> <span m=''1127190''>time</span> <span m=''1127670''>but</span>
  <span m=''1127990''>which</span> <span m=''1128170''>is</span> <span m=''1128310''>there</span>
  <span m=''1128650''>in</span> <span m=''1129000''>order</span> <span m=''1129290''>to</span>
  <span m=''1129700''>aid</span> <span m=''1129760''>debuggers</span> <span m=''1130220''>mainly.</span>
  <span m=''1131290''>Question?</span> </p><p><span m=''1132610''>AUDIENCE: To</span>
  <span m=''1133080''>compile</span> <span m=''1133550''>something</span> <span m=''1134020''>not</span>
  <span m=''1134490''>using</span> <span m=''1134960''>the</span> <span m=''1135430''>gflag</span>
  <span m=''1135900''>and then</span> <span m=''1136370''>you do</span> <span m=''1136840''>an
  object dump,</span> <span m=''1137310''>how would</span> <span m=''1137780''>that
  work?</span> </p><p><span m=''1138715''>CHARLES LEISERSON: Then what</span> <span
  m=''1138990''>happens</span> <span m=''1139640''>is,</span> <span m=''1140770''>first</span>
  <span m=''1141010''>of</span> <span m=''1141100''>all,</span> <span m=''1141230''>you</span>
  <span m=''1141430''>would</span> <span m=''1141720''>not</span> <span m=''1141950''>be</span>
  <span m=''1142110''>able</span> <span m=''1142260''>to</span> <span m=''1142330''>get</span>
  <span m=''1143410''>this</span> <span m=''1143700''>stuff</span> <span m=''1144130''>interleaved.</span>
  <span m=''1146280''>And</span> <span m=''1146530''>then</span> <span m=''1146910''>things</span>
  <span m=''1147210''>like</span> <span m=''1147430''>here</span> <span m=''1147680''>where</span>
  <span m=''1147830''>it</span> <span m=''1147910''>says</span> <span m=''1148270''>fib,</span>
  <span m=''1149410''>well,</span> <span m=''1149620''>fib</span> <span m=''1149720''>may</span>
  <span m=''1149950''>be</span> <span m=''1150070''>an</span> <span m=''1150170''>external</span>
  <span m=''1150830''>name</span> <span m=''1151150''>so</span> <span m=''1151270''>you</span>
  <span m=''1151390''>might</span> <span m=''1151630''>know</span> <span m=''1151820''>it</span>
  <span m=''1151900''>anyway.</span> <span m=''1154160''>But</span> <span m=''1154370''>if</span>
  <span m=''1154450''>it</span> <span m=''1154520''>were</span> <span m=''1154690''>an</span>
  <span m=''1154750''>internal</span> <span m=''1155270''>name,</span> <span m=''1155560''>you</span>
  <span m=''1155680''>would</span> <span m=''1155830''>not</span> <span m=''1156590''>be</span>
  <span m=''1156760''>able</span> <span m=''1156900''>to</span> <span m=''1156970''>see</span>
  <span m=''1157200''>what</span> <span m=''1157360''>it</span> <span m=''1157430''>was.</span>
  <span m=''1158800''>Yeah,</span> <span m=''1160290''>if</span> <span m=''1160460''>you''re</span>
  <span m=''1160570''>going</span> <span m=''1160640''>to</span> <span m=''1160720''>respond</span>
  <span m=''1161120''>let''s</span> <span m=''1161360''>get</span> <span m=''1161520''>you</span>
  <span m=''1161970''>on</span> <span m=''1162280''>mike</span> <span m=''1162480''>here.</span>
  <span m=''1162660''>Why don''t</span> <span m=''1162820''>you</span> <span m=''1162910''>just</span>
  <span m=''1163080''>hold</span> <span m=''1163390''>this?</span> </p><p><span m=''1164920''>JOHN:
  Yeah,</span> <span m=''1165190''>so</span> <span m=''1165380''>you''ll</span> <span
  m=''1166030''>generally</span> <span m=''1166520''>get</span> <span m=''1166760''>the</span>
  <span m=''1166840''>function</span> <span m=''1167270''>names</span> <span m=''1167830''>so</span>
  <span m=''1168000''>you know</span> <span m=''1168320''>roughly</span> <span m=''1168800''>a</span>
  <span m=''1169080''>huge</span> <span m=''1169420''>blob</span> <span m=''1169740''>of</span>
  <span m=''1169900''>assembly</span> <span m=''1170370''>corresponds</span> <span
  m=''1170970''>to</span> <span m=''1171120''>a</span> <span m=''1171260''>function.</span>
  <span m=''1172100''>But</span> <span m=''1172250''>you</span> <span m=''1172370''>won''t</span>
  <span m=''1172580''>be</span> <span m=''1172700''>able</span> <span m=''1172860''>to</span>
  <span m=''1172950''>get</span> <span m=''1173150''>any</span> <span m=''1173340''>information</span>
  <span m=''1173940''>about</span> <span m=''1174520''>what</span> <span m=''1174740''>variables</span>
  <span m=''1175360''>are</span> <span m=''1175760''>in</span> <span m=''1176120''>which</span>
  <span m=''1176400''>registers</span> <span m=''1177060''>or</span> <span m=''1177510''>what</span>
  <span m=''1177820''>position</span> <span m=''1179380''>the</span> <span m=''1179520''>sixth</span>
  <span m=''1179790''>line</span> <span m=''1180030''>of</span> <span m=''1180130''>assembly</span>
  <span m=''1180520''>corresponds</span> <span m=''1181090''>to</span> <span m=''1181200''>in</span>
  <span m=''1181290''>terms</span> <span m=''1181580''>of</span> <span m=''1181630''>your</span>
  <span m=''1181790''>source</span> <span m=''1182060''>code.</span> </p><p><span
  m=''1185580''>CHARLES LEISERSON: Then</span> <span m=''1185760''>the</span> <span
  m=''1185880''>other</span> <span m=''1186060''>thing</span> <span m=''1186270''>that</span>
  <span m=''1186390''>you</span> <span m=''1186530''>can</span> <span m=''1186700''>do</span>
  <span m=''1186960''>is</span> <span m=''1187170''>you</span> <span m=''1187300''>can</span>
  <span m=''1187440''>actually</span> <span m=''1187900''>take</span> <span m=''1188270''>the</span>
  <span m=''1188410''>assembler,</span> <span m=''1189860''>the</span> <span m=''1189950''>assembly</span>
  <span m=''1190360''>code,</span> <span m=''1190690''>if you</span> <span m=''1190780''>produce</span>
  <span m=''1191130''>just</span> <span m=''1191330''>the</span> <span m=''1191420''>assembly</span>
  <span m=''1191840''>code,</span> <span m=''1192480''>and</span> <span m=''1192630''>if</span>
  <span m=''1192710''>you</span> <span m=''1192820''>tell</span> <span m=''1193140''>GCC</span>
  <span m=''1194400''>to</span> <span m=''1194570''>take</span> <span m=''1194870''>a</span>
  <span m=''1195250''>.s</span> <span m=''1195500''>file,</span> <span m=''1195810''>which</span>
  <span m=''1195980''>is</span> <span m=''1196070''>the</span> <span m=''1196130''>assembly</span>
  <span m=''1196560''>code,</span> <span m=''1197260''>you</span> <span m=''1197420''>can</span>
  <span m=''1197540''>produce</span> <span m=''1197870''>the</span> <span m=''1197950''>machine</span>
  <span m=''1198300''>code</span> <span m=''1198570''>from</span> <span m=''1198740''>it.</span>
  <span m=''1200146''>And</span> <span m=''1200560''>so</span> <span m=''1200730''>one</span>
  <span m=''1202100''>thing</span> <span m=''1202200''>that</span> <span m=''1202370''>you</span>
  <span m=''1202610''>can</span> <span m=''1203020''>do</span> <span m=''1203610''>is</span>
  <span m=''1203790''>you</span> <span m=''1204050''>can</span> <span m=''1204460''>produce</span>
  <span m=''1205030''>a</span> <span m=''1205620''>.s</span> <span m=''1205910''>file</span>
  <span m=''1208490''>and</span> <span m=''1208700''>then</span> <span m=''1209280''>edit</span>
  <span m=''1209590''>it</span> <span m=''1209750''>in</span> <span m=''1209910''>Emacs</span>
  <span m=''1210620''>or</span> <span m=''1210770''>VI</span> <span m=''1211270''>or</span>
  <span m=''1211380''>whatever</span> <span m=''1211680''>your</span> <span m=''1211820''>favorite</span>
  <span m=''1213050''>text</span> <span m=''1213390''>editor</span> <span m=''1213780''>is</span>
  <span m=''1214410''>and</span> <span m=''1214570''>then</span> <span m=''1214710''>assemble</span>
  <span m=''1215150''>it</span> <span m=''1215220''>with</span> <span m=''1215380''>GCC.</span>
  <span m=''1216180''>So</span> <span m=''1216290''>you</span> <span m=''1216360''>can</span>
  <span m=''1216470''>actually</span> <span m=''1216830''>modify</span> <span m=''1218150''>what</span>
  <span m=''1218340''>the</span> <span m=''1218430''>machine</span> <span m=''1218810''>code</span>
  <span m=''1219040''>is</span> <span m=''1219230''>directly.</span> <span m=''1221480''>And</span>
  <span m=''1221710''>that''s</span> <span m=''1221920''>what</span> <span m=''1222040''>we''re</span>
  <span m=''1222130''>going</span> <span m=''1222220''>to</span> <span m=''1222270''>spend</span>
  <span m=''1222520''>a</span> <span m=''1222570''>little</span> <span m=''1222750''>bit</span>
  <span m=''1222870''>of</span> <span m=''1222950''>time</span> <span m=''1223220''>doing</span>
  <span m=''1223470''>today.</span> <span m=''1224580''>Let''s</span> <span m=''1224800''>go</span>
  <span m=''1225000''>in</span> <span m=''1225950''>and</span> <span m=''1226280''>see</span>
  <span m=''1226560''>what</span> <span m=''1226710''>the</span> <span m=''1226790''>compiler</span>
  <span m=''1227290''>generates</span> <span m=''1227920''>and</span> <span m=''1228090''>then</span>
  <span m=''1228220''>let''s</span> <span m=''1228460''>twiddle it</span> <span m=''1228650''>a</span>
  <span m=''1228920''>bit.</span> </p><p><span m=''1234630''>So</span> <span m=''1234850''>here''s</span>
  <span m=''1235170''>what</span> <span m=''1235360''>we''re</span> <span m=''1235490''>going</span>
  <span m=''1235590''>to</span> <span m=''1235810''>expect</span> <span m=''1236350''>that</span>
  <span m=''1236510''>you</span> <span m=''1236650''>do,</span> <span m=''1237600''>that</span>
  <span m=''1237760''>you''re</span> <span m=''1237910''>able</span> <span m=''1238220''>to</span>
  <span m=''1238310''>do.</span> <span m=''1241770''>We</span> <span m=''1241980''>expect</span>
  <span m=''1242480''>in</span> <span m=''1242560''>this</span> <span m=''1242750''>class</span>
  <span m=''1243190''>that</span> <span m=''1243320''>you''re</span> <span m=''1243460''>going</span>
  <span m=''1243570''>to</span> <span m=''1243630''>be</span> <span m=''1243840''>able</span>
  <span m=''1244330''>to</span> <span m=''1245320''>understand</span> <span m=''1245930''>how</span>
  <span m=''1246360''>a</span> <span m=''1246560''>compiler</span> <span m=''1247140''>implements</span>
  <span m=''1248030''>the</span> <span m=''1249386''>C</span> <span m=''1249830''>linguistic</span>
  <span m=''1250370''>constructs</span> <span m=''1251130''>using</span> <span m=''1251750''>x86</span>
  <span m=''1252190''>instructions.</span> <span m=''1255320''>We''re</span> <span
  m=''1255560''>going</span> <span m=''1255640''>to</span> <span m=''1255720''>expect</span>
  <span m=''1256140''>that</span> <span m=''1256210''>you</span> <span m=''1256330''>can</span>
  <span m=''1256450''>read</span> <span m=''1258650''>x86</span> <span m=''1259060''>assembly</span>
  <span m=''1259510''>language</span> <span m=''1260060''>with</span> <span m=''1260270''>the</span>
  <span m=''1260430''>aid</span> <span m=''1260770''>of</span> <span m=''1260890''>a</span>
  <span m=''1261020''>manual.</span> <span m=''1261520''>We</span> <span m=''1261630''>don''t</span>
  <span m=''1261780''>expect</span> <span m=''1262200''>that</span> <span m=''1262270''>you
  know</span> <span m=''1262570''>all</span> <span m=''1262770''>the</span> <span
  m=''1262900''>instructions,</span> <span m=''1263470''>but</span> <span m=''1263700''>the</span>
  <span m=''1263830''>basic</span> <span m=''1264300''>ones</span> <span m=''1265170''>we</span>
  <span m=''1265450''>expect</span> <span m=''1265870''>that</span> <span m=''1265950''>you
  know</span> <span m=''1266210''>what</span> <span m=''1266380''>those</span> <span
  m=''1266670''>are.</span> </p><p><span m=''1268350''>We</span> <span m=''1268800''>expect</span>
  <span m=''1269200''>that</span> <span m=''1269310''>you''re</span> <span m=''1269400''>going</span>
  <span m=''1269500''>to</span> <span m=''1269540''>be</span> <span m=''1269700''>able</span>
  <span m=''1269820''>to</span> <span m=''1269890''>make</span> <span m=''1270100''>simple</span>
  <span m=''1270370''>modifications</span> <span m=''1272190''>to</span> <span m=''1272440''>the</span>
  <span m=''1273370''>assembly</span> <span m=''1273770''>language</span> <span m=''1274120''>generated</span>
  <span m=''1274600''>by</span> <span m=''1274770''>a</span> <span m=''1274840''>compiler,</span>
  <span m=''1276130''>and</span> <span m=''1276260''>that</span> <span m=''1276390''>you</span>
  <span m=''1276500''>would</span> <span m=''1276680''>know,</span> <span m=''1277180''>if</span>
  <span m=''1277780''>push</span> <span m=''1278020''>came</span> <span m=''1278260''>to</span>
  <span m=''1278350''>shove,</span> <span m=''1279200''>how</span> <span m=''1279330''>to</span>
  <span m=''1279450''>write</span> <span m=''1279670''>your</span> <span m=''1279850''>own</span>
  <span m=''1280020''>machine</span> <span m=''1280410''>code</span> <span m=''1280930''>on</span>
  <span m=''1281110''>your</span> <span m=''1281290''>own.</span> <span m=''1281610''>That''s</span>
  <span m=''1281830''>not</span> <span m=''1281970''>something</span> <span m=''1282280''>we''re</span>
  <span m=''1282380''>going</span> <span m=''1282450''>to</span> <span m=''1282520''>expect</span>
  <span m=''1282950''>that</span> <span m=''1283030''>you</span> <span m=''1283140''>do,</span>
  <span m=''1283700''>but</span> <span m=''1283870''>you</span> <span m=''1283970''>would</span>
  <span m=''1284070''>know</span> <span m=''1284260''>how</span> <span m=''1284420''>to</span>
  <span m=''1284710''>get</span> <span m=''1284950''>started</span> <span m=''1285480''>to</span>
  <span m=''1285590''>do</span> <span m=''1285750''>that</span> <span m=''1286370''>if</span>
  <span m=''1286570''>at</span> <span m=''1286730''>some</span> <span m=''1286920''>point</span>
  <span m=''1287180''>you</span> <span m=''1287280''>said,</span> <span m=''1287550''>oh,</span>
  <span m=''1287690''>I</span> <span m=''1287810''>really</span> <span m=''1288050''>have</span>
  <span m=''1288210''>to</span> <span m=''1288310''>write</span> <span m=''1288530''>this</span>
  <span m=''1288680''>in</span> <span m=''1288760''>assembler.</span> <span m=''1292410''>So</span>
  <span m=''1292960''>this</span> <span m=''1293110''>is,</span> <span m=''1293270''>as</span>
  <span m=''1293420''>I</span> <span m=''1293480''>say,</span> <span m=''1293680''>really</span>
  <span m=''1293980''>we''re</span> <span m=''1294370''>going</span> <span m=''1294460''>to</span>
  <span m=''1294550''>take</span> <span m=''1294810''>off</span> <span m=''1294950''>some</span>
  <span m=''1295150''>layers</span> <span m=''1295490''>of</span> <span m=''1295550''>the</span>
  <span m=''1295680''>onion</span> <span m=''1295960''>today,</span> <span m=''1297070''>try
  to</span> <span m=''1297210''>get</span> <span m=''1297430''>down</span> <span m=''1298600''>what''s</span>
  <span m=''1298820''>going</span> <span m=''1299050''>on.</span> </p><p><span m=''1300036''>It</span>
  <span m=''1300430''>turns</span> <span m=''1300640''>out</span> <span m=''1300770''>this</span>
  <span m=''1300920''>is</span> <span m=''1300970''>actually</span> <span m=''1301300''>kind</span>
  <span m=''1301490''>of</span> <span m=''1301560''>fun.</span> <span m=''1304420''>Now,</span>
  <span m=''1305070''>the</span> <span m=''1305160''>part</span> <span m=''1305460''>that''s</span>
  <span m=''1305670''>not</span> <span m=''1305980''>fun</span> <span m=''1306270''>at</span>
  <span m=''1306360''>some</span> <span m=''1306600''>level</span> <span m=''1306920''>is</span>
  <span m=''1307050''>the</span> <span m=''1307400''>x86</span> <span m=''1308460''>64</span>
  <span m=''1309100''>machine</span> <span m=''1309470''>model.</span> <span m=''1313670''>The</span>
  <span m=''1314080''>x86</span> <span m=''1314510''>is</span> <span m=''1314620''>what''s</span>
  <span m=''1314830''>called</span> <span m=''1315040''>a</span> <span m=''1315100''>complex</span>
  <span m=''1315680''>instruction</span> <span m=''1316440''>set</span> <span m=''1317310''>computer.</span>
  <span m=''1319530''>And</span> <span m=''1322540''>these,</span> <span m=''1323300''>long</span>
  <span m=''1323630''>ago,</span> <span m=''1323980''>were</span> <span m=''1324110''>demonstrated</span>
  <span m=''1324880''>to</span> <span m=''1324970''>be</span> <span m=''1325550''>inferior</span>
  <span m=''1326430''>to</span> <span m=''1326590''>so-called</span> <span m=''1327210''>reduced</span>
  <span m=''1327740''>instruction</span> <span m=''1328310''>set</span> <span m=''1328590''>computers.</span>
  </p><p><span m=''1330940''>But</span> <span m=''1331130''>that</span> <span m=''1331330''>hasn''t</span>
  <span m=''1331670''>mattered</span> <span m=''1332060''>in</span> <span m=''1332140''>the</span>
  <span m=''1332210''>marketplace.</span> <span m=''1334050''>What''s</span> <span
  m=''1334210''>mattered</span> <span m=''1334530''>in</span> <span m=''1334610''>the</span>
  <span m=''1334690''>marketplace</span> <span m=''1335350''>is</span> <span m=''1335480''>who</span>
  <span m=''1335610''>could</span> <span m=''1335770''>build</span> <span m=''1336290''>better</span>
  <span m=''1336740''>and</span> <span m=''1336840''>faster</span> <span m=''1337290''>chips.</span>
  <span m=''1338240''>And</span> <span m=''1338450''>also</span> <span m=''1339450''>the</span>
  <span m=''1339770''>amount</span> <span m=''1340180''>of</span> <span m=''1340280''>people</span>
  <span m=''1340650''>who</span> <span m=''1341280''>started</span> <span m=''1341670''>using</span>
  <span m=''1342150''>the</span> <span m=''1342520''>x86</span> <span m=''1342940''>instruction</span>
  <span m=''1343460''>set</span> <span m=''1344810''>has</span> <span m=''1345040''>produced</span>
  <span m=''1345450''>a</span> <span m=''1345720''>huge</span> <span m=''1346130''>legacy</span>
  <span m=''1347620''>and</span> <span m=''1347810''>inertia.</span> </p><p><span
  m=''1348240''>It''s</span> <span m=''1348330''>sort</span> <span m=''1348460''>of</span>
  <span m=''1348550''>like</span> <span m=''1348770''>some</span> <span m=''1348940''>people</span>
  <span m=''1349190''>might</span> <span m=''1349400''>argue</span> <span m=''1349810''>that</span>
  <span m=''1349990''>Esperanto</span> <span m=''1350750''>is</span> <span m=''1350860''>a</span>
  <span m=''1350920''>better</span> <span m=''1351180''>language</span> <span m=''1351620''>for</span>
  <span m=''1351720''>everybody</span> <span m=''1352140''>to</span> <span m=''1352200''>learn</span>
  <span m=''1352890''>than</span> <span m=''1353080''>English.</span> <span m=''1354480''>But</span>
  <span m=''1354640''>how</span> <span m=''1354820''>come</span> <span m=''1354990''>English</span>
  <span m=''1355440''>with</span> <span m=''1355660''>all</span> <span m=''1355990''>its</span>
  <span m=''1357120''>complexities</span> <span m=''1357970''>and</span> <span m=''1358060''>so</span>
  <span m=''1358240''>forth,</span> <span m=''1358350''>and</span> <span m=''1358460''>I''m</span>
  <span m=''1358570''>sure</span> <span m=''1358760''>for</span> <span m=''1358890''>some</span>
  <span m=''1359100''>of</span> <span m=''1359210''>you</span> <span m=''1361250''>who</span>
  <span m=''1361410''>have</span> <span m=''1361570''>learned</span> <span m=''1361840''>English</span>
  <span m=''1362280''>as</span> <span m=''1362390''>a</span> <span m=''1362500''>second</span>
  <span m=''1362820''>language,</span> <span m=''1363960''>it''s</span> <span m=''1364140''>like
  it''s</span> <span m=''1364300''>a</span> <span m=''1364470''>crazy</span> <span
  m=''1364970''>language.</span> <span m=''1365370''>Who</span> <span m=''1365600''>do
  you</span> <span m=''1365820''>learn</span> <span m=''1366100''>English?</span>
  <span m=''1366640''>Well,</span> <span m=''1366830''>it''s</span> <span m=''1366940''>because</span>
  <span m=''1367120''>that''s</span> <span m=''1367340''>what</span> <span m=''1367440''>everybody''s</span>
  <span m=''1367900''>learning.</span> <span m=''1370040''>That''s</span> <span m=''1370380''>where</span>
  <span m=''1370490''>the</span> <span m=''1370600''>legacy</span> <span m=''1371060''>is.</span>
  <span m=''1372560''>And</span> <span m=''1372690''>so</span> <span m=''1373140''>x86</span>
  <span m=''1373650''>is</span> <span m=''1373780''>very</span> <span m=''1373980''>much</span>
  <span m=''1374220''>like</span> <span m=''1374460''>the</span> <span m=''1374600''>English</span>
  <span m=''1375140''>of</span> <span m=''1377130''>machines</span> <span m=''1377590''>these</span>
  <span m=''1377820''>days.</span> </p><p><span m=''1378920''>So</span> <span m=''1379310''>in</span>
  <span m=''1380080''>this</span> <span m=''1380410''>model</span> <span m=''1382870''>there''s</span>
  <span m=''1383090''>basically</span> <span m=''1383720''>a</span> <span m=''1383770''>flat</span>
  <span m=''1384200''>64-bit</span> <span m=''1385030''>address</span> <span m=''1385500''>space.</span>
  <span m=''1389510''>There</span> <span m=''1389740''>are</span> <span m=''1389880''>16</span>
  <span m=''1390332''>64-bit</span> <span m=''1391690''>general</span> <span m=''1392070''>purpose</span>
  <span m=''1392460''>registers,</span> <span m=''1394070''>and</span> <span m=''1394290''>then</span>
  <span m=''1394710''>what</span> <span m=''1394890''>are</span> <span m=''1394990''>some</span>
  <span m=''1395290''>segment</span> <span m=''1395840''>registers,</span> <span m=''1397610''>a</span>
  <span m=''1397980''>register</span> <span m=''1398510''>full of</span> <span m=''1398800''>flags,</span>
  <span m=''1400920''>an</span> <span m=''1401380''>instruction</span> <span m=''1402080''>pointer</span>
  <span m=''1402510''>register,</span> <span m=''1404650''>rest</span> <span m=''1405200''>in</span>
  <span m=''1405290''>peace.</span> <span m=''1407910''>They''re</span> <span m=''1408780''>eight</span>
  <span m=''1409220''>80-bit</span> <span m=''1409780''>floating</span> <span m=''1410120''>point</span>
  <span m=''1410480''>data</span> <span m=''1410790''>registers,</span> <span m=''1412930''>some</span>
  <span m=''1413170''>control</span> <span m=''1413920''>status</span> <span m=''1414470''>registers,</span>
  <span m=''1415120''>an</span> <span m=''1415220''>opcode</span> <span m=''1415760''>register,</span>
  <span m=''1417250''>a</span> <span m=''1417370''>floating</span> <span m=''1417850''>point</span>
  <span m=''1418070''>instruction</span> <span m=''1418700''>pointer</span> <span
  m=''1419120''>register,</span> <span m=''1419435''>and</span> <span m=''1419750''>a</span>
  <span m=''1419910''>floating</span> <span m=''1420200''>point</span> <span m=''1420540''>data</span>
  <span m=''1420830''>pointing</span> <span m=''1421220''>register,</span> <span m=''1422660''>some</span>
  <span m=''1423050''>MMX</span> <span m=''1423950''>registers</span> <span m=''1426210''>for</span>
  <span m=''1426480''>the</span> <span m=''1427000''>multimedia</span> <span m=''1427710''>extensions,</span>
  <span m=''1429520''>and</span> <span m=''1429815''>a</span> <span m=''1430600''>128-bit</span>
  <span m=''1433090''>XMM</span> <span m=''1433920''>registers</span> <span m=''1434700''>for</span>
  <span m=''1434980''>the</span> <span m=''1436770''>SSE</span> <span m=''1437190''>instructions,</span>
  <span m=''1438110''>which</span> <span m=''1438330''>are</span> <span m=''1438540''>the</span>
  <span m=''1439430''>ability</span> <span m=''1440560''>to</span> <span m=''1440790''>have</span>
  <span m=''1441020''>an opcode</span> <span m=''1441500''>run</span> <span m=''1441760''>over</span>
  <span m=''1441970''>several</span> <span m=''1442450''>pieces</span> <span m=''1442800''>of</span>
  <span m=''1442900''>data</span> <span m=''1443170''>at</span> <span m=''1443260''>once,</span>
  <span m=''1444260''>short</span> <span m=''1444590''>vectors,</span> <span m=''1445040''>vector</span>
  <span m=''1445300''>instructions,</span> <span m=''1446630''>and</span> <span m=''1446990''>a</span>
  <span m=''1447160''>32-bit</span> <span m=''1447990''>register</span> <span m=''1448530''>that</span>
  <span m=''1448950''>frankly</span> <span m=''1449370''>I</span> <span m=''1449440''>don''t</span>
  <span m=''1449740''>have</span> <span m=''1449870''>a</span> <span m=''1450000''>clue</span>
  <span m=''1450300''>as</span> <span m=''1450420''>to</span> <span m=''1450520''>what</span>
  <span m=''1450680''>it</span> <span m=''1450790''>does.</span> </p><p><span m=''1453410''>So,</span>
  <span m=''1453590''>fortunately,</span> <span m=''1454200''>we</span> <span m=''1454320''>don''t</span>
  <span m=''1454480''>have</span> <span m=''1454680''>to</span> <span m=''1454790''>know</span>
  <span m=''1455020''>all</span> <span m=''1455300''>these.</span> <span m=''1456010''>You</span>
  <span m=''1456180''>can</span> <span m=''1456290''>look</span> <span m=''1456510''>at</span>
  <span m=''1456580''>the</span> <span m=''1456720''>architecture</span> <span m=''1457270''>manual</span>
  <span m=''1457620''>if</span> <span m=''1457720''>any of</span> <span m=''1457930''>these</span>
  <span m=''1458170''>become</span> <span m=''1458480''>important.</span> <span m=''1460250''>So</span>
  <span m=''1460500''>our</span> <span m=''1460670''>goal</span> <span m=''1461020''>is</span>
  <span m=''1461150''>not</span> <span m=''1461420''>to</span> <span m=''1461540''>memorize</span>
  <span m=''1462170''>the</span> <span m=''1462480''>x86</span> <span m=''1462900''>instruction</span>
  <span m=''1463400''>set.</span> <span m=''1464170''>That</span> <span m=''1464370''>would</span>
  <span m=''1464510''>be</span> <span m=''1465665''>a</span> <span m=''1466100''>punishment</span>
  <span m=''1466720''>probably</span> <span m=''1467070''>worse</span> <span m=''1467390''>than</span>
  <span m=''1468050''>death.</span> <span m=''1470390''>The</span> <span m=''1470550''>only</span>
  <span m=''1470710''>thing</span> <span m=''1470920''>worse</span> <span m=''1471660''>would</span>
  <span m=''1471800''>be</span> <span m=''1471930''>learning</span> <span m=''1472270''>all</span>
  <span m=''1472540''>of</span> <span m=''1472770''>C++.</span> </p><p><span m=''1476960''>So</span>
  <span m=''1477140''>here''s</span> <span m=''1477550''>the</span> <span m=''1478270''>general</span>
  <span m=''1478710''>registers.</span> <span m=''1480800''>So</span> <span m=''1481050''>there</span>
  <span m=''1481260''>are</span> <span m=''1481340''>basically</span> <span m=''1482600''>64-bit</span>
  <span m=''1483510''>registers.</span> <span m=''1484260''>And</span> <span m=''1484450''>here''s</span>
  <span m=''1484780''>the</span> <span m=''1484870''>mnemonics</span> <span m=''1485470''>that</span>
  <span m=''1485620''>they</span> <span m=''1485860''>have.</span> <span m=''1486090''>So</span>
  <span m=''1486180''>you</span> <span m=''1486290''>can</span> <span m=''1486390''>see</span>
  <span m=''1486530''>is</span> <span m=''1486660''>all</span> <span m=''1486850''>very</span>
  <span m=''1487720''>mnemonic,</span> <span m=''1488200''>right?</span> <span m=''1488370''>We</span>
  <span m=''1488470''>got</span> <span m=''1488650''>some</span> <span m=''1489120''>of
  them that are</span> <span m=''1489350''>numbered.</span> <span m=''1490110''>How
  come</span> <span m=''1490460''>they''re</span> <span m=''1490580''>all</span> <span
  m=''1490750''>just</span> <span m=''1490980''>not</span> <span m=''1491200''>numbered?</span>
  <span m=''1491560''>I</span> <span m=''1491590''>mean</span> <span m=''1491750''>come</span>
  <span m=''1491930''>on,</span> <span m=''1492270''>right?</span> <span m=''1493670''>I</span>
  <span m=''1493880''>know why.</span> <span m=''1494150''>I</span> <span m=''1494390''>know</span>
  <span m=''1494700''>why.</span> <span m=''1494880''>Don''t</span> <span m=''1495145''>tell</span>
  <span m=''1495410''>me.</span> </p><p><span m=''1498660''>So</span> <span m=''1498870''>what</span>
  <span m=''1499030''>you</span> <span m=''1499110''>get</span> <span m=''1499280''>to</span>
  <span m=''1499360''>do</span> <span m=''1499600''>is</span> <span m=''1500230''>look</span>
  <span m=''1500540''>at</span> <span m=''1500800''>and</span> <span m=''1500910''>remember</span>
  <span m=''1501330''>that</span> <span m=''1501530''>there</span> <span m=''1501640''>are</span>
  <span m=''1501740''>all</span> <span m=''1502450''>these</span> <span m=''1504940''>fun</span>
  <span m=''1505230''>registers.</span> <span m=''1506240''>And</span> <span m=''1506380''>what</span>
  <span m=''1506560''>they</span> <span m=''1506700''>did</span> <span m=''1507020''>is</span>
  <span m=''1507360''>the</span> <span m=''1508000''>x86</span> <span m=''1508660''>64</span>
  <span m=''1510100''>architecture</span> <span m=''1510790''>grew</span> <span m=''1511120''>out</span>
  <span m=''1511370''>of</span> <span m=''1511520''>the</span> <span m=''1511950''>x86</span>
  <span m=''1513560''>which</span> <span m=''1513820''>was</span> <span m=''1514150''>32-bit.</span>
  <span m=''1514730''>Well,</span> <span m=''1514940''>in</span> <span m=''1515020''>fact,</span>
  <span m=''1515430''>originally</span> <span m=''1515940''>it</span> <span m=''1516060''>was</span>
  <span m=''1516200''>16-bit.</span> <span m=''1518340''>And</span> <span m=''1518420''>it''s</span>
  <span m=''1518590''>been</span> <span m=''1518740''>extended</span> <span m=''1519330''>twice</span>
  <span m=''1520620''>to</span> <span m=''1520830''>have</span> <span m=''1521030''>more</span>
  <span m=''1521390''>bits</span> <span m=''1521730''>in</span> <span m=''1521820''>the</span>
  <span m=''1521930''>instruction</span> <span m=''1522530''>word</span> <span m=''1522800''>so</span>
  <span m=''1522950''>that</span> <span m=''1523130''>now</span> <span m=''1523390''>it''s</span>
  <span m=''1523530''>a</span> <span m=''1523580''>64-bit</span> <span m=''1524390''>instruction</span>
  <span m=''1524910''>word.</span> </p><p><span m=''1525730''>And</span> <span m=''1525810''>what</span>
  <span m=''1526010''>they</span> <span m=''1526140''>did</span> <span m=''1526480''>in</span>
  <span m=''1526590''>order</span> <span m=''1526920''>to</span> <span m=''1527060''>make</span>
  <span m=''1527360''>it</span> <span m=''1527560''>so</span> <span m=''1527740''>that</span>
  <span m=''1527940''>they</span> <span m=''1528110''>could</span> <span m=''1528300''>run</span>
  <span m=''1528620''>legacy</span> <span m=''1529150''>code</span> <span m=''1529550''>more</span>
  <span m=''1529900''>easily,</span> <span m=''1530600''>which</span> <span m=''1530840''>might</span>
  <span m=''1531090''>have</span> <span m=''1531160''>been</span> <span m=''1531360''>written</span>
  <span m=''1532020''>with</span> <span m=''1532540''>a</span> <span m=''1532750''>smaller</span>
  <span m=''1533250''>word</span> <span m=''1533580''>size,</span> <span m=''1534420''>is</span>
  <span m=''1534660''>they''ve</span> <span m=''1534930''>overlap</span> <span m=''1535650''>so</span>
  <span m=''1535830''>that</span> <span m=''1536000''>the</span> <span m=''1536180''>EAX</span>
  <span m=''1537080''>register,</span> <span m=''1537710''>for</span> <span m=''1537860''>example,</span>
  <span m=''1538370''>is</span> <span m=''1538570''>the</span> <span m=''1538670''>low</span>
  <span m=''1539090''>order</span> <span m=''1539370''>32-bits</span> <span m=''1540830''>of</span>
  <span m=''1541010''>the</span> <span m=''1541170''>RAX</span> <span m=''1541840''>register.</span>
  <span m=''1543740''>So</span> <span m=''1543900''>what</span> <span m=''1544020''>you</span>
  <span m=''1544110''>do</span> <span m=''1544300''>is</span> <span m=''1544420''>you''ll</span>
  <span m=''1544560''>see</span> <span m=''1544860''>that</span> <span m=''1545120''>R</span>
  <span m=''1546160''>is</span> <span m=''1546380''>the</span> <span m=''1546470''>prefix</span>
  <span m=''1547150''>that</span> <span m=''1547320''>says,</span> <span m=''1547690''>hey,</span>
  <span m=''1548620''>that''s</span> <span m=''1548960''>a</span> <span m=''1549060''>64-bit</span>
  <span m=''1549940''>register.</span> <span m=''1552182''>E</span> <span m=''1552570''>is</span>
  <span m=''1552720''>the</span> <span m=''1552810''>prefix</span> <span m=''1553910''>that</span>
  <span m=''1554080''>says</span> <span m=''1554600''>that</span> <span m=''1554800''>it</span>
  <span m=''1554970''>is--</span> </p><p><span m=''1556380''>Whoops,</span> <span
  m=''1556920''>I</span> <span m=''1557090''>made</span> <span m=''1557410''>a</span>
  <span m=''1557460''>mistake</span> <span m=''1557820''>there.</span> <span m=''1557920''>Those
  should</span> <span m=''1558190''>all</span> <span m=''1558460''>be</span> <span
  m=''1558855''>Es.</span> <span m=''1563530''>Oh,</span> <span m=''1563600''>no,</span>
  <span m=''1563790''>sorry,</span> <span m=''1564090''>no,</span> <span m=''1564590''>there''s</span>
  <span m=''1564810''>are</span> <span m=''1564860''>correct.</span> <span m=''1565200''>These</span>
  <span m=''1565410''>are R</span> <span m=''1565840''>and</span> <span m=''1566000''>then</span>
  <span m=''1566630''>with</span> <span m=''1566800''>D</span> <span m=''1567670''>because</span>
  <span m=''1567910''>these</span> <span m=''1568130''>are</span> <span m=''1568170''>the</span>
  <span m=''1568310''>extended</span> <span m=''1568780''>ones,</span> <span m=''1569000''>yes.</span>
  <span m=''1569760''>So</span> <span m=''1569900''>these</span> <span m=''1570160''>are</span>
  <span m=''1571450''>D.</span> <span m=''1572420''>So</span> <span m=''1572960''>R
  and</span> <span m=''1573240''>D,</span> <span m=''1573630''>that</span> <span m=''1573860''>means</span>
  <span m=''1574120''>also</span> <span m=''1574470''>that</span> <span m=''1575410''>it''s</span>
  <span m=''1576870''>16.</span> <span m=''1577410''>So</span> <span m=''1577500''>you</span>
  <span m=''1577580''>can</span> <span m=''1577650''>see</span> <span m=''1578040''>just</span>
  <span m=''1578300''>how</span> <span m=''1578560''>easy</span> <span m=''1578910''>this</span>
  <span m=''1579180''>is</span> <span m=''1579320''>to</span> <span m=''1579500''>remember</span>
  <span m=''1579900''>without</span> <span m=''1580210''>a</span> <span m=''1580280''>cheat</span>
  <span m=''1580540''>sheet,</span> <span m=''1580800''>right?</span> </p><p><span
  m=''1581670''>And</span> <span m=''1581850''>then</span> <span m=''1582010''>you</span>
  <span m=''1582130''>go</span> <span m=''1582310''>down</span> <span m=''1582650''>to</span>
  <span m=''1582720''>15,</span> <span m=''1583080''>et</span> <span m=''1583220''>cetera.</span>
  <span m=''1583540''>And</span> <span m=''1583660''>so</span> <span m=''1583770''>you</span>
  <span m=''1583880''>can</span> <span m=''1584030''>go</span> <span m=''1584190''>all</span>
  <span m=''1584290''>the</span> <span m=''1584390''>way</span> <span m=''1584530''>down</span>
  <span m=''1584780''>to</span> <span m=''1584870''>byte</span> <span m=''1585260''>naming,</span>
  <span m=''1585720''>the</span> <span m=''1585820''>low</span> <span m=''1585980''>order</span>
  <span m=''1586190''>byte</span> <span m=''1586510''>of</span> <span m=''1586720''>the</span>
  <span m=''1586840''>registers.</span> <span m=''1588510''>In</span> <span m=''1588660''>addition,</span>
  <span m=''1589170''>it</span> <span m=''1589280''>turns</span> <span m=''1589600''>out</span>
  <span m=''1590100''>that</span> <span m=''1590260''>that''s</span> <span m=''1590570''>not</span>
  <span m=''1590780''>all.</span> <span m=''1591450''>But</span> <span m=''1591610''>the</span>
  <span m=''1591670''>high</span> <span m=''1592060''>order</span> <span m=''1592340''>byte</span>
  <span m=''1594290''>of</span> <span m=''1594440''>the</span> <span m=''1594530''>16-bit</span>
  <span m=''1595170''>registers</span> <span m=''1595650''>are</span> <span m=''1595800''>also</span>
  <span m=''1596150''>available</span> <span m=''1597050''>as</span> <span m=''1597280''>independently</span>
  <span m=''1598040''>named</span> <span m=''1599970''>registers.</span> </p><p><span
  m=''1605830''>When</span> <span m=''1606060''>you''re</span> <span m=''1606180''>using</span>
  <span m=''1606600''>this</span> <span m=''1606790''>in</span> <span m=''1606850''>a</span>
  <span m=''1606930''>C</span> <span m=''1607190''>program,</span> <span m=''1607840''>there''s</span>
  <span m=''1608050''>a</span> <span m=''1608120''>convention</span> <span m=''1609590''>that</span>
  <span m=''1609810''>C</span> <span m=''1610140''>has.</span> <span m=''1610600''>And</span>
  <span m=''1610780''>it''s</span> <span m=''1610900''>actually</span> <span m=''1611190''>different</span>
  <span m=''1611780''>on</span> <span m=''1612110''>Windows</span> <span m=''1612820''>from</span>
  <span m=''1613060''>on</span> <span m=''1613460''>Linux.</span> <span m=''1614570''>Because</span>
  <span m=''1615470''>there''s</span> <span m=''1615590''>no</span> <span m=''1615740''>reason</span>
  <span m=''1616480''>they</span> <span m=''1616610''>should</span> <span m=''1616780''>make</span>
  <span m=''1616970''>those</span> <span m=''1617200''>things</span> <span m=''1617450''>compatible.</span>
  <span m=''1618010''>That</span> <span m=''1618170''>would</span> <span m=''1618260''>be</span>
  <span m=''1618410''>too</span> <span m=''1618720''>easy.</span> <span m=''1621040''>So</span>
  <span m=''1621280''>instead</span> <span m=''1621710''>they</span> <span m=''1621810''>have</span>
  <span m=''1621950''>different</span> <span m=''1622230''>ones.</span> <span m=''1622460''>But</span>
  <span m=''1622620''>the</span> <span m=''1622710''>ones</span> <span m=''1623040''>on</span>
  <span m=''1623220''>Linux,</span> <span m=''1624190''>this</span> <span m=''1624390''>is</span>
  <span m=''1624540''>essentially</span> <span m=''1626190''>the</span> <span m=''1626550''>structure.</span>
  <span m=''1627480''>What</span> <span m=''1627730''>happens</span> <span m=''1628190''>when</span>
  <span m=''1628340''>you</span> <span m=''1628450''>call</span> <span m=''1628730''>a</span>
  <span m=''1628920''>subroutine</span> <span m=''1629850''>is</span> <span m=''1630150''>generally</span>
  <span m=''1630640''>you''re</span> <span m=''1630810''>passing</span> <span m=''1631490''>the</span>
  <span m=''1632410''>arguments</span> <span m=''1632930''>to</span> <span m=''1633050''>the</span>
  <span m=''1633110''>subroutine</span> <span m=''1633780''>in</span> <span m=''1633950''>registers.</span>
  <span m=''1635250''>And</span> <span m=''1635750''>in</span> <span m=''1635770''>fact</span>
  <span m=''1636060''>the</span> <span m=''1636270''>first</span> <span m=''1636480''>six</span>
  <span m=''1636750''>arguments</span> <span m=''1637330''>are</span> <span m=''1637490''>passed</span>
  <span m=''1637940''>in</span> <span m=''1638130''>these</span> <span m=''1638340''>registers.</span>
  </p><p><span m=''1639360''>RDI,</span> <span m=''1640260''>you''ll</span> <span
  m=''1640380''>get</span> <span m=''1640570''>very</span> <span m=''1640770''>familiar</span>
  <span m=''1641170''>with</span> <span m=''1641320''>RDI.</span> <span m=''1642790''>Because</span>
  <span m=''1644300''>that''s</span> <span m=''1644870''>where</span> <span m=''1645000''>the</span>
  <span m=''1645110''>first</span> <span m=''1645460''>argument</span> <span m=''1645830''>is</span>
  <span m=''1645950''>always</span> <span m=''1646210''>passed.</span> <span m=''1646660''>And</span>
  <span m=''1646790''>almost</span> <span m=''1647160''>all</span> <span m=''1647520''>your</span>
  <span m=''1647670''>functions</span> <span m=''1648110''>will</span> <span m=''1648220''>have</span>
  <span m=''1648420''>a</span> <span m=''1648510''>first</span> <span m=''1648840''>argument,</span>
  <span m=''1650530''>except for</span> <span m=''1650820''>the</span> <span m=''1650960''>ones</span>
  <span m=''1651190''>that have</span> <span m=''1651350''>no</span> <span m=''1651490''>arguments,</span>
  <span m=''1653410''>and</span> <span m=''1653540''>then</span> <span m=''1653660''>the</span>
  <span m=''1653880''>second</span> <span m=''1654100''>arguments,</span> <span m=''1654600''>the</span>
  <span m=''1654710''>third,</span> <span m=''1655150''>and</span> <span m=''1655280''>so</span>
  <span m=''1655490''>forth,</span> <span m=''1655880''>and</span> <span m=''1656080''>then</span>
  <span m=''1656750''>fifth</span> <span m=''1657060''>and</span> <span m=''1657200''>sixth.</span>
  <span m=''1657890''>If</span> <span m=''1658030''>you</span> <span m=''1658110''>get</span>
  <span m=''1658310''>more</span> <span m=''1658540''>than</span> <span m=''1658730''>six,</span>
  <span m=''1659950''>then</span> <span m=''1660270''>it</span> <span m=''1660410''>turns</span>
  <span m=''1660670''>out,</span> <span m=''1660980''>then</span> <span m=''1661170''>you</span>
  <span m=''1661260''>start</span> <span m=''1661550''>passing</span> <span m=''1661990''>arguments</span>
  <span m=''1662400''>through</span> <span m=''1662580''>memory.</span> <span m=''1664120''>But</span>
  <span m=''1664500''>otherwise</span> <span m=''1665180''>the</span> <span m=''1665290''>convention</span>
  <span m=''1665860''>is</span> <span m=''1666330''>that</span> <span m=''1666480''>the</span>
  <span m=''1666610''>arguments</span> <span m=''1667040''>are</span> <span m=''1667120''>passed</span>
  <span m=''1667500''>through</span> <span m=''1667670''>registers.</span> </p><p><span
  m=''1669650''>There</span> <span m=''1669910''>are</span> <span m=''1670500''>a</span>
  <span m=''1670680''>couple</span> <span m=''1670950''>of</span> <span m=''1671050''>other</span>
  <span m=''1671240''>important</span> <span m=''1671700''>registers.</span> <span
  m=''1672220''>One</span> <span m=''1672460''>here</span> <span m=''1672810''>is</span>
  <span m=''1674280''>the</span> <span m=''1674670''>return</span> <span m=''1675460''>value</span>
  <span m=''1676130''>always</span> <span m=''1676480''>comes</span> <span m=''1676800''>back</span>
  <span m=''1677140''>in</span> <span m=''1677250''>RAX.</span> <span m=''1679320''>So</span>
  <span m=''1679510''>when</span> <span m=''1679660''>a</span> <span m=''1679710''>function</span>
  <span m=''1680070''>returns,</span> <span m=''1680910''>boom,</span> <span m=''1681320''>that''s</span>
  <span m=''1681640''>where,</span> <span m=''1683060''>RAX</span> <span m=''1683690''>is</span>
  <span m=''1683840''>where</span> <span m=''1684020''>the</span> <span m=''1684140''>value</span>
  <span m=''1684640''>of</span> <span m=''1684750''>the</span> <span m=''1684840''>return</span>
  <span m=''1685230''>is.</span> <span m=''1687210''>There</span> <span m=''1687710''>is</span>
  <span m=''1689000''>a</span> <span m=''1689150''>base</span> <span m=''1689620''>pointer</span>
  <span m=''1690060''>and</span> <span m=''1690120''>a</span> <span m=''1690180''>stack</span>
  <span m=''1690640''>pointer</span> <span m=''1690960''>which</span> <span m=''1691180''>give</span>
  <span m=''1691340''>you</span> <span m=''1691440''>the</span> <span m=''1691540''>stack</span>
  <span m=''1691960''>frame</span> <span m=''1693940''>so</span> <span m=''1694240''>that</span>
  <span m=''1694410''>when</span> <span m=''1694600''>you</span> <span m=''1694750''>do</span>
  <span m=''1694920''>a</span> <span m=''1695030''>push and</span> <span m=''1695490''>want</span>
  <span m=''1695620''>to</span> <span m=''1695660''>push</span> <span m=''1695900''>local</span>
  <span m=''1696220''>variables</span> <span m=''1697080''>those</span> <span m=''1697350''>are</span>
  <span m=''1697450''>telling</span> <span m=''1697770''>you</span> <span m=''1697890''>the</span>
  <span m=''1697990''>limits</span> <span m=''1698360''>of</span> <span m=''1698440''>your</span>
  <span m=''1698880''>local</span> <span m=''1699360''>variats. And</span> <span m=''1699680''>we''ll</span>
  <span m=''1699800''>talk</span> <span m=''1700060''>more</span> <span m=''1700200''>about</span>
  <span m=''1700450''>that</span> <span m=''1700610''>a</span> <span m=''1700630''>little</span>
  <span m=''1700870''>bit.</span> </p><p><span m=''1701780''>And</span> <span m=''1701940''>then</span>
  <span m=''1702100''>there</span> <span m=''1702230''>are a</span> <span m=''1702290''>variety</span>
  <span m=''1702810''>of</span> <span m=''1702890''>other</span> <span m=''1703110''>ones.</span>
  <span m=''1703390''>Some</span> <span m=''1703690''>are</span> <span m=''1704470''>callee</span>
  <span m=''1705060''>saved</span> <span m=''1705850''>and</span> <span m=''1706040''>some
  are</span> <span m=''1706360''>caller</span> <span m=''1706820''>saved.</span> <span
  m=''1708880''>And</span> <span m=''1709480''>you</span> <span m=''1709810''>can</span>
  <span m=''1709860''>refer</span> <span m=''1710200''>to</span> <span m=''1710250''>this</span>
  <span m=''1710460''>chart.</span> <span m=''1710880''>And</span> <span m=''1711080''>there</span>
  <span m=''1711180''>are</span> <span m=''1711280''>others</span> <span m=''1711490''>similar</span>
  <span m=''1712140''>to</span> <span m=''1712380''>it</span> <span m=''1712540''>in</span>
  <span m=''1713360''>the</span> <span m=''1713470''>various</span> <span m=''1713840''>manuals.</span>
  </p><p><span m=''1716000''>Now,</span> <span m=''1716510''>it</span> <span m=''1716700''>gets</span>
  <span m=''1716920''>pretty</span> <span m=''1717170''>confusing,</span> <span m=''1718220''>if</span>
  <span m=''1718440''>this</span> <span m=''1718650''>isn''t</span> <span m=''1718910''>confusing</span>
  <span m=''1719430''>enough</span> <span m=''1719730''>for</span> <span m=''1719810''>the</span>
  <span m=''1719930''>naming.</span> <span m=''1722960''>Let''s</span> <span m=''1723200''>go</span>
  <span m=''1723430''>on</span> <span m=''1723670''>to</span> <span m=''1723860''>how</span>
  <span m=''1724040''>you</span> <span m=''1724200''>name</span> <span m=''1724550''>data</span>
  <span m=''1724850''>types.</span> <span m=''1725540''>And</span> <span m=''1725710''>I</span>
  <span m=''1725790''>think</span> <span m=''1726080''>some</span> <span m=''1726260''>of</span>
  <span m=''1726370''>you  have</span> <span m=''1726480''>already</span> <span m=''1726690''>experienced</span>
  <span m=''1727320''>this</span> <span m=''1727480''>a</span> <span m=''1727530''>little</span>
  <span m=''1727770''>bit,</span> <span m=''1728040''>the</span> <span m=''1728440''>beauties</span>
  <span m=''1728900''>of</span> <span m=''1729030''>the</span> <span m=''1729780''>data</span>
  <span m=''1730110''>types.</span> <span m=''1730960''>So</span> <span m=''1731180''>in</span>
  <span m=''1731290''>C,</span> <span m=''1732980''>they</span> <span m=''1733140''>have</span>
  <span m=''1733300''>all</span> <span m=''1733560''>these</span> <span m=''1733770''>different</span>
  <span m=''1734100''>data</span> <span m=''1734380''>types</span> <span m=''1735500''>such</span>
  <span m=''1735840''>as</span> <span m=''1736410''>I''m</span> <span m=''1736580''>listing</span>
  <span m=''1736930''>here.</span> </p><p><span m=''1738580''>And</span> <span m=''1739300''>if</span>
  <span m=''1739510''>you</span> <span m=''1739660''>want</span> <span m=''1739930''>to</span>
  <span m=''1740010''>generate</span> <span m=''1740560''>a</span> <span m=''1740630''>constant</span>
  <span m=''1741250''>of</span> <span m=''1741350''>that</span> <span m=''1741630''>size,</span>
  <span m=''1741960''>so</span> <span m=''1742100''>sometimes</span> <span m=''1742610''>the</span>
  <span m=''1742710''>compiler</span> <span m=''1743800''>will</span> <span m=''1744380''>coerce</span>
  <span m=''1744770''>a</span> <span m=''1745160''>value</span> <span m=''1745640''>from</span>
  <span m=''1745950''>one</span> <span m=''1746210''>type</span> <span m=''1746570''>to</span>
  <span m=''1746730''>another.</span> <span m=''1747330''>But</span> <span m=''1747530''>sometimes</span>
  <span m=''1748110''>it</span> <span m=''1748210''>won''t.</span> <span m=''1749220''>And</span>
  <span m=''1749390''>so</span> <span m=''1749520''>if</span> <span m=''1749590''>you</span>
  <span m=''1749730''>want</span> <span m=''1749910''>to</span> <span m=''1749950''>have</span>
  <span m=''1750140''>a</span> <span m=''1750220''>constant,</span> <span m=''1750900''>and</span>
  <span m=''1751020''>I''ve</span> <span m=''1751130''>just</span> <span m=''1751310''>given</span>
  <span m=''1751520''>a</span> <span m=''1751570''>couple</span> <span m=''1751880''>things</span>
  <span m=''1752220''>here,</span> <span m=''1752600''>for</span> <span m=''1752760''>example,</span>
  <span m=''1753630''>if</span> <span m=''1753750''>you</span> <span m=''1753870''>want
  it</span> <span m=''1754150''>to</span> <span m=''1754230''>be</span> <span m=''1754410''>just</span>
  <span m=''1754670''>an</span> <span m=''1754760''>int,</span> <span m=''1757065''>you</span>
  <span m=''1757480''>can</span> <span m=''1757600''>just</span> <span m=''1757800''>write</span>
  <span m=''1758070''>the</span> <span m=''1758180''>number.</span> <span m=''1758710''>But</span>
  <span m=''1758830''>if</span> <span m=''1758910''>you</span> <span m=''1759040''>want</span>
  <span m=''1759220''>it</span> <span m=''1759310''>to</span> <span m=''1759390''>be</span>
  <span m=''1759550''>unsigned,</span> <span m=''1760070''>you</span> <span m=''1760140''>have</span>
  <span m=''1760250''>to</span> <span m=''1760350''>put</span> <span m=''1760490''>a</span>
  <span m=''1760530''>U</span> <span m=''1760800''>after</span> <span m=''1761140''>it.</span>
  <span m=''1762000''>Or</span> <span m=''1762130''>if</span> <span m=''1762190''>you</span>
  <span m=''1762340''>want</span> <span m=''1762530''>it</span> <span m=''1762620''>to</span>
  <span m=''1762700''>be</span> <span m=''1762830''>a</span> <span m=''1762900''>long,</span>
  <span m=''1763290''>you</span> <span m=''1763360''>have</span> <span m=''1763520''>to</span>
  <span m=''1763620''>put</span> <span m=''1763780''>an</span> <span m=''1763890''>L</span>
  <span m=''1764180''>after it.</span> </p><p><span m=''1766210''>And</span> <span
  m=''1766850''>for</span> <span m=''1767010''>many</span> <span m=''1767320''>things</span>
  <span m=''1767660''>it''ll</span> <span m=''1767820''>get</span> <span m=''1768010''>coerced</span>
  <span m=''1768500''>automatically</span> <span m=''1769190''>to</span> <span m=''1769310''>the</span>
  <span m=''1769390''>right</span> <span m=''1769680''>type</span> <span m=''1769940''>because</span>
  <span m=''1770180''>if</span> <span m=''1770260''>you</span> <span m=''1770370''>do</span>
  <span m=''1770540''>an</span> <span m=''1770610''>operator</span> <span m=''1771550''>with</span>
  <span m=''1771710''>another</span> <span m=''1772320''>argument</span> <span m=''1773010''>it</span>
  <span m=''1773150''>will</span> <span m=''1773320''>be</span> <span m=''1773830''>coerced</span>
  <span m=''1774220''>to</span> <span m=''1774310''>that</span> <span m=''1774560''>type.</span>
  <span m=''1775100''>But</span> <span m=''1775240''>some</span> <span m=''1775450''>of</span>
  <span m=''1775530''>you</span> <span m=''1775650''>got</span> <span m=''1775870''>burned</span>
  <span m=''1776240''>on</span> <span m=''1776360''>some</span> <span m=''1776550''>of</span>
  <span m=''1776590''>the</span> <span m=''1776650''>shift</span> <span m=''1777080''>things</span>
  <span m=''1777380''>to</span> <span m=''1777490''>begin</span> <span m=''1777820''>with</span>
  <span m=''1780010''>because</span> <span m=''1780270''>it</span> <span m=''1780360''>wasn''t</span>
  <span m=''1780810''>clear</span> <span m=''1781220''>what</span> <span m=''1781520''>exactly</span>
  <span m=''1783800''>the</span> <span m=''1784000''>sizes.</span> <span m=''1784570''>Well,</span>
  <span m=''1784690''>you</span> <span m=''1784820''>can</span> <span m=''1784940''>be</span>
  <span m=''1785090''>explicit</span> <span m=''1785710''>in</span> <span m=''1785860''>C</span>
  <span m=''1787020''>and</span> <span m=''1788010''>name</span> <span m=''1788290''>them</span>
  <span m=''1789690''>using</span> <span m=''1790060''>this</span> <span m=''1790230''>particular</span>
  <span m=''1790740''>convention.</span> <span m=''1792690''>This</span> <span m=''1792950''>tells</span>
  <span m=''1793260''>you</span> <span m=''1793370''>how</span> <span m=''1793650''>many</span>
  <span m=''1794330''>bytes</span> <span m=''1794780''>are</span> <span m=''1794870''>being</span>
  <span m=''1795160''>allocated</span> <span m=''1796470''>for</span> <span m=''1796700''>that</span>
  <span m=''1797100''>type</span> <span m=''1800090''>in</span> <span m=''1800270''>the</span>
  <span m=''1800610''>x86</span> <span m=''1801500''>64</span> <span m=''1802820''>size.</span>
  <span m=''1803110''>So it''s</span> <span m=''1803400''>[? veted ?]</span> <span
  m=''1803890''>here for four.</span> </p><p><span m=''1804550''>Now,</span> <span
  m=''1804680''>long</span> <span m=''1805040''>double</span> <span m=''1805370''>is</span>
  <span m=''1805490''>a</span> <span m=''1805540''>funny</span> <span m=''1805870''>one.</span>
  <span m=''1806150''>It''s</span> <span m=''1806290''>actually</span> <span m=''1806590''>allocate</span>
  <span m=''1807110''>16</span> <span m=''1807730''>bytes,</span> <span m=''1808480''>but</span>
  <span m=''1808640''>only</span> <span m=''1808910''>10</span> <span m=''1809170''>of</span>
  <span m=''1809270''>them</span> <span m=''1809410''>are</span> <span m=''1809490''>used.</span>
  <span m=''1811740''>So</span> <span m=''1811950''>basically</span> <span m=''1812540''>there
  are</span> <span m=''1812750''>six</span> <span m=''1813020''>bytes</span> <span
  m=''1813380''>that</span> <span m=''1813490''>get</span> <span m=''1813760''>unused</span>
  <span m=''1814930''>by</span> <span m=''1815300''>that.</span> <span m=''1815500''>And</span>
  <span m=''1815610''>I</span> <span m=''1815670''>think</span> <span m=''1815870''>that''s</span>
  <span m=''1816190''>for</span> <span m=''1817450''>future</span> <span m=''1817850''>expansion</span>
  <span m=''1818480''>so</span> <span m=''1818630''>that</span> <span m=''1818800''>they</span>
  <span m=''1818970''>can</span> <span m=''1819960''>have</span> <span m=''1820200''>even</span>
  <span m=''1820770''>wider</span> <span m=''1821200''>extension.</span> <span m=''1821700''>This</span>
  <span m=''1821820''>is</span> <span m=''1821950''>generally</span> <span m=''1822250''>used,</span>
  <span m=''1822530''>of</span> <span m=''1822580''>course,</span> <span m=''1822860''>for</span>
  <span m=''1823100''>floating</span> <span m=''1823480''>point</span> <span m=''1823700''>and</span>
  <span m=''1823820''>so</span> <span m=''1823940''>forth.</span> </p><p><span m=''1825010''>Now,</span>
  <span m=''1825240''>in</span> <span m=''1825500''>the</span> <span m=''1825850''>assembly</span>
  <span m=''1826450''>language,</span> <span m=''1827060''>each</span> <span m=''1827330''>of</span>
  <span m=''1827410''>the</span> <span m=''1828480''>operators</span> <span m=''1829870''>has</span>
  <span m=''1832224''>a</span> <span m=''1832660''>suffix.</span> <span m=''1834125''>And</span>
  <span m=''1834520''>sometimes,</span> <span m=''1835090''>if</span> <span m=''1835190''>it''s</span>
  <span m=''1835380''>a</span> <span m=''1835520''>two</span> <span m=''1835750''>operand</span>
  <span m=''1836150''>instruction,</span> <span m=''1836610''>it</span> <span m=''1836710''>may,</span>
  <span m=''1837060''>where</span> <span m=''1837190''>it''s</span> <span m=''1837360''>taking</span>
  <span m=''1837730''>things</span> <span m=''1838010''>of</span> <span m=''1838060''>different</span>
  <span m=''1838420''>sizes,</span> <span m=''1839280''>it</span> <span m=''1839390''>may</span>
  <span m=''1839610''>have</span> <span m=''1839820''>two</span> <span m=''1839990''>suffixes.</span>
  <span m=''1840780''>But</span> <span m=''1841260''>it</span> <span m=''1841310''>has</span>
  <span m=''1841500''>a</span> <span m=''1841550''>suffix</span> <span m=''1841980''>which</span>
  <span m=''1842140''>is</span> <span m=''1842280''>a</span> <span m=''1842340''>single</span>
  <span m=''1842700''>character</span> <span m=''1843570''>that</span> <span m=''1843770''>tells</span>
  <span m=''1844110''>you</span> <span m=''1848930''>what</span> <span m=''1849280''>the</span>
  <span m=''1849370''>size</span> <span m=''1849860''>is</span> <span m=''1850200''>that</span>
  <span m=''1850360''>you''re</span> <span m=''1850500''>working</span> <span m=''1850880''>with.</span>
  </p><p><span m=''1852050''>So,</span> <span m=''1852260''>for</span> <span m=''1852360''>example,</span>
  <span m=''1852770''>B</span> <span m=''1853070''>is</span> <span m=''1853240''>for</span>
  <span m=''1853360''>byte.</span> <span m=''1855310''>W</span> <span m=''1855700''>is</span>
  <span m=''1855850''>for</span> <span m=''1855990''>word</span> <span m=''1857230''>because</span>
  <span m=''1857480''>originally</span> <span m=''1857890''>the</span> <span m=''1857980''>words</span>
  <span m=''1858320''>were</span> <span m=''1858460''>16</span> <span m=''1858970''>bits.</span>
  <span m=''1861421''>L</span> <span m=''1861860''>is</span> <span m=''1862020''>for</span>
  <span m=''1862230''>long</span> <span m=''1862870''>except</span> <span m=''1863160''>that
  it''s</span> <span m=''1863370''>not</span> <span m=''1863590''>a</span> <span m=''1863630''>long</span>
  <span m=''1865580''>so</span> <span m=''1865780''>don''t</span> <span m=''1866080''>get</span>
  <span m=''1866270''>confused.</span> <span m=''1867040''>L</span> <span m=''1867080''>is</span>
  <span m=''1867350''>not</span> <span m=''1867690''>long.</span> <span m=''1868680''>Long</span>
  <span m=''1869090''>is</span> <span m=''1869460''>a</span> <span m=''1869760''>quad</span>
  <span m=''1870250''>word,</span> <span m=''1870770''>or</span> <span m=''1870920''>Q,</span>
  <span m=''1872820''>four</span> <span m=''1873110''>bytes.</span> <span m=''1875180''>And</span>
  <span m=''1875430''>then</span> <span m=''1875910''>a</span> <span m=''1876270''>float</span>
  <span m=''1876770''>is</span> <span m=''1876960''>an</span> <span m=''1877100''>S.</span>
  <span m=''1877435''>A</span> <span m=''1877770''>double</span> <span m=''1878180''>is
  a</span> <span m=''1878370''>D.</span> <span m=''1878730''>And</span> <span m=''1878810''>a</span>
  <span m=''1878890''>long</span> <span m=''1879230''>double</span> <span m=''1879550''>is</span>
  <span m=''1879710''>a</span> <span m=''1879790''>T.</span> </p><p><span m=''1882100''>So</span>
  <span m=''1883010''>these</span> <span m=''1883460''>you will</span> <span m=''1883740''>get</span>
  <span m=''1883970''>familiar</span> <span m=''1884380''>with.</span> <span m=''1884920''>And</span>
  <span m=''1885050''>they''re</span> <span m=''1885170''>not</span> <span m=''1885400''>so</span>
  <span m=''1885570''>hard.</span> <span m=''1886160''>But</span> <span m=''1886690''>that</span>
  <span m=''1886890''>doesn''t</span> <span m=''1887120''>mean</span> <span m=''1887260''>you
  know them</span> <span m=''1887520''>right</span> <span m=''1887750''>off</span>
  <span m=''1887910''>the</span> <span m=''1888000''>bat.</span> <span m=''1888290''>And</span>
  <span m=''1888410''>it</span> <span m=''1888460''>helps</span> <span m=''1888730''>to</span>
  <span m=''1888810''>have</span> <span m=''1888890''>a</span> <span m=''1888950''>cheat</span>
  <span m=''1889180''>sheet.</span> <span m=''1892860''>As</span> <span m=''1893050''>I</span>
  <span m=''1893120''>say,</span> <span m=''1893270''>the</span> <span m=''1893370''>main</span>
  <span m=''1893600''>one</span> <span m=''1893770''>not</span> <span m=''1893950''>to</span>
  <span m=''1894020''>get</span> <span m=''1894200''>confused</span> <span m=''1894630''>about</span>
  <span m=''1894900''>is</span> <span m=''1895030''>the</span> <span m=''1895180''>Ls.</span>
  <span m=''1896550''>L</span> <span m=''1897040''>means</span> <span m=''1897240''>something</span>
  <span m=''1897590''>different</span> <span m=''1897910''>in</span> <span m=''1898010''>x86</span>
  <span m=''1898720''>than</span> <span m=''1898840''>it</span> <span m=''1898930''>means</span>
  <span m=''1899210''>in</span> <span m=''1899320''>C.</span> </p><p><span m=''1902630''>So,</span>
  <span m=''1902870''>for</span> <span m=''1902980''>example,</span> <span m=''1903400''>here</span>
  <span m=''1903740''>we</span> <span m=''1904060''>have</span> <span m=''1904500''>a</span>
  <span m=''1906190''>move</span> <span m=''1907540''>of,</span> <span m=''1908410''>and</span>
  <span m=''1908650''>because</span> <span m=''1909030''>it''s</span> <span m=''1909180''>a</span>
  <span m=''1909250''>Q,</span> <span m=''1910130''>I</span> <span m=''1910270''>know</span>
  <span m=''1910580''>that</span> <span m=''1910760''>it</span> <span m=''1910950''>is</span>
  <span m=''1911350''>an</span> <span m=''1911550''>eight</span> <span m=''1911910''>byte</span>
  <span m=''1912690''>or a</span> <span m=''1912880''>64-bit</span> <span m=''1913940''>operator.</span>
  <span m=''1914540''>And</span> <span m=''1914670''>you</span> <span m=''1914770''>can</span>
  <span m=''1914860''>tell</span> <span m=''1915080''>that</span> <span m=''1915240''>also</span>
  <span m=''1915660''>because</span> <span m=''1916000''>it''s</span> <span m=''1916140''>using</span>
  <span m=''1916940''>RBP</span> <span m=''1917170''>and</span> <span m=''1917615''>RAX,</span>
  <span m=''1919060''>both</span> <span m=''1919290''>of</span> <span m=''1919410''>which</span>
  <span m=''1920440''>are</span> <span m=''1920720''>64-bit</span> <span m=''1921500''>registers.</span>
  <span m=''1922630''>In fact,</span> <span m=''1922920''>in</span> <span m=''1923210''>assembly,</span>
  <span m=''1923800''>you</span> <span m=''1923930''>can</span> <span m=''1924070''>actually</span>
  <span m=''1924470''>write</span> <span m=''1924730''>it</span> <span m=''1924860''>without</span>
  <span m=''1925230''>the</span> <span m=''1925330''>Q,</span> <span m=''1927530''>because</span>
  <span m=''1928010''>the</span> <span m=''1928410''>assembler</span> <span m=''1929430''>can</span>
  <span m=''1929580''>infer</span> <span m=''1932380''>when</span> <span m=''1932770''>the
  Q</span> <span m=''1932880''>isn''t</span> <span m=''1933190''>there</span> <span
  m=''1933420''>that,</span> <span m=''1933710''>oh,</span> <span m=''1933990''>this</span>
  <span m=''1934240''>is</span> <span m=''1935532''>a</span> <span m=''1935970''>64-bit</span>
  <span m=''1936680''>register,</span> <span m=''1937050''>that''s</span> <span m=''1937300''>a</span>
  <span m=''1937350''>64-bit</span> <span m=''1938060''>register,</span> <span m=''1938850''>I</span>
  <span m=''1938980''>bet</span> <span m=''1939190''>he</span> <span m=''1939330''>means</span>
  <span m=''1939650''>move</span> <span m=''1939890''>64-bits.</span> <span m=''1941700''>So</span>
  <span m=''1942600''>it</span> <span m=''1942760''>actually</span> <span m=''1943100''>fills</span>
  <span m=''1943450''>that</span> <span m=''1943620''>in</span> <span m=''1943820''>sometimes.</span>
  <span m=''1944020''>But</span> <span m=''1944330''>sometimes</span> <span m=''1945510''>you</span>
  <span m=''1946020''>need</span> <span m=''1946320''>to</span> <span m=''1946380''>be</span>
  <span m=''1946480''>explicit.</span> <span m=''1947220''>Question?</span> </p><p><span
  m=''1947580''>AUDIENCE: What happens</span> <span m=''1948053''>when you</span>
  <span m=''1948526''>actually put</span> <span m=''1949472''>64-bit</span> <span
  m=''1950418''>registers</span> <span m=''1950891''>but you</span> <span m=''1951364''>only,</span>
  <span m=''1951837''>and you just</span> <span m=''1952310''>put</span> <span m=''1952783''>move</span>
  <span m=''1953260''>[? b ?]</span> <span m=''1953640''>or something?</span> <span
  m=''1954020''>Would it complain?</span> <span m=''1954375''>Would it</span> <span
  m=''1954730''>[UNINTELLIGIBLE]?</span> </p><p><span m=''1956490''>CHARLES LEISERSON:
  Yeah,</span> <span m=''1956930''>it would</span> <span m=''1957370''>complain.</span>
  <span m=''1957980''>Yeah, it would</span> <span m=''1958480''>complain.</span> <span
  m=''1958910''>it''ll</span> <span m=''1959080''>say</span> <span m=''1959320''>it''s</span>
  <span m=''1959620''>an</span> <span m=''1959890''>improperly</span> <span m=''1960470''>formed</span>
  <span m=''1961560''>instruction,</span> <span m=''1964660''>so,</span> <span m=''1964840''>yeah.</span>
  <span m=''1966750''>And</span> <span m=''1967100''>the</span> <span m=''1967240''>other</span>
  <span m=''1967380''>thing</span> <span m=''1967530''>you</span> <span m=''1967600''>can</span>
  <span m=''1967720''>do,</span> <span m=''1967820''>of</span> <span m=''1967970''>course,</span>
  <span m=''1968110''>is</span> <span m=''1968190''>just</span> <span m=''1968370''>try</span>
  <span m=''1968560''>it</span> <span m=''1968640''>out.</span> <span m=''1970430''>What</span>
  <span m=''1970870''>happens</span> <span m=''1971280''>if?</span> <span m=''1971920''>That''s</span>
  <span m=''1972120''>the</span> <span m=''1972190''>great</span> <span m=''1972410''>thing</span>
  <span m=''1972530''>about</span> <span m=''1972740''>computers.</span> <span m=''1973200''>It''s</span>
  <span m=''1973350''>easy</span> <span m=''1973570''>to</span> <span m=''1973660''>do</span>
  <span m=''1973820''>what</span> <span m=''1974090''>happened</span> <span m=''1974460''>if.</span>
  </p><p><span m=''1976140''>Now,</span> <span m=''1976310''>the</span> <span m=''1976430''>instruction</span>
  <span m=''1977040''>format</span> <span m=''1977710''>is</span> <span m=''1977900''>typically</span>
  <span m=''1979070''>an</span> <span m=''1979260''>opcode</span> <span m=''1980330''>followed</span>
  <span m=''1980680''>by</span> <span m=''1980880''>an</span> <span m=''1981050''>operand</span>
  <span m=''1981610''>list.</span> <span m=''1983840''>So</span> <span m=''1984000''>the</span>
  <span m=''1984120''>opcode</span> <span m=''1984610''>is</span> <span m=''1984740''>a</span>
  <span m=''1984790''>short</span> <span m=''1985210''>mnemonic</span> <span m=''1985780''>identifying</span>
  <span m=''1986410''>the</span> <span m=''1986510''>type</span> <span m=''1986760''>of</span>
  <span m=''1986900''>instruction</span> <span m=''1989010''>that</span> <span m=''1989260''>includes</span>
  <span m=''1989950''>typically</span> <span m=''1990500''>the</span> <span m=''1990590''>single</span>
  <span m=''1991000''>character</span> <span m=''1992230''>suffix</span> <span m=''1993180''>indicating</span>
  <span m=''1993700''>the</span> <span m=''1993800''>data</span> <span m=''1994140''>type.</span>
  <span m=''1995390''>However,</span> <span m=''1995800''>for</span> <span m=''1995970''>some</span>
  <span m=''1996210''>instructions</span> <span m=''1996780''>it</span> <span m=''1996900''>turns</span>
  <span m=''1997170''>out</span> <span m=''1997820''>you</span> <span m=''1998000''>can</span>
  <span m=''1998120''>have</span> <span m=''1998390''>two</span> <span m=''1998570''>suffixes</span>
  <span m=''1999210''>if</span> <span m=''1999360''>the</span> <span m=''1999470''>two--</span>
  <span m=''2000610''>Most</span> <span m=''2002440''>instructions</span> <span m=''2003050''>operate</span>
  <span m=''2003490''>on</span> <span m=''2003610''>data</span> <span m=''2003900''>types</span>
  <span m=''2004240''>of</span> <span m=''2004330''>the</span> <span m=''2004380''>same</span>
  <span m=''2004660''>size.</span> <span m=''2005670''>But</span> <span m=''2005900''>some</span>
  <span m=''2006110''>of</span> <span m=''2006170''>them</span> <span m=''2006320''>operate</span>
  <span m=''2008170''>on</span> <span m=''2009990''>two</span> <span m=''2010370''>different</span>
  <span m=''2010700''>sizes</span> <span m=''2011120''>in</span> <span m=''2011170''>which</span>
  <span m=''2011300''>case</span> <span m=''2011520''>you''ll have</span> <span m=''2011750''>two</span>
  <span m=''2011870''>suffixes.</span> <span m=''2013130''>If</span> <span m=''2013250''>the</span>
  <span m=''2013330''>suffix</span> <span m=''2013740''>is</span> <span m=''2013860''>missing,</span>
  <span m=''2014250''>it</span> <span m=''2014330''>can</span> <span m=''2014480''>generally</span>
  <span m=''2014800''>be</span> <span m=''2014940''>inferred,</span> <span m=''2015360''>as</span>
  <span m=''2015480''>I</span> <span m=''2015550''>mentioned.</span> </p><p><span
  m=''2016710''>Then</span> <span m=''2016880''>the</span> <span m=''2017000''>operand</span>
  <span m=''2017620''>list</span> <span m=''2017950''>is</span> <span m=''2019120''>from</span>
  <span m=''2019340''>zero,</span> <span m=''2019790''>two,</span> <span m=''2020420''>and</span>
  <span m=''2020630''>very</span> <span m=''2021020''>rarely</span> <span m=''2021580''>three</span>
  <span m=''2023210''>operands</span> <span m=''2023520''>separated</span> <span m=''2024060''>by</span>
  <span m=''2024200''>commas.</span> <span m=''2025840''>Now,</span> <span m=''2027440''>in</span>
  <span m=''2027690''>the</span> <span m=''2027870''>architecture</span> <span m=''2028440''>manual,</span>
  <span m=''2028830''>in</span> <span m=''2028950''>fact,</span> <span m=''2029300''>they</span>
  <span m=''2029430''>say</span> <span m=''2029960''>if</span> <span m=''2030090''>you</span>
  <span m=''2030210''>look</span> <span m=''2030400''>at</span> <span m=''2030550''>it,</span>
  <span m=''2030830''>they''ll</span> <span m=''2031000''>show</span> <span m=''2031320''>you</span>
  <span m=''2032370''>fourth</span> <span m=''2032790''>operand.</span> <span m=''2034790''>And</span>
  <span m=''2034880''>I</span> <span m=''2034940''>said,</span> <span m=''2035180''>four</span>
  <span m=''2035460''>operands?</span> <span m=''2036260''>This</span> <span m=''2036440''>documentation</span>
  <span m=''2037170''>says</span> <span m=''2037450''>there''s</span> <span m=''2037620''>only</span>
  <span m=''2037820''>three.</span> <span m=''2038270''>This</span> <span m=''2038530''>one</span>
  <span m=''2038720''>says</span> <span m=''2039640''>there''s</span> <span m=''2039890''>four.</span>
  <span m=''2040460''>I</span> <span m=''2040530''>went</span> <span m=''2040700''>through</span>
  <span m=''2040810''>the</span> <span m=''2040900''>whole</span> <span m=''2041520''>architecture</span>
  <span m=''2042140''>manual</span> <span m=''2042550''>last</span> <span m=''2042880''>night.</span>
  <span m=''2046660''>Every</span> <span m=''2046940''>time</span> <span m=''2047230''>it</span>
  <span m=''2047310''>says</span> <span m=''2047530''>four</span> <span m=''2047810''>operands,</span>
  <span m=''2048290''>it</span> <span m=''2048420''>says</span> <span m=''2048750''>N/A,</span>
  <span m=''2049949''>not</span> <span m=''2050210''>applicable.</span> <span m=''2051500''>So</span>
  <span m=''2051690''>I</span> <span m=''2051790''>think</span> <span m=''2051969''>it''s</span>
  <span m=''2052120''>just</span> <span m=''2052340''>there</span> <span m=''2052639''>reserved</span>
  <span m=''2053880''>or</span> <span m=''2054080''>something.</span> <span m=''2054540''>But</span>
  <span m=''2054670''>anyway</span> <span m=''2055639''>there</span> <span m=''2055810''>is</span>
  <span m=''2055989''>no</span> <span m=''2056139''>fourth</span> <span m=''2056710''>operand</span>
  <span m=''2057060''>as</span> <span m=''2057230''>far</span> <span m=''2057370''>as</span>
  <span m=''2057480''>I</span> <span m=''2057580''>can</span> <span m=''2057739''>tell.</span>
  </p><p><span m=''2060070''>Now,</span> <span m=''2062290''>one</span> <span m=''2062449''>of</span>
  <span m=''2062510''>the</span> <span m=''2062670''>operands</span> <span m=''2063590''>is</span>
  <span m=''2064070''>the</span> <span m=''2064170''>destination.</span> <span m=''2065690''>And</span>
  <span m=''2065860''>here''s</span> <span m=''2066190''>where</span> <span m=''2066420''>we</span>
  <span m=''2066810''>start</span> <span m=''2067030''>to</span> <span m=''2067090''>get</span>
  <span m=''2067260''>into</span> <span m=''2067460''>some</span> <span m=''2068000''>differences.</span>
  <span m=''2068489''>There''s</span> <span m=''2068650''>actually</span> <span m=''2069100''>two</span>
  <span m=''2069420''>standard</span> <span m=''2069980''>formats</span> <span m=''2071040''>for</span>
  <span m=''2071179''>assembly</span> <span m=''2071620''>language</span> <span m=''2072139''>that</span>
  <span m=''2072260''>are</span> <span m=''2072340''>generally</span> <span m=''2072679''>called</span>
  <span m=''2073030''>Intel</span> <span m=''2073980''>and</span> <span m=''2074199''>AT&amp;T.</span>
  <span m=''2075679''>So</span> <span m=''2075850''>AT&amp;T</span> <span m=''2076480''>was</span>
  <span m=''2076630''>the</span> <span m=''2076760''>original</span> <span m=''2078690''>Unix</span>
  <span m=''2080420''>system.</span> <span m=''2081469''>And</span> <span m=''2082580''>Intel</span>
  <span m=''2083060''>is</span> <span m=''2083150''>what</span> <span m=''2083489''>Intel</span>
  <span m=''2083840''>uses</span> <span m=''2084210''>for</span> <span m=''2084330''>their</span>
  <span m=''2084590''>assembler.</span> </p><p><span m=''2085969''>They</span> <span
  m=''2086100''>do</span> <span m=''2087400''>the</span> <span m=''2087560''>destination</span>
  <span m=''2088300''>operand</span> <span m=''2088900''>in</span> <span m=''2089030''>the</span>
  <span m=''2089159''>opposite</span> <span m=''2089620''>order.</span> <span m=''2091389''>So</span>
  <span m=''2091730''>AT&amp;T,</span> <span m=''2092389''>it</span> <span m=''2092530''>puts</span>
  <span m=''2092770''>the</span> <span m=''2093370''>destination</span> <span m=''2094020''>last.</span>
  <span m=''2095000''>In</span> <span m=''2095150''>Intel</span> <span m=''2095650''>it</span>
  <span m=''2095760''>puts</span> <span m=''2095949''>the</span> <span m=''2096030''>destination</span>
  <span m=''2096730''>first.</span> <span m=''2097910''>So</span> <span m=''2098090''>when</span>
  <span m=''2098290''>you''re</span> <span m=''2098440''>reading</span> <span m=''2098730''>documentation,</span>
  <span m=''2100110''>you</span> <span m=''2100270''>can</span> <span m=''2100430''>read</span>
  <span m=''2100720''>the</span> <span m=''2100860''>Intel</span> <span m=''2101220''>documentation.</span>
  <span m=''2101595''>You</span> <span m=''2101970''>just</span> <span m=''2102170''>have</span>
  <span m=''2102250''>to</span> <span m=''2102330''>remember</span> <span m=''2102630''>to</span>
  <span m=''2102700''>flip</span> <span m=''2102960''>it</span> <span m=''2103030''>around</span>
  <span m=''2103790''>if</span> <span m=''2103920''>you''re</span> <span m=''2104020''>actually</span>
  <span m=''2104290''>writing</span> <span m=''2104710''>it</span> <span m=''2104830''>as</span>
  <span m=''2104980''>we</span> <span m=''2105140''>will</span> <span m=''2105280''>be</span>
  <span m=''2105460''>using</span> <span m=''2105830''>the</span> <span m=''2105940''>AT&amp;T</span>
  <span m=''2106580''>format.</span> </p><p><span m=''2107260''>Almost</span> <span
  m=''2107700''>everybody</span> <span m=''2108320''>uses</span> <span m=''2108720''>AT&amp;T</span>
  <span m=''2109360''>as</span> <span m=''2109490''>far</span> <span m=''2109670''>as</span>
  <span m=''2109770''>I</span> <span m=''2109860''>can</span> <span m=''2110010''>tell</span>
  <span m=''2110270''>except</span> <span m=''2110660''>Intel.</span> <span m=''2113370''>So</span>
  <span m=''2113730''>Intel''s</span> <span m=''2114210''>assembler</span> <span m=''2115300''>does</span>
  <span m=''2115510''>it</span> <span m=''2115590''>the</span> <span m=''2115730''>other</span>
  <span m=''2115870''>way</span> <span m=''2115990''>around.</span> <span m=''2116740''>And</span>
  <span m=''2117070''>actually</span> <span m=''2117440''>now</span> <span m=''2117770''>GCC</span>
  <span m=''2118480''>will</span> <span m=''2118690''>actually,</span> <span m=''2119490''>you</span>
  <span m=''2119640''>can</span> <span m=''2119760''>give</span> <span m=''2119900''>it</span>
  <span m=''2119970''>a</span> <span m=''2120030''>directive</span> <span m=''2120540''>to</span>
  <span m=''2120640''>say</span> <span m=''2121500''>I''m</span> <span m=''2121630''>now</span>
  <span m=''2121820''>switching</span> <span m=''2122280''>to</span> <span m=''2122420''>writing</span>
  <span m=''2122750''>it</span> <span m=''2126640''>in</span> <span m=''2128190''>Intel</span>
  <span m=''2128660''>assembler.</span> <span m=''2129480''>So</span> <span m=''2129620''>you</span>
  <span m=''2129690''>can</span> <span m=''2129790''>actually</span> <span m=''2130030''>go</span>
  <span m=''2130180''>back</span> <span m=''2130450''>and</span> <span m=''2130570''>forth</span>
  <span m=''2130850''>between</span> <span m=''2131150''>the</span> <span m=''2131240''>two</span>
  <span m=''2131380''>if</span> <span m=''2131450''>you</span> <span m=''2131520''>happen</span>
  <span m=''2131780''>to</span> <span m=''2131840''>borrow</span> <span m=''2132220''>some</span>
  <span m=''2132840''>assembly</span> <span m=''2133250''>language</span> <span m=''2133650''>code</span>
  <span m=''2133920''>from</span> <span m=''2134080''>somebody</span> <span m=''2134450''>else.</span>
  </p><p><span m=''2135510''>So</span> <span m=''2135720''>one</span> <span m=''2135990''>of</span>
  <span m=''2136100''>them</span> <span m=''2136240''>is</span> <span m=''2136400''>the</span>
  <span m=''2136480''>destination.</span> <span m=''2137620''>The</span> <span m=''2137750''>other</span>
  <span m=''2138000''>operations</span> <span m=''2138700''>are</span> <span m=''2138900''>read-only,</span>
  <span m=''2139740''>so</span> <span m=''2140040''>const</span> <span m=''2140650''>in</span>
  <span m=''2140890''>the</span> <span m=''2142440''>C++</span> <span m=''2142680''>terminology.</span>
  <span m=''2144230''>They''re</span> <span m=''2144470''>read-only.</span> <span
  m=''2145540''>So</span> <span m=''2146440''>it''s</span> <span m=''2146640''>always</span>
  <span m=''2146960''>the</span> <span m=''2147040''>case</span> <span m=''2147280''>that</span>
  <span m=''2147390''>only</span> <span m=''2147700''>one</span> <span m=''2148010''>of</span>
  <span m=''2148110''>them</span> <span m=''2148380''>is</span> <span m=''2148970''>going</span>
  <span m=''2149100''>to</span> <span m=''2149140''>be</span> <span m=''2149390''>modified.</span>
  <span m=''2150160''>And</span> <span m=''2150340''>that''s</span> <span m=''2150630''>the</span>
  <span m=''2150720''>one</span> <span m=''2150900''>that''s</span> <span m=''2151090''>the</span>
  <span m=''2151170''>destination</span> <span m=''2151810''>of</span> <span m=''2151900''>the</span>
  <span m=''2152020''>operation.</span> </p><p><span m=''2154770''>In</span> <span
  m=''2154900''>addition</span> <span m=''2155370''>in</span> <span m=''2155490''>assembler,</span>
  <span m=''2155960''>there are</span> <span m=''2156130''>what</span> <span m=''2156320''>are</span>
  <span m=''2156410''>called</span> <span m=''2156730''>directives.</span> <span m=''2157570''>Besides</span>
  <span m=''2158070''>the</span> <span m=''2158180''>instructions,</span> <span m=''2158980''>there</span>
  <span m=''2159250''>are</span> <span m=''2159520''>directives.</span> <span m=''2161840''>So</span>
  <span m=''2162010''>first</span> <span m=''2162320''>of</span> <span m=''2162390''>all</span>
  <span m=''2162500''>there are</span> <span m=''2162650''>things</span> <span m=''2162940''>like</span>
  <span m=''2163160''>labels.</span> <span m=''2163740''>You</span> <span m=''2163950''>can</span>
  <span m=''2164120''>take</span> <span m=''2164460''>any</span> <span m=''2164670''>instruction</span>
  <span m=''2165005''>and</span> <span m=''2165340''>put</span> <span m=''2166750''>an</span>
  <span m=''2166940''>identifier</span> <span m=''2167620''>and</span> <span m=''2167700''>a</span>
  <span m=''2167780''>colon,</span> <span m=''2169450''>and</span> <span m=''2169600''>that</span>
  <span m=''2169800''>becomes</span> <span m=''2170370''>then</span> <span m=''2170540''>a</span>
  <span m=''2170750''>way</span> <span m=''2171120''>of</span> <span m=''2171250''>naming</span>
  <span m=''2171900''>that</span> <span m=''2172200''>place</span> <span m=''2172560''>in</span>
  <span m=''2172770''>your</span> <span m=''2172960''>code.</span> </p><p><span m=''2174040''>So,</span>
  <span m=''2174270''>for</span> <span m=''2174390''>example,</span> <span m=''2174810''>jump</span>
  <span m=''2175120''>instructions</span> <span m=''2175780''>want</span> <span m=''2175970''>to</span>
  <span m=''2176030''>know</span> <span m=''2176250''>to</span> <span m=''2176320''>where</span>
  <span m=''2176580''>they''re</span> <span m=''2176760''>jumping.</span> <span m=''2178480''>And</span>
  <span m=''2178660''>rather</span> <span m=''2178980''>than</span> <span m=''2179150''>having</span>
  <span m=''2179490''>to</span> <span m=''2179600''>know</span> <span m=''2179820''>upfront</span>
  <span m=''2180770''>what</span> <span m=''2181280''>the</span> <span m=''2181860''>address</span>
  <span m=''2182430''>is,</span> <span m=''2183050''>the</span> <span m=''2183180''>assembler</span>
  <span m=''2183790''>will</span> <span m=''2183990''>calculate</span> <span m=''2184590''>what</span>
  <span m=''2184760''>that</span> <span m=''2184960''>address</span> <span m=''2185400''>is</span>
  <span m=''2185650''>and</span> <span m=''2185740''>everywhere</span> <span m=''2186110''>you</span>
  <span m=''2186240''>put</span> <span m=''2186460''>x,</span> <span m=''2186750''>it''ll</span>
  <span m=''2187060''>put</span> <span m=''2187250''>in</span> <span m=''2187350''>the</span>
  <span m=''2187430''>right</span> <span m=''2187710''>value.</span> <span m=''2189420''>And</span>
  <span m=''2189600''>you</span> <span m=''2189700''>get</span> <span m=''2189890''>to</span>
  <span m=''2190220''>name</span> <span m=''2190510''>it</span> <span m=''2190610''>symbolically</span>
  <span m=''2191320''>rather</span> <span m=''2191650''>than</span> <span m=''2192720''>as</span>
  <span m=''2193040''>an</span> <span m=''2193130''>absolute</span> <span m=''2193600''>machine</span>
  <span m=''2193920''>location.</span> </p><p><span m=''2195700''>There are</span>
  <span m=''2195890''>storage</span> <span m=''2196440''>directives.</span> <span
  m=''2197180''>So,</span> <span m=''2197380''>for</span> <span m=''2197490''>example,</span>
  <span m=''2197830''>.space</span> <span m=''2198580''>20</span> <span m=''2198950''>says</span>
  <span m=''2199190''>allocate</span> <span m=''2199630''>20</span> <span m=''2200380''>bytes</span>
  <span m=''2201320''>at</span> <span m=''2201560''>location</span> <span m=''2202080''>x.</span>
  <span m=''2203270''>.long</span> <span m=''2203990''>says</span> <span m=''2204320''>store</span>
  <span m=''2204680''>the</span> <span m=''2204810''>constant</span> <span m=''2207200''>172</span>
  <span m=''2208310''>at</span> <span m=''2208590''>y.</span> <span m=''2209890''>It''s</span>
  <span m=''2210270''>being</span> <span m=''2210450''>stored</span> <span m=''2210830''>at</span>
  <span m=''2210950''>y</span> <span m=''2211240''>because</span> <span m=''2211430''>I</span>
  <span m=''2211500''>said</span> <span m=''2211750''>y</span> <span m=''2212020''>is</span>
  <span m=''2212170''>here.</span> <span m=''2213620''>And</span> <span m=''2213750''>asciz</span>
  <span m=''2214370''>gives</span> <span m=''2214570''>you</span> <span m=''2214700''>a</span>
  <span m=''2214770''>string</span> <span m=''2215390''>that''s</span> <span m=''2215840''>zero</span>
  <span m=''2216150''>terminated.</span> <span m=''2217100''>So</span> <span m=''2218310''>the</span>
  <span m=''2218410''>standard</span> <span m=''2218910''>for</span> <span m=''2219070''>strings</span>
  <span m=''2219540''>is</span> <span m=''2219650''>zero</span> <span m=''2219900''>terminated.</span>
  <span m=''2220720''>You</span> <span m=''2220830''>can</span> <span m=''2220950''>also,</span>
  <span m=''2221550''>there''s</span> <span m=''2222260''>one</span> <span m=''2222580''>that</span>
  <span m=''2222720''>says</span> <span m=''2223070''>give</span> <span m=''2223190''>me</span>
  <span m=''2223330''>a</span> <span m=''2223390''>nonterminated</span> <span m=''2224310''>string.</span>
  <span m=''2225630''>So</span> <span m=''2225790''>you</span> <span m=''2225890''>can</span>
  <span m=''2226000''>have</span> <span m=''2226180''>fun</span> <span m=''2226390''>with</span>
  <span m=''2226520''>that</span> <span m=''2226760''>if</span> <span m=''2227060''>you</span>
  <span m=''2227380''>like</span> <span m=''2227590''>that.</span> </p><p><span m=''2228740''>The</span>
  <span m=''2228840''>align</span> <span m=''2229260''>directive</span> <span m=''2229830''>says</span>
  <span m=''2230570''>make</span> <span m=''2230830''>sure</span> <span m=''2231300''>that</span>
  <span m=''2231470''>as</span> <span m=''2231720''>you''re</span> <span m=''2231850''>going</span>
  <span m=''2232150''>through,</span> <span m=''2232490''>so</span> <span m=''2232620''>what''s</span>
  <span m=''2232770''>happening</span> <span m=''2233140''>is</span> <span m=''2233250''>the</span>
  <span m=''2233330''>assembler is</span> <span m=''2233820''>going</span> <span m=''2234040''>through</span>
  <span m=''2234220''>there,</span> <span m=''2234520''>is</span> <span m=''2234870''>it''s</span>
  <span m=''2235020''>laying</span> <span m=''2235440''>these</span> <span m=''2235670''>things</span>
  <span m=''2235930''>out</span> <span m=''2236130''>in</span> <span m=''2236240''>memory</span>
  <span m=''2236640''>typically</span> <span m=''2237050''>sequentially,</span> <span
  m=''2238110''>the</span> <span m=''2238270''>way</span> <span m=''2238450''>you</span>
  <span m=''2238600''>wrote</span> <span m=''2238810''>it</span> <span m=''2238910''>down</span>
  <span m=''2239150''>in</span> <span m=''2239220''>the</span> <span m=''2239300''>program,</span>
  <span m=''2241240''>in</span> <span m=''2241340''>the</span> <span m=''2241390''>assembly</span>
  <span m=''2241770''>language</span> <span m=''2242130''>program.</span> <span m=''2243460''>If</span>
  <span m=''2243630''>you</span> <span m=''2243790''>say</span> <span m=''2244040''>align</span>
  <span m=''2244120''>eight,</span> <span m=''2244570''>it</span> <span m=''2245050''>says</span>
  <span m=''2245330''>advance</span> <span m=''2245940''>whatever</span> <span m=''2246340''>the</span>
  <span m=''2246460''>pointer</span> <span m=''2246940''>is of</span> <span m=''2247130''>where</span>
  <span m=''2247430''>the</span> <span m=''2247570''>next</span> <span m=''2248000''>thing</span>
  <span m=''2248200''>is</span> <span m=''2248320''>going</span> <span m=''2248440''>to</span>
  <span m=''2248490''>be</span> <span m=''2248620''>put</span> <span m=''2249280''>to</span>
  <span m=''2249360''>be</span> <span m=''2249480''>a</span> <span m=''2249530''>multiple</span>
  <span m=''2249795''>of</span> <span m=''2250060''>eight.</span> <span m=''2251910''>And</span>
  <span m=''2252030''>that</span> <span m=''2252250''>way</span> <span m=''2252460''>you</span>
  <span m=''2252600''>don''t</span> <span m=''2252880''>run</span> <span m=''2253070''>the</span>
  <span m=''2253170''>risk</span> <span m=''2253510''>of</span> <span m=''2253680''>where
  you</span> <span m=''2254170''>declare a</span> <span m=''2254600''>character</span>
  <span m=''2255790''>and</span> <span m=''2255970''>then</span> <span m=''2256130''>you</span>
  <span m=''2256250''>say,</span> <span m=''2256550''>OK,</span> <span m=''2256800''>and</span>
  <span m=''2256960''>now</span> <span m=''2257210''>I</span> <span m=''2257330''>want</span>
  <span m=''2257690''>a</span> <span m=''2258760''>long</span> <span m=''2259440''>or</span>
  <span m=''2259550''>something,</span> <span m=''2260400''>and</span> <span m=''2260640''>it''s</span>
  <span m=''2260810''>not</span> <span m=''2261270''>aligned</span> <span m=''2261950''>in</span>
  <span m=''2262040''>a</span> <span m=''2262100''>way</span> <span m=''2262400''>that</span>
  <span m=''2262640''>the</span> <span m=''2263930''>eight</span> <span m=''2264360''>bytes</span>
  <span m=''2265120''>correspond</span> <span m=''2265800''>to</span> <span m=''2266700''>a</span>
  <span m=''2266810''>multiple</span> <span m=''2267280''>of</span> <span m=''2267960''>eight</span>
  <span m=''2268390''>the</span> <span m=''2268460''>way</span> <span m=''2268610''>you</span>
  <span m=''2268700''>need</span> <span m=''2268970''>to</span> <span m=''2269170''>in</span>
  <span m=''2269260''>order</span> <span m=''2269450''>for</span> <span m=''2269560''>the</span>
  <span m=''2269660''>instructions</span> <span m=''2270190''>to</span> <span m=''2270300''>properly</span>
  <span m=''2270740''>work</span> <span m=''2271000''>on</span> <span m=''2271340''>them.</span>
  </p><p><span m=''2272890''>So</span> <span m=''2273130''>generally,</span> <span
  m=''2273620''>although,</span> <span m=''2273900''>we</span> <span m=''2274010''>have</span>
  <span m=''2274150''>byte</span> <span m=''2274530''>pointers,</span> <span m=''2275960''>most</span>
  <span m=''2276350''>instructions</span> <span m=''2277030''>only</span> <span m=''2277270''>work</span>
  <span m=''2277560''>on</span> <span m=''2277680''>aligned</span> <span m=''2278120''>values.</span>
  <span m=''2281760''>And</span> <span m=''2282050''>for</span> <span m=''2282180''>some</span>
  <span m=''2282430''>of</span> <span m=''2282520''>them</span> <span m=''2282700''>that</span>
  <span m=''2283240''>work</span> <span m=''2283570''>on</span> <span m=''2283890''>unaligned</span>
  <span m=''2284460''>values,</span> <span m=''2284960''>they''re</span> <span m=''2285050''>generally</span>
  <span m=''2285370''>slower</span> <span m=''2285810''>than</span> <span m=''2285970''>the</span>
  <span m=''2286050''>ones</span> <span m=''2286300''>that</span> <span m=''2286380''>work</span>
  <span m=''2286630''>on</span> <span m=''2286730''>aligned</span> <span m=''2287090''>values.</span>
  </p><p><span m=''2289760''>There are</span> <span m=''2289940''>also</span> <span
  m=''2290180''>segment</span> <span m=''2290710''>directives.</span> <span m=''2291260''>So</span>
  <span m=''2292460''>in</span> <span m=''2292670''>memory</span> <span m=''2294070''>when</span>
  <span m=''2294300''>you</span> <span m=''2294440''>run</span> <span m=''2294680''>your</span>
  <span m=''2294830''>program,</span> <span m=''2295280''>the</span> <span m=''2295410''>executing</span>
  <span m=''2296000''>program</span> <span m=''2296510''>starts</span> <span m=''2297050''>with</span>
  <span m=''2297190''>the</span> <span m=''2297330''>program</span> <span m=''2297980''>text</span>
  <span m=''2298570''>down</span> <span m=''2298800''>at</span> <span m=''2298890''>the</span>
  <span m=''2298960''>bottom</span> <span m=''2299350''>of</span> <span m=''2299450''>memory.</span>
  <span m=''2300810''>And</span> <span m=''2300960''>then</span> <span m=''2301100''>it</span>
  <span m=''2301210''>has</span> <span m=''2301570''>fixed</span> <span m=''2301950''>data</span>
  <span m=''2302310''>that''s</span> <span m=''2302530''>not</span> <span m=''2302700''>going</span>
  <span m=''2302800''>to</span> <span m=''2302900''>change,</span> <span m=''2305830''>static</span>
  <span m=''2306510''>allocation</span> <span m=''2306840''>of</span> <span m=''2307170''>data.</span>
  <span m=''2307410''>And</span> <span m=''2307550''>then</span> <span m=''2307680''>it''s</span>
  <span m=''2307840''>got</span> <span m=''2308130''>heap,</span> <span m=''2308420''>which</span>
  <span m=''2308570''>is</span> <span m=''2308690''>dynamically</span> <span m=''2309350''>allocated</span>
  <span m=''2309850''>data.</span> <span m=''2310870''>And</span> <span m=''2311040''>then</span>
  <span m=''2311160''>it''s</span> <span m=''2311310''>got</span> <span m=''2311540''>stack.</span>
  <span m=''2312010''>The</span> <span m=''2312090''>stack</span> <span m=''2312480''>grows</span>
  <span m=''2312800''>downward,</span> <span m=''2313240''>and the heap</span> <span
  m=''2313620''>grows</span> <span m=''2313910''>upward.</span> </p><p><span m=''2316230''>By</span>
  <span m=''2316720''>saying</span> <span m=''2317290''>something</span> <span m=''2317630''>like</span>
  <span m=''2317900''>text,</span> <span m=''2318400''>it</span> <span m=''2318510''>says</span>
  <span m=''2318860''>make</span> <span m=''2319110''>sure</span> <span m=''2319270''>that</span>
  <span m=''2319450''>the</span> <span m=''2319530''>next</span> <span m=''2319770''>stuff</span>
  <span m=''2320000''>I''m</span> <span m=''2320110''>putting</span> <span m=''2320430''>goes</span>
  <span m=''2320670''>into</span> <span m=''2320830''>the</span> <span m=''2320950''>text</span>
  <span m=''2321290''>segment.</span> <span m=''2322010''>So</span> <span m=''2322440''>that''s</span>
  <span m=''2322690''>generally</span> <span m=''2322960''>where</span> <span m=''2323110''>you</span>
  <span m=''2323220''>put</span> <span m=''2323400''>your</span> <span m=''2323550''>code.</span>
  <span m=''2325430''>Saying it''s</span> <span m=''2325750''>in</span> <span m=''2325870''>data</span>
  <span m=''2326280''>says</span> <span m=''2326590''>make</span> <span m=''2326770''>sure</span>
  <span m=''2326930''>it</span> <span m=''2327000''>goes</span> <span m=''2327240''>in</span>
  <span m=''2327310''>here.</span> <span m=''2327590''>So</span> <span m=''2327710''>you</span>
  <span m=''2327850''>may</span> <span m=''2328010''>want</span> <span m=''2328210''>to</span>
  <span m=''2328260''>have</span> <span m=''2329560''>a</span> <span m=''2329960''>table,</span>
  <span m=''2330510''>for</span> <span m=''2330670''>example.</span> <span m=''2331500''>So,</span>
  <span m=''2331750''>for</span> <span m=''2331870''>example,</span> <span m=''2332200''>from</span>
  <span m=''2332360''>pentominos</span> <span m=''2333680''>you</span> <span m=''2333800''>might</span>
  <span m=''2333990''>have</span> <span m=''2334110''>a</span> <span m=''2334230''>table</span>
  <span m=''2334720''>there.</span> <span m=''2335470''>There''s going</span> <span
  m=''2335580''>to</span> <span m=''2335710''>be</span> <span m=''2335830''>a</span>
  <span m=''2335870''>fixed</span> <span m=''2336230''>table.</span> <span m=''2336610''>You''re</span>
  <span m=''2336720''>never</span> <span m=''2336890''>going</span> <span m=''2336990''>to</span>
  <span m=''2337060''>change</span> <span m=''2337380''>it</span> <span m=''2337470''>during</span>
  <span m=''2337610''>the</span> <span m=''2337740''>running</span> <span m=''2337990''>of</span>
  <span m=''2338040''>the</span> <span m=''2338090''>program.</span> <span m=''2339050''>Put</span>
  <span m=''2339240''>it</span> <span m=''2339340''>in</span> <span m=''2339460''>the</span>
  <span m=''2339550''>data</span> <span m=''2339810''>segment.</span> </p><p><span
  m=''2343790''>And</span> <span m=''2343990''>then</span> <span m=''2344150''>there''s</span>
  <span m=''2344340''>also</span> <span m=''2344660''>things</span> <span m=''2344970''>like</span>
  <span m=''2345170''>scope</span> <span m=''2345540''>and</span> <span m=''2345640''>linkage</span>
  <span m=''2346060''>directives.</span> <span m=''2346550''>So</span> <span m=''2346770''>saying</span>
  <span m=''2347130''>.global,</span> <span m=''2347970''>and you</span> <span m=''2348140''>can</span>
  <span m=''2348270''>either</span> <span m=''2348390''>spell</span> <span m=''2348760''>it</span>
  <span m=''2348890''>incorrectly,</span> <span m=''2349640''>as</span> <span m=''2349840''>I</span>
  <span m=''2350010''>have</span> <span m=''2350170''>here,</span> <span m=''2350780''>or</span>
  <span m=''2350950''>with</span> <span m=''2351190''>the</span> <span m=''2351370''>a,</span>
  <span m=''2351860''>it''s</span> <span m=''2352150''>the</span> <span m=''2352240''>same</span>
  <span m=''2352550''>thing</span> <span m=''2354120''>for</span> <span m=''2354230''>the</span>
  <span m=''2354310''>GNU</span> <span m=''2354720''>assembler</span> <span m=''2355200''>anyway.</span>
  <span m=''2356640''>It</span> <span m=''2356830''>says</span> <span m=''2357110''>make</span>
  <span m=''2357460''>the</span> <span m=''2358380''>symbol</span> <span m=''2359140''>fib</span>
  <span m=''2359910''>externally</span> <span m=''2360460''>visible.</span> <span
  m=''2361130''>And</span> <span m=''2361290''>that</span> <span m=''2361340''>makes</span>
  <span m=''2361550''>sure</span> <span m=''2361720''>that</span> <span m=''2361820''>it</span>
  <span m=''2361920''>goes</span> <span m=''2362210''>into</span> <span m=''2362420''>the</span>
  <span m=''2362510''>symbol</span> <span m=''2362880''>table</span> <span m=''2363550''>so</span>
  <span m=''2363760''>that</span> <span m=''2363850''>debuggers</span> <span m=''2364390''>and</span>
  <span m=''2364530''>things</span> <span m=''2364820''>can</span> <span m=''2364940''>look</span>
  <span m=''2365160''>at</span> <span m=''2365530''>it.</span> </p><p><span m=''2366910''>And</span>
  <span m=''2367930''>there''s</span> <span m=''2368090''>a</span> <span m=''2368130''>lot</span>
  <span m=''2368440''>more</span> <span m=''2368690''>of</span> <span m=''2368850''>these</span>
  <span m=''2369010''>in</span> <span m=''2369070''>the</span> <span m=''2369150''>assembler</span>
  <span m=''2369560''>manual,</span> <span m=''2369980''>that</span> <span m=''2370150''>link</span>
  <span m=''2370400''>that</span> <span m=''2370520''>I</span> <span m=''2370870''>showed</span>
  <span m=''2371280''>you to</span> <span m=''2371360''>before,</span> <span m=''2372020''>tells</span>
  <span m=''2372240''>you</span> <span m=''2372650''>what</span> <span m=''2372830''>all</span>
  <span m=''2373060''>the</span> <span m=''2373140''>directives</span> <span m=''2373650''>mean.</span>
  <span m=''2373940''>So that</span> <span m=''2374060''>when</span> <span m=''2374200''>you''re</span>
  <span m=''2374310''>looking</span> <span m=''2374650''>at</span> <span m=''2374770''>code,
  which</span> <span m=''2375240''>mostly</span> <span m=''2375620''>you''ll</span>
  <span m=''2375730''>be</span> <span m=''2375880''>reading</span> <span m=''2376200''>it,</span>
  <span m=''2376650''>making</span> <span m=''2377010''>a</span> <span m=''2377050''>few</span>
  <span m=''2377280''>changes</span> <span m=''2377730''>to</span> <span m=''2377900''>it,</span>
  <span m=''2378270''>you</span> <span m=''2378410''>can</span> <span m=''2378550''>know</span>
  <span m=''2378680''>what</span> <span m=''2378830''>things</span> <span m=''2379060''>mean.</span>
  </p><p><span m=''2382520''>So</span> <span m=''2382880''>the</span> <span m=''2383020''>opcode</span>
  <span m=''2383540''>examples,</span> <span m=''2384180''>here''s</span> <span m=''2384430''>some</span>
  <span m=''2385740''>examples.</span> <span m=''2387020''>There</span> <span m=''2387130''>are</span>
  <span m=''2387180''>things</span> <span m=''2387490''>like</span> <span m=''2387710''>mov,</span>
  <span m=''2388220''>push,</span> <span m=''2388490''>and</span> <span m=''2388640''>pop.</span>
  <span m=''2389500''>So,</span> <span m=''2389690''>for</span> <span m=''2389830''>example,</span>
  <span m=''2390210''>here</span> <span m=''2390760''>movslq,</span> <span m=''2392900''>this</span>
  <span m=''2393060''>is an</span> <span m=''2393190''>interesting</span> <span m=''2393710''>one</span>
  <span m=''2393970''>because</span> <span m=''2394330''>it''s</span> <span m=''2394470''>moving.</span>
  <span m=''2395150''>The</span> <span m=''2395270''>s</span> <span m=''2395550''>says</span>
  <span m=''2396310''>extend</span> <span m=''2396860''>the</span> <span m=''2396940''>sign</span>
  <span m=''2397460''>because</span> <span m=''2397740''>I''m</span> <span m=''2397830''>moving</span>
  <span m=''2398280''>from</span> <span m=''2398520''>a</span> <span m=''2398680''>long</span>
  <span m=''2401000''>from</span> <span m=''2402080''>a</span> <span m=''2402290''>32-bit</span>
  <span m=''2403040''>word</span> <span m=''2403640''>to</span> <span m=''2403820''>a</span>
  <span m=''2406170''>64-bit</span> <span m=''2407060''>word,</span> <span m=''2408180''>from</span>
  <span m=''2408350''>4-bits</span> <span m=''2409065''>to</span> <span m=''2409320''>8-bits.</span>
  <span m=''2409930''>So</span> <span m=''2410040''>that''s</span> <span m=''2410290''>why</span>
  <span m=''2410480''>this</span> <span m=''2410670''>one</span> <span m=''2411210''>takes</span>
  <span m=''2411550''>two</span> <span m=''2411780''>suffixes</span> <span m=''2413960''>moving</span>
  <span m=''2414280''>from,</span> <span m=''2414490''>you''ll</span> <span m=''2414530''>notice,</span>
  <span m=''2414820''>a</span> <span m=''2414930''>32-bit</span> <span m=''2415500''>register</span>
  <span m=''2416300''>to</span> <span m=''2416420''>a</span> <span m=''2416480''>64-bit</span>
  <span m=''2417210''>register.</span> </p><p><span m=''2420160''>So</span> <span
  m=''2420280''>you</span> <span m=''2420330''>have</span> <span m=''2420500''>to</span>
  <span m=''2420600''>be</span> <span m=''2420740''>careful.</span> <span m=''2421570''>This</span>
  <span m=''2421730''>is</span> <span m=''2421830''>something</span> <span m=''2422170''>I</span>
  <span m=''2422260''>got</span> <span m=''2422540''>caught</span> <span m=''2422750''>up</span>
  <span m=''2423180''>in</span> <span m=''2423370''>the</span> <span m=''2423540''>other</span>
  <span m=''2423710''>day.</span> <span m=''2424840''>The</span> <span m=''2424950''>results</span>
  <span m=''2425480''>of</span> <span m=''2425690''>32-bit</span> <span m=''2426290''>operations</span>
  <span m=''2427020''>are</span> <span m=''2427230''>implicitly</span> <span m=''2427960''>extended</span>
  <span m=''2428600''>to</span> <span m=''2428690''>64-bit</span> <span m=''2429520''>values.</span>
  <span m=''2430620''>So</span> <span m=''2430770''>if</span> <span m=''2430850''>you</span>
  <span m=''2431010''>store</span> <span m=''2431410''>something</span> <span m=''2431900''>into</span>
  <span m=''2432420''>EAX,</span> <span m=''2433150''>for</span> <span m=''2433250''>example,</span>
  <span m=''2433860''>it</span> <span m=''2434330''>automatically</span> <span m=''2435180''>zeroes</span>
  <span m=''2435770''>out</span> <span m=''2436220''>the</span> <span m=''2436290''>high</span>
  <span m=''2436620''>order</span> <span m=''2436790''>32-bits</span> <span m=''2437970''>of</span>
  <span m=''2438180''>RAX.</span> <span m=''2440220''>Because</span> <span m=''2440420''>that''s</span>
  <span m=''2440700''>the</span> <span m=''2440790''>one</span> <span m=''2440960''>that
  it''s</span> <span m=''2441230''>embedded</span> <span m=''2441565''>in.</span>
  <span m=''2442130''>However,</span> <span m=''2443290''>that''s</span> <span m=''2443530''>not</span>
  <span m=''2443870''>true</span> <span m=''2444690''>for</span> <span m=''2445010''>the</span>
  <span m=''2445240''>eight</span> <span m=''2445550''>and</span> <span m=''2445690''>16-bit</span>
  <span m=''2446340''>operations.</span> <span m=''2447580''>If you</span> <span m=''2447770''>store</span>
  <span m=''2448220''>into</span> <span m=''2448520''>an</span> <span m=''2448660''>8-bit</span>
  <span m=''2449350''>field,</span> <span m=''2449700''>an</span> <span m=''2450050''>8-bit</span>
  <span m=''2450560''>part</span> <span m=''2450800''>of</span> <span m=''2450910''>the</span>
  <span m=''2452910''>register,</span> <span m=''2453760''>it</span> <span m=''2453930''>does</span>
  <span m=''2454070''>not</span> <span m=''2454890''>zero</span> <span m=''2455260''>out</span>
  <span m=''2455490''>the</span> <span m=''2455540''>high</span> <span m=''2455750''>order</span>
  <span m=''2455970''>bits</span> <span m=''2456350''>of</span> <span m=''2457290''>the</span>
  <span m=''2457640''>remainder.</span> <span m=''2458120''>So</span> <span m=''2458270''>you</span>
  <span m=''2458420''>just</span> <span m=''2458640''>have</span> <span m=''2458760''>to</span>
  <span m=''2458850''>be</span> <span m=''2458950''>careful</span> <span m=''2460670''>when</span>
  <span m=''2461160''>you''re</span> <span m=''2461670''>doing</span> <span m=''2462030''>that.</span>
  </p><p><span m=''2462340''>Most</span> <span m=''2462650''>of</span> <span m=''2462700''>these</span>
  <span m=''2462890''>are</span> <span m=''2462970''>things,</span> <span m=''2463250''>by</span>
  <span m=''2463380''>the</span> <span m=''2463480''>way,</span> <span m=''2463680''>that</span>
  <span m=''2465410''>is</span> <span m=''2465620''>more</span> <span m=''2465890''>cryptic</span>
  <span m=''2466370''>when</span> <span m=''2466500''>you''re</span> <span m=''2466610''>looking</span>
  <span m=''2466950''>at</span> <span m=''2467040''>stuff.</span> <span m=''2467250''>It''s</span>
  <span m=''2467380''>like,</span> <span m=''2467540''>oh,</span> <span m=''2467870''>how</span>
  <span m=''2468090''>come</span> <span m=''2468300''>it''s,</span> <span m=''2468630''>gee,</span>
  <span m=''2469120''>I</span> <span m=''2469200''>thought</span> <span m=''2469450''>I</span>
  <span m=''2469560''>had,</span> <span m=''2470600''>I''m</span> <span m=''2470850''>returning</span>
  <span m=''2471400''>a</span> <span m=''2472300''>double</span> <span m=''2472530''>word,</span>
  <span m=''2472770''>but</span> <span m=''2472880''>it</span> <span m=''2473010''>looks</span>
  <span m=''2473260''>here</span> <span m=''2473470''>like</span> <span m=''2473670''>it''s</span>
  <span m=''2473770''>returning</span> <span m=''2474110''>a</span> <span m=''2474170''>32-bit</span>
  <span m=''2474850''>word,</span> <span m=''2475320''>how</span> <span m=''2475550''>come</span>
  <span m=''2475910''>I</span> <span m=''2476120''>thought</span> <span m=''2476370''>I</span>
  <span m=''2476440''>was</span> <span m=''2477350''>returning</span> <span m=''2477800''>64--</span>
  <span m=''2478270''>Well,</span> <span m=''2478450''>the</span> <span m=''2478560''>answer</span>
  <span m=''2478900''>is</span> <span m=''2479060''>because</span> <span m=''2479320''>it</span>
  <span m=''2479440''>knows</span> <span m=''2479700''>the</span> <span m=''2479770''>high</span>
  <span m=''2480060''>order</span> <span m=''2480210''>bits</span> <span m=''2480530''>are</span>
  <span m=''2480620''>zero.</span> <span m=''2481310''>So</span> <span m=''2481500''>it''s</span>
  <span m=''2481600''>using</span> <span m=''2482430''>the</span> <span m=''2482530''>shorter</span>
  <span m=''2482980''>instructions.</span> <span m=''2486230''>And</span> <span m=''2486410''>yet</span>
  <span m=''2486590''>it</span> <span m=''2486700''>still</span> <span m=''2486970''>is</span>
  <span m=''2487400''>having</span> <span m=''2487770''>the</span> <span m=''2487900''>impact</span>
  <span m=''2490510''>on</span> <span m=''2490760''>the</span> <span m=''2491320''>64-bit</span>
  <span m=''2492360''>register.</span> </p><p><span m=''2493780''>They''re</span>
  <span m=''2493930''>all</span> <span m=''2494090''>the</span> <span m=''2494410''>arithmetic</span>
  <span m=''2494990''>and</span> <span m=''2495100''>logical</span> <span m=''2495680''>operations.</span>
  <span m=''2497000''>So</span> <span m=''2497900''>subtracting,</span> <span m=''2498990''>once</span>
  <span m=''2499130''>again,</span> <span m=''2499250''>the</span> <span m=''2499340''>destination</span>
  <span m=''2500000''>is</span> <span m=''2500070''>second.</span> <span m=''2500810''>So</span>
  <span m=''2500990''>typically</span> <span m=''2501430''>these</span> <span m=''2501650''>are</span>
  <span m=''2501730''>two</span> <span m=''2502230''>operator</span> <span m=''2502820''>things.</span>
  <span m=''2503170''>So</span> <span m=''2503270''>you</span> <span m=''2503440''>always</span>
  <span m=''2503750''>have</span> <span m=''2503960''>the</span> <span m=''2504040''>destination</span>
  <span m=''2505000''>occurs</span> <span m=''2505390''>both</span> <span m=''2505620''>at</span>
  <span m=''2505730''>the</span> <span m=''2505820''>beginning</span> <span m=''2506330''>and</span>
  <span m=''2506920''>on</span> <span m=''2507030''>the</span> <span m=''2507130''>left</span>
  <span m=''2507350''>hand</span> <span m=''2507510''>side</span> <span m=''2507790''>and</span>
  <span m=''2507900''>the</span> <span m=''2508010''>right</span> <span m=''2508200''>hand</span>
  <span m=''2508410''>side,</span> <span m=''2509130''>things</span> <span m=''2509340''>like</span>
  <span m=''2509500''>shifts</span> <span m=''2509910''>and</span> <span m=''2510050''>rotates,</span>
  <span m=''2511160''>control</span> <span m=''2511640''>transfer,</span> <span m=''2512820''>so
  call</span> <span m=''2513235''>which</span> <span m=''2513650''>does</span> <span
  m=''2513870''>a</span> <span m=''2513930''>subroutine</span> <span m=''2514450''>jump,</span>
  <span m=''2515130''>return</span> <span m=''2515560''>from</span> <span m=''2515750''>a</span>
  <span m=''2516190''>subroutine,</span> <span m=''2517820''>a</span> <span m=''2517960''>jump</span>
  <span m=''2518270''>instruction</span> <span m=''2518870''>that</span> <span m=''2519000''>just</span>
  <span m=''2519190''>says</span> <span m=''2520080''>make</span> <span m=''2520310''>the</span>
  <span m=''2520480''>next</span> <span m=''2520650''>instruction</span> <span m=''2521140''>the</span>
  <span m=''2521230''>thing</span> <span m=''2521450''>that</span> <span m=''2521580''>you''re</span>
  <span m=''2521760''>pointing</span> <span m=''2522080''>to,</span> <span m=''2522790''>and</span>
  <span m=''2523110''>very</span> <span m=''2523320''>important,</span> <span m=''2523900''>the</span>
  <span m=''2524050''>jump</span> <span m=''2524410''>conditionals</span> <span m=''2525030''>where</span>
  <span m=''2525240''>the</span> <span m=''2525380''>condition</span> <span m=''2525970''>is</span>
  <span m=''2526160''>a</span> <span m=''2526210''>whole</span> <span m=''2526460''>bunch</span>
  <span m=''2526750''>of</span> <span m=''2526870''>keys</span> <span m=''2527740''>that</span>
  <span m=''2527860''>are</span> <span m=''2527940''>things</span> <span m=''2528220''>like</span>
  <span m=''2528460''>greater</span> <span m=''2528820''>than,</span> <span m=''2529110''>less</span>
  <span m=''2529490''>than,</span> <span m=''2530920''>and</span> <span m=''2531110''>so</span>
  <span m=''2531320''>forth,</span> <span m=''2531720''>and</span> <span m=''2531900''>different</span>
  <span m=''2532140''>ones</span> <span m=''2532420''>for</span> <span m=''2532540''>signed</span>
  <span m=''2532990''>and</span> <span m=''2533090''>unsigned</span> <span m=''2533930''>and</span>
  <span m=''2534590''>so</span> <span m=''2534840''>forth.</span> </p><p><span m=''2536400''>So</span>
  <span m=''2536950''>typically</span> <span m=''2537670''>the</span> <span m=''2537910''>condition</span>
  <span m=''2538450''>is</span> <span m=''2538670''>computed</span> <span m=''2539150''>by</span>
  <span m=''2539310''>using</span> <span m=''2539690''>a</span> <span m=''2539770''>compare</span>
  <span m=''2540210''>instruction.</span> <span m=''2540800''>I probably</span> <span
  m=''2540910''>should have</span> <span m=''2541160''>put</span> <span m=''2541590''>CNP</span>
  <span m=''2542110''>on</span> <span m=''2542220''>here</span> <span m=''2543030''>as</span>
  <span m=''2543210''>well,</span> <span m=''2543470''>but</span> <span m=''2543630''>I</span>
  <span m=''2543800''>didn''t.</span> <span m=''2544570''>But</span> <span m=''2544770''>the</span>
  <span m=''2544970''>CNP</span> <span m=''2545420''>instruction</span> <span m=''2545890''>is</span>
  <span m=''2546010''>usually</span> <span m=''2546310''>what</span> <span m=''2546500''>you</span>
  <span m=''2546610''>use</span> <span m=''2547400''>to</span> <span m=''2547540''>compare</span>
  <span m=''2547950''>two</span> <span m=''2548110''>things</span> <span m=''2548520''>and</span>
  <span m=''2548700''>then</span> <span m=''2548880''>you</span> <span m=''2549230''>separately</span>
  <span m=''2550280''>jump</span> <span m=''2550640''>on</span> <span m=''2550740''>what</span>
  <span m=''2550900''>the</span> <span m=''2550980''>condition</span> <span m=''2551410''>is.</span>
  </p><p><span m=''2552960''>There''s</span> <span m=''2553340''>a</span> <span m=''2553450''>pretty</span>
  <span m=''2553790''>nice</span> <span m=''2554830''>website</span> <span m=''2555610''>that</span>
  <span m=''2555730''>has</span> <span m=''2557330''>most</span> <span m=''2557780''>of</span>
  <span m=''2557940''>these</span> <span m=''2558300''>opcodes.</span> <span m=''2559840''>However,</span>
  <span m=''2560340''>they</span> <span m=''2560520''>only</span> <span m=''2561650''>deal</span>
  <span m=''2562380''>with</span> <span m=''2563200''>the</span> <span m=''2563390''>old</span>
  <span m=''2564070''>x86</span> <span m=''2564590''>without</span> <span m=''2564870''>the</span>
  <span m=''2564960''>64-bit</span> <span m=''2565680''>extension.</span> <span m=''2566970''>And</span>
  <span m=''2567490''>they</span> <span m=''2567680''>use</span> <span m=''2567950''>the</span>
  <span m=''2568070''>Intel</span> <span m=''2568420''>syntax.</span> <span m=''2569390''>But</span>
  <span m=''2569580''>it''s</span> <span m=''2569660''>really</span> <span m=''2569950''>convenient.</span>
  <span m=''2570570''>Because</span> <span m=''2572800''>they''ve</span> <span m=''2573180''>done</span>
  <span m=''2573330''>a</span> <span m=''2573370''>nice</span> <span m=''2573660''>job</span>
  <span m=''2573930''>of</span> <span m=''2573990''>making</span> <span m=''2574250''>a</span>
  <span m=''2574640''>quick</span> <span m=''2574900''>jump</span> <span m=''2575140''>table</span>
  <span m=''2575590''>where you</span> <span m=''2575880''>can</span> <span m=''2576010''>just</span>
  <span m=''2576240''>go,</span> <span m=''2576520''>look</span> <span m=''2576800''>up</span>
  <span m=''2576910''>the</span> <span m=''2577220''>opcode, and</span> <span m=''2577540''>pop</span>
  <span m=''2577820''>it</span> <span m=''2577900''>up.</span> <span m=''2579200''>Otherwise</span>
  <span m=''2579600''>you can</span> <span m=''2579750''>just</span> <span m=''2579910''>look</span>
  <span m=''2580090''>at</span> <span m=''2580260''>them</span> <span m=''2580390''>in</span>
  <span m=''2580470''>the</span> <span m=''2580540''>manual.</span> </p><p><span m=''2582560''>Anyway,</span>
  <span m=''2582790''>that''s</span> <span m=''2583030''>kind</span> <span m=''2583140''>of</span>
  <span m=''2583250''>a</span> <span m=''2583300''>convenient</span> <span m=''2583780''>place.</span>
  <span m=''2584420''>And,</span> <span m=''2584580''>as</span> <span m=''2584730''>I</span>
  <span m=''2584770''>say,</span> <span m=''2585070''>just</span> <span m=''2585520''>beware</span>
  <span m=''2585650''>because</span> <span m=''2585970''>it''s</span> <span m=''2586190''>32-bit</span>
  <span m=''2586800''>only,</span> <span m=''2587090''>and</span> <span m=''2587180''>it''s</span>
  <span m=''2587310''>Intel</span> <span m=''2587620''>syntax.</span> <span m=''2588350''>Most</span>
  <span m=''2588530''>of</span> <span m=''2588700''>the</span> <span m=''2588770''>instructions</span>
  <span m=''2589430''>got</span> <span m=''2589620''>extended.</span> <span m=''2590190''>I</span>
  <span m=''2590220''>mean</span> <span m=''2590380''>it''s</span> <span m=''2590600''>like,</span>
  <span m=''2590830''>OK,</span> <span m=''2591460''>if</span> <span m=''2591830''>you</span>
  <span m=''2591920''>do</span> <span m=''2592070''>it</span> <span m=''2592210''>for</span>
  <span m=''2592370''>eight</span> <span m=''2592720''>and</span> <span m=''2592840''>16</span>
  <span m=''2593227''>and</span> <span m=''2593614''>32,</span> <span m=''2595240''>the</span>
  <span m=''2595380''>operation is</span> <span m=''2595770''>not</span> <span m=''2595940''>going
  to</span> <span m=''2596040''>change</span> <span m=''2596330''>that</span> <span
  m=''2596680''>much</span> <span m=''2596910''>to</span> <span m=''2597000''>go</span>
  <span m=''2597120''>to</span> <span m=''2597190''>64.</span> <span m=''2598720''>A</span>
  <span m=''2598810''>few</span> <span m=''2599000''>of</span> <span m=''2599080''>them</span>
  <span m=''2599220''>do,</span> <span m=''2599390''>however.</span> </p><p><span
  m=''2600780''>Now,</span> <span m=''2601410''>the</span> <span m=''2601620''>operands,</span>
  <span m=''2604310''>Intel</span> <span m=''2604760''>supports,</span> <span m=''2606490''>the</span>
  <span m=''2606690''>x86,</span> <span m=''2607250''>which</span> <span m=''2607400''>is</span>
  <span m=''2607520''>Intel</span> <span m=''2608210''>and</span> <span m=''2608450''>AMD,</span>
  <span m=''2608950''>typically,</span> <span m=''2609730''>support</span> <span m=''2610170''>all</span>
  <span m=''2610460''>kinds</span> <span m=''2610750''>of</span> <span m=''2610820''>addressing</span>
  <span m=''2611300''>modes.</span> <span m=''2613870''>The</span> <span m=''2613970''>rule</span>
  <span m=''2614360''>is</span> <span m=''2614500''>that</span> <span m=''2614630''>only</span>
  <span m=''2614980''>one</span> <span m=''2616160''>operand,</span> <span m=''2616550''>however,</span>
  <span m=''2617800''>can</span> <span m=''2618010''>address</span> <span m=''2618610''>memory.</span>
  <span m=''2621060''>So</span> <span m=''2621220''>you</span> <span m=''2621320''>have</span>
  <span m=''2621470''>to</span> <span m=''2621570''>pick</span> <span m=''2621870''>which</span>
  <span m=''2622180''>is</span> <span m=''2622310''>the</span> <span m=''2622440''>operand</span>
  <span m=''2622870''>that''s</span> <span m=''2623050''>going to</span> <span m=''2623180''>address</span>
  <span m=''2623600''>memory</span> <span m=''2623950''>if</span> <span m=''2624050''>you</span>
  <span m=''2624140''>have</span> <span m=''2624220''>multiple</span> <span m=''2624630''>operands.</span>
  <span m=''2625600''>You</span> <span m=''2625740''>can''t</span> <span m=''2626000''>have</span>
  <span m=''2626280''>both</span> <span m=''2626710''>operands.</span> <span m=''2627270''>So</span>
  <span m=''2627400''>you</span> <span m=''2627520''>can''t</span> <span m=''2628330''>add</span>
  <span m=''2629050''>two</span> <span m=''2629250''>things</span> <span m=''2629560''>in</span>
  <span m=''2629650''>memory.</span> <span m=''2630860''>You</span> <span m=''2630970''>always</span>
  <span m=''2631190''>have</span> <span m=''2631390''>to</span> <span m=''2631530''>take</span>
  <span m=''2631790''>something</span> <span m=''2632090''>for</span> <span m=''2632190''>memory
  and</span> <span m=''2632570''>bring</span> <span m=''2632800''>it</span> <span
  m=''2632880''>into</span> <span m=''2633100''>a</span> <span m=''2633160''>register</span>
  <span m=''2633760''>and</span> <span m=''2633880''>then</span> <span m=''2634000''>store
  it</span> <span m=''2634400''>back</span> <span m=''2634670''>out.</span> </p><p><span
  m=''2636880''>So</span> <span m=''2637740''>the</span> <span m=''2637860''>simplest</span>
  <span m=''2638370''>one</span> <span m=''2638580''>is</span> <span m=''2639250''>two</span>
  <span m=''2639470''>register</span> <span m=''2639920''>instructions.</span> <span
  m=''2640610''>Here</span> <span m=''2640880''>I''ve</span> <span m=''2640980''>basically</span>
  <span m=''2641570''>marked</span> <span m=''2642210''>the--</span> <span m=''2644080''>What</span>
  <span m=''2644310''>have</span> <span m=''2644440''>I</span> <span m=''2644500''>marked</span>
  <span m=''2644840''>here?</span> <span m=''2645030''>I</span> <span m=''2645080''>guess</span>
  <span m=''2645330''>I</span> <span m=''2645380''>marked--</span> <span m=''2647515''>I
  don''t know.</span> <span m=''2647820''>Down</span> <span m=''2648010''>here</span>
  <span m=''2648180''>I was</span> <span m=''2648280''>marking</span> <span m=''2648630''>memory.</span>
  <span m=''2649090''>I''m</span> <span m=''2649180''>not</span> <span m=''2649350''>sure</span>
  <span m=''2649490''>what</span> <span m=''2649600''>I was</span> <span m=''2649810''>marking</span>
  <span m=''2650160''>up</span> <span m=''2650260''>here.</span> <span m=''2650820''>Because</span>
  <span m=''2650930''>they''re</span> <span m=''2651030''>both</span> <span m=''2651260''>registers.</span>
  </p><p><span m=''2654270''>But</span> <span m=''2654480''>in</span> <span m=''2654550''>any</span>
  <span m=''2654710''>case,</span> <span m=''2655590''>this</span> <span m=''2655830''>is</span>
  <span m=''2655940''>just</span> <span m=''2656150''>adding</span> <span m=''2657100''>RBX</span>
  <span m=''2657730''>into</span> <span m=''2657960''>RAX.</span> <span m=''2658710''>And</span>
  <span m=''2658930''>so</span> <span m=''2659080''>it</span> <span m=''2659450''>takes</span>
  <span m=''2659690''>the</span> <span m=''2659770''>contents</span> <span m=''2660230''>of</span>
  <span m=''2660330''>RBX</span> <span m=''2661430''>adds</span> <span m=''2661660''>it</span>
  <span m=''2661750''>in</span> <span m=''2661850''>the</span> <span m=''2661970''>contents</span>
  <span m=''2662440''>of</span> <span m=''2662550''>RAX.</span> <span m=''2663730''>There''s</span>
  <span m=''2663850''>something</span> <span m=''2664000''>that''s</span> <span m=''2664350''>called</span>
  <span m=''2664730''>direct.</span> <span m=''2666360''>So</span> <span m=''2666800''>this</span>
  <span m=''2667200''>is,</span> <span m=''2667470''>it</span> <span m=''2667620''>says,</span>
  <span m=''2668970''>where</span> <span m=''2669160''>you</span> <span m=''2669320''>move,</span>
  <span m=''2670365''>x</span> <span m=''2670800''>is</span> <span m=''2671010''>some</span>
  <span m=''2671250''>constant</span> <span m=''2671780''>value,</span> <span m=''2672450''>and</span>
  <span m=''2672590''>you</span> <span m=''2672710''>move</span> <span m=''2673050''>it,</span>
  <span m=''2674220''>the</span> <span m=''2674360''>contents</span> <span m=''2675060''>of</span>
  <span m=''2675230''>it,</span> <span m=''2675430''>into</span> <span m=''2676470''>RDI.</span>
  <span m=''2677130''>So if</span> <span m=''2677270''>x,</span> <span m=''2677560''>for</span>
  <span m=''2677640''>example,</span> <span m=''2678020''>is</span> <span m=''2678120''>a</span>
  <span m=''2678170''>location</span> <span m=''2678720''>that you''ve</span> <span
  m=''2678880''>stored</span> <span m=''2679200''>a</span> <span m=''2679270''>value</span>
  <span m=''2679720''>in,</span> <span m=''2680290''>you</span> <span m=''2680430''>can</span>
  <span m=''2680570''>say</span> <span m=''2680810''>move</span> <span m=''2681270''>whatever</span>
  <span m=''2681690''>is</span> <span m=''2681820''>the</span> <span m=''2681900''>value</span>
  <span m=''2682290''>at</span> <span m=''2682380''>that</span> <span m=''2682570''>location</span>
  <span m=''2683190''>into</span> <span m=''2684480''>RDI.</span> <span m=''2686450''>Immediate</span>
  <span m=''2687090''>says,</span> <span m=''2687970''>which</span> <span m=''2688260''>usually</span>
  <span m=''2688770''>is</span> <span m=''2689320''>preceded</span> <span m=''2689790''>by
  a</span> <span m=''2689960''>dollar</span> <span m=''2690430''>sign,</span> <span
  m=''2691240''>says</span> <span m=''2691500''>move</span> <span m=''2691800''>the</span>
  <span m=''2691970''>address</span> <span m=''2693020''>of</span> <span m=''2693210''>it,</span>
  <span m=''2693290''>move</span> <span m=''2693540''>that</span> <span m=''2693760''>as</span>
  <span m=''2693880''>a</span> <span m=''2693960''>constant.</span> <span m=''2694990''>So</span>
  <span m=''2695130''>x</span> <span m=''2695410''>has</span> <span m=''2695620''>a</span>
  <span m=''2695680''>value,</span> <span m=''2696450''>move</span> <span m=''2696750''>that</span>
  <span m=''2697050''>value.</span> </p><p><span m=''2697970''>So</span> <span m=''2698100''>if</span>
  <span m=''2698160''>you</span> <span m=''2698270''>say</span> <span m=''2698470''>$3,</span>
  <span m=''2700430''>then</span> <span m=''2700680''>you''ll</span> <span m=''2700840''>move</span>
  <span m=''2701960''>the</span> <span m=''2702290''>constant</span> <span m=''2702800''>three</span>
  <span m=''2703130''>into</span> <span m=''2703330''>RDI.</span> <span m=''2703740''>If</span>
  <span m=''2704150''>you</span> <span m=''2704360''>said</span> <span m=''2704660''>mov3</span>
  <span m=''2705920''>this,</span> <span m=''2706510''>you''re</span> <span m=''2706630''>going</span>
  <span m=''2706730''>to</span> <span m=''2706770''>move</span> <span m=''2706950''>the</span>
  <span m=''2707050''>contents</span> <span m=''2707550''>of</span> <span m=''2707690''>location</span>
  <span m=''2708640''>three</span> <span m=''2709090''>in</span> <span m=''2709200''>memory.</span>
  <span m=''2711030''>So</span> <span m=''2711140''>that''s</span> <span m=''2711400''>the</span>
  <span m=''2711490''>difference</span> <span m=''2711900''>between</span> <span m=''2713580''>direct</span>
  <span m=''2714130''>and</span> <span m=''2714330''>immediate.</span> <span m=''2716250''>So</span>
  <span m=''2716400''>the</span> <span m=''2716490''>dollar</span> <span m=''2716810''>sign</span>
  <span m=''2717190''>says</span> <span m=''2718830''>you''re</span> <span m=''2719110''>taking</span>
  <span m=''2719490''>that</span> <span m=''2719720''>as</span> <span m=''2719810''>a</span>
  <span m=''2719890''>literal</span> <span m=''2720280''>constant.</span> <span m=''2721350''>And</span>
  <span m=''2721600''>the</span> <span m=''2722140''>direct</span> <span m=''2722530''>says</span>
  <span m=''2723100''>you''re</span> <span m=''2723220''>actually</span> <span m=''2723830''>going</span>
  <span m=''2724010''>to</span> <span m=''2724190''>memory and</span> <span m=''2724610''>fetching</span>
  <span m=''2725000''>it.</span> </p><p><span m=''2726470''>Then</span> <span m=''2726700''>things</span>
  <span m=''2726930''>start</span> <span m=''2727220''>getting</span> <span m=''2727490''>interesting.</span>
  <span m=''2728020''>Register</span> <span m=''2728550''>indirect</span> <span m=''2729290''>says,</span>
  <span m=''2731350''>in</span> <span m=''2731490''>this</span> <span m=''2731730''>case,</span>
  <span m=''2732600''>the</span> <span m=''2732860''>thing</span> <span m=''2733080''>that
  you''re</span> <span m=''2733350''>going</span> <span m=''2733450''>to</span> <span
  m=''2733540''>access</span> <span m=''2734320''>is</span> <span m=''2734530''>the</span>
  <span m=''2734620''>thing</span> <span m=''2734900''>pointed</span> <span m=''2735410''>to</span>
  <span m=''2735670''>by</span> <span m=''2735870''>that</span> <span m=''2736160''>register.</span>
  <span m=''2738050''>So</span> <span m=''2738210''>don''t</span> <span m=''2738530''>move,</span>
  <span m=''2739080''>in</span> <span m=''2739460''>this</span> <span m=''2739630''>case,</span>
  <span m=''2739950''>RBX</span> <span m=''2740630''>into</span> <span m=''2740900''>RAX,</span>
  <span m=''2741670''>move</span> <span m=''2741990''>it</span> <span m=''2742350''>to</span>
  <span m=''2742490''>the</span> <span m=''2742610''>memory</span> <span m=''2742980''>location</span>
  <span m=''2743870''>that</span> <span m=''2744030''>RAX</span> <span m=''2744680''>is</span>
  <span m=''2744820''>pointing</span> <span m=''2745300''>to.</span> </p><p><span
  m=''2747920''>Then</span> <span m=''2748110''>you</span> <span m=''2748240''>can</span>
  <span m=''2748380''>do</span> <span m=''2748520''>register</span> <span m=''2749020''>index</span>
  <span m=''2749620''>which</span> <span m=''2749810''>says,</span> <span m=''2750560''>well,</span>
  <span m=''2750900''>it''s</span> <span m=''2751160''>pointing</span> <span m=''2751680''>to</span>
  <span m=''2751990''>it,</span> <span m=''2752310''>but</span> <span m=''2752450''>I</span>
  <span m=''2752580''>want</span> <span m=''2753310''>displaced</span> <span m=''2753900''>172-bytes</span>
  <span m=''2756940''>off</span> <span m=''2757190''>of</span> <span m=''2757300''>that</span>
  <span m=''2757520''>location,</span> <span m=''2760630''>of</span> <span m=''2760780''>whatever</span>
  <span m=''2761100''>this</span> <span m=''2761290''>is</span> <span m=''2761410''>pointing</span>
  <span m=''2761760''>to.</span> <span m=''2761930''>So,</span> <span m=''2762090''>for</span>
  <span m=''2762190''>example,</span> <span m=''2762480''>if</span> <span m=''2762570''>you</span>
  <span m=''2762680''>have a</span> <span m=''2762790''>pointer</span> <span m=''2763170''>to</span>
  <span m=''2763280''>a</span> <span m=''2763380''>record,</span> <span m=''2764180''>you</span>
  <span m=''2764330''>can</span> <span m=''2764470''>then</span> <span m=''2764720''>have</span>
  <span m=''2764960''>just</span> <span m=''2765170''>a</span> <span m=''2765220''>single</span>
  <span m=''2765590''>pointer</span> <span m=''2766270''>and</span> <span m=''2766410''>address</span>
  <span m=''2766820''>all</span> <span m=''2766980''>the</span> <span m=''2767050''>fields</span>
  <span m=''2767600''>just</span> <span m=''2767830''>by</span> <span m=''2767980''>doing</span>
  <span m=''2768240''>register</span> <span m=''2768700''>indirect</span> <span m=''2769520''>to</span>
  <span m=''2769680''>the</span> <span m=''2769930''>different</span> <span m=''2770320''>fields</span>
  <span m=''2770840''>using</span> <span m=''2771190''>that</span> <span m=''2771400''>same</span>
  <span m=''2771680''>register.</span> </p><p><span m=''2775430''>Then</span> <span
  m=''2775840''>there</span> <span m=''2776160''>is,</span> <span m=''2776600''>it</span>
  <span m=''2776820''>actually--</span> <span m=''2777650''>I</span> <span m=''2777810''>skipped,</span>
  <span m=''2778250''>actually,</span> <span m=''2778600''>a</span> <span m=''2778790''>few</span>
  <span m=''2778970''>in</span> <span m=''2779060''>here</span> <span m=''2779300''>that</span>
  <span m=''2779490''>are</span> <span m=''2780270''>subsets</span> <span m=''2780850''>of</span>
  <span m=''2780960''>this.</span> <span m=''2781220''>This</span> <span m=''2781390''>is,</span>
  <span m=''2781700''>I</span> <span m=''2781840''>think,</span> <span m=''2782120''>the</span>
  <span m=''2782210''>most</span> <span m=''2782760''>complicated</span> <span m=''2783440''>one</span>
  <span m=''2783700''>that</span> <span m=''2783850''>I</span> <span m=''2783940''>know.</span>
  <span m=''2784500''>It''s</span> <span m=''2784950''>base</span> <span m=''2785380''>index</span>
  <span m=''2785850''>scale</span> <span m=''2786230''>displacement</span> <span m=''2786980''>where</span>
  <span m=''2787110''>base and</span> <span m=''2787520''>index</span> <span m=''2787930''>are</span>
  <span m=''2788020''>registers,</span> <span m=''2789010''>the</span> <span m=''2789120''>scale</span>
  <span m=''2789560''>is</span> <span m=''2789710''>two,</span> <span m=''2790020''>four,</span>
  <span m=''2790440''>eight,</span> <span m=''2790850''>and</span> <span m=''2791010''>if</span>
  <span m=''2791100''>it''s</span> <span m=''2791490''>not</span> <span m=''2791750''>there,</span>
  <span m=''2791990''>it</span> <span m=''2792040''>implies</span> <span m=''2792550''>one.</span>
  <span m=''2793050''>The</span> <span m=''2793410''>displacement</span> <span m=''2794780''>is</span>
  <span m=''2795130''>eight,</span> <span m=''2795555''>16,</span> <span m=''2795980''>or
  a</span> <span m=''2796090''>32-bit</span> <span m=''2796790''>value.</span> <span
  m=''2797710''>And</span> <span m=''2802110''>it</span> <span m=''2802230''>says</span>
  <span m=''2802490''>take</span> <span m=''2804410''>RD--</span> <span m=''2805260''>oh,</span>
  <span m=''2805630''>I</span> <span m=''2805750''>had</span> <span m=''2806110''>put</span>
  <span m=''2806310''>the</span> <span m=''2806390''>math</span> <span m=''2806750''>on</span>
  <span m=''2806870''>here,</span> <span m=''2807100''>and</span> <span m=''2807180''>then</span>
  <span m=''2807330''>I</span> <span m=''2807710''>guess</span> <span m=''2808020''>I</span>
  <span m=''2808140''>lost</span> <span m=''2808570''>it--</span> <span m=''2808670''>it</span>
  <span m=''2808990''>says</span> <span m=''2809260''>take</span> <span m=''2809570''>RDX,</span>
  <span m=''2810700''>multiply</span> <span m=''2811025''>it</span> <span m=''2811350''>by</span>
  <span m=''2811610''>eight,</span> <span m=''2812930''>add</span> <span m=''2813690''>RDI,</span>
  <span m=''2814640''>and</span> <span m=''2814800''>add</span> <span m=''2815440''>172.</span>
  <span m=''2817141''>[WHISTLE].</span> </p><p><span m=''2820290''>So,</span> <span
  m=''2820890''>anyway,</span> <span m=''2821210''>you</span> <span m=''2821320''>can</span>
  <span m=''2821430''>look</span> <span m=''2822050''>in</span> <span m=''2822240''>the</span>
  <span m=''2822340''>manual.</span> <span m=''2822700''>So</span> <span m=''2823300''>you''ll</span>
  <span m=''2823460''>see</span> <span m=''2823780''>some</span> <span m=''2823990''>of</span>
  <span m=''2824030''>these</span> <span m=''2824230''>instructions</span> <span m=''2824860''>being</span>
  <span m=''2825070''>generated.</span> <span m=''2825860''>Generally,</span> <span
  m=''2826230''>you''re</span> <span m=''2826390''>not</span> <span m=''2826590''>going</span>
  <span m=''2826700''>to</span> <span m=''2826760''>generate</span> <span m=''2827200''>these</span>
  <span m=''2827380''>instructions.</span> <span m=''2828030''>So</span> <span m=''2828170''>when</span>
  <span m=''2828300''>you</span> <span m=''2828360''>see</span> <span m=''2828550''>them</span>
  <span m=''2828710''>generated,</span> <span m=''2829830''>you</span> <span m=''2830000''>can</span>
  <span m=''2830110''>see</span> <span m=''2830300''>it.</span> </p><p><span m=''2830780''>And</span>
  <span m=''2830980''>then,</span> <span m=''2831720''>and</span> <span m=''2831950''>this</span>
  <span m=''2832080''>is</span> <span m=''2832210''>actually</span> <span m=''2832540''>new,</span>
  <span m=''2832740''>it''s</span> <span m=''2832860''>not</span> <span m=''2833090''>in</span>
  <span m=''2833200''>the</span> <span m=''2833550''>x86.</span> <span m=''2834220''>It</span>
  <span m=''2834470''>has</span> <span m=''2834970''>this</span> <span m=''2836080''>instruction</span>
  <span m=''2836650''>pointer</span> <span m=''2837320''>where</span> <span m=''2837620''>you</span>
  <span m=''2837750''>can</span> <span m=''2837890''>actually</span> <span m=''2838270''>access</span>
  <span m=''2838810''>where</span> <span m=''2839070''>the</span> <span m=''2839220''>current</span>
  <span m=''2839590''>program</span> <span m=''2840100''>counter</span> <span m=''2840500''>is</span>
  <span m=''2840600''>pointing,</span> <span m=''2842350''>where</span> <span m=''2842700''>it</span>
  <span m=''2842760''>is</span> <span m=''2842940''>in</span> <span m=''2843010''>the</span>
  <span m=''2843120''>code,</span> <span m=''2843580''>and</span> <span m=''2843780''>store</span>
  <span m=''2844130''>that</span> <span m=''2844450''>value,</span> <span m=''2844840''>in</span>
  <span m=''2844930''>this</span> <span m=''2845120''>case</span> <span m=''2845490''>indexed</span>
  <span m=''2846970''>by</span> <span m=''2847170''>six,</span> <span m=''2847950''>into</span>
  <span m=''2848340''>RAX.</span> <span m=''2848660''>So you</span> <span m=''2849060''>can</span>
  <span m=''2849190''>do</span> <span m=''2849270''>it</span> <span m=''2849300''>relative</span>
  <span m=''2850170''>where</span> <span m=''2850300''>this</span> <span m=''2850530''>has</span>
  <span m=''2850760''>to</span> <span m=''2850850''>be</span> <span m=''2850970''>a</span>
  <span m=''2851020''>32-bit</span> <span m=''2851970''>constant.</span> <span m=''2853200''>And</span>
  <span m=''2853370''>what''s</span> <span m=''2853600''>good</span> <span m=''2853750''>about</span>
  <span m=''2854040''>that</span> <span m=''2854270''>is</span> <span m=''2854520''>it</span>
  <span m=''2855190''>allows</span> <span m=''2855570''>you</span> <span m=''2855740''>then</span>
  <span m=''2856140''>to</span> <span m=''2856800''>write</span> <span m=''2857210''>code</span>
  <span m=''2857560''>where</span> <span m=''2857680''>you</span> <span m=''2857810''>can</span>
  <span m=''2857930''>do</span> <span m=''2858070''>things</span> <span m=''2858360''>like</span>
  <span m=''2858610''>jump</span> <span m=''2859340''>to</span> <span m=''2859440''>something</span>
  <span m=''2859770''>that''s</span> <span m=''2859930''>relative</span> <span m=''2861150''>to</span>
  <span m=''2861270''>the</span> <span m=''2861360''>program</span> <span m=''2861850''>counter.</span>
  </p><p><span m=''2862690''>And</span> <span m=''2862810''>that</span> <span m=''2862990''>lets</span>
  <span m=''2863200''>you</span> <span m=''2863310''>put</span> <span m=''2863720''>the</span>
  <span m=''2864390''>code</span> <span m=''2864750''>anywhere</span> <span m=''2865280''>in</span>
  <span m=''2865350''>memory,</span> <span m=''2865810''>and</span> <span m=''2865920''>it</span>
  <span m=''2866020''>still</span> <span m=''2866310''>has</span> <span m=''2866510''>the</span>
  <span m=''2866580''>same</span> <span m=''2866850''>behavior.</span> <span m=''2868010''>Because</span>
  <span m=''2868290''>you''re</span> <span m=''2868650''>going</span> <span m=''2869020''>relative</span>
  <span m=''2869580''>to</span> <span m=''2869700''>where</span> <span m=''2870290''>that</span>
  <span m=''2870530''>code</span> <span m=''2870730''>is</span> <span m=''2870870''>rather</span>
  <span m=''2871190''>than</span> <span m=''2871380''>to</span> <span m=''2871520''>an</span>
  <span m=''2871600''>absolute</span> <span m=''2872090''>location.</span> <span m=''2874080''>So</span>
  <span m=''2874440''>it</span> <span m=''2874660''>allows</span> <span m=''2875140''>the</span>
  <span m=''2875240''>code</span> <span m=''2875460''>to</span> <span m=''2875520''>be</span>
  <span m=''2876020''>relocatable.</span> <span m=''2880580''>So</span> <span m=''2880820''>here''s--</span>
  <span m=''2882540''>Yeah,</span> <span m=''2882750''>questions,</span> <span m=''2883170''>yeah</span>
  <span m=''2883340''>sure.</span> </p><p><span m=''2883740''>AUDIENCE: Why was</span>
  <span m=''2884212''>it</span> <span m=''2885156''>the index</span> <span m=''2885628''>registers,</span>
  <span m=''2886100''>when you</span> <span m=''2886572''>have the</span> <span m=''2887044''>numbering</span>
  <span m=''2887516''>for the register,</span> <span m=''2887988''>what does</span>
  <span m=''2888460''>that</span> <span m=''2888932''>mean again?</span> </p><p><span
  m=''2889876''>CHARLES LEISERSON: The</span> <span m=''2890360''>number</span> <span
  m=''2890720''>before</span> <span m=''2891190''>the</span> <span m=''2891320''>register?</span>
  </p><p><span m=''2891680''>AUDIENCE: In the</span> <span m=''2892153''>instruction</span>
  <span m=''2892626''>[UNINTELLIGIBLE],</span> <span m=''2893099''>that''s</span>
  <span m=''2893572''>60</span> <span m=''2894045''>for</span> <span m=''2894520''>RID.</span>
  </p><p><span m=''2895120''>CHARLES LEISERSON: OK,</span> <span m=''2896150''>or</span>
  <span m=''2896240''>whatever,</span> <span m=''2897140''>whenever</span> <span m=''2897560''>it''s</span>
  <span m=''2898340''>here,</span> <span m=''2898610''>it''s</span> <span m=''2898770''>basically</span>
  <span m=''2899260''>saying,</span> <span m=''2900680''>add</span> <span m=''2901100''>that</span>
  <span m=''2901420''>value</span> <span m=''2902170''>to</span> <span m=''2902440''>the</span>
  <span m=''2902840''>contents</span> <span m=''2903920''>of</span> <span m=''2904070''>RAX.</span>
  <span m=''2905900''>And</span> <span m=''2906120''>so</span> <span m=''2906260''>the</span>
  <span m=''2906350''>same</span> <span m=''2906610''>thing</span> <span m=''2906780''>here,</span>
  <span m=''2907350''>add</span> <span m=''2907790''>six</span> <span m=''2908150''>to</span>
  <span m=''2908240''>the</span> <span m=''2908330''>contents</span> <span m=''2909270''>of</span>
  <span m=''2909370''>the</span> <span m=''2909490''>instruction.</span> <span m=''2910050''>So</span>
  <span m=''2910200''>this</span> <span m=''2910380''>is</span> <span m=''2911490''>six</span>
  <span m=''2911990''>bytes</span> <span m=''2912290''>ahead</span> <span m=''2912610''>of</span>
  <span m=''2912760''>me</span> <span m=''2912980''>in</span> <span m=''2913080''>the</span>
  <span m=''2913180''>instruction</span> <span m=''2913670''>stream.</span> <span
  m=''2915510''>OK?</span> <span m=''2916360''>So</span> <span m=''2916500''>you</span>
  <span m=''2916650''>can</span> <span m=''2916770''>actually</span> <span m=''2917690''>say,</span>
  <span m=''2917920''>well,</span> <span m=''2918070''>what''s</span> <span m=''2918310''>that</span>
  <span m=''2918460''>instruction</span> <span m=''2919030''>ahead</span> <span m=''2919230''>of</span>
  <span m=''2919280''>me in</span> <span m=''2919470''>the</span> <span m=''2919540''>instructions</span>
  <span m=''2920090''>stream?</span> <span m=''2921380''>OK?</span> </p><p><span m=''2925350''>So</span>
  <span m=''2925540''>here''s</span> <span m=''2926470''>some</span> <span m=''2926710''>examples</span>
  <span m=''2927380''>of</span> <span m=''2928870''>essentially</span> <span m=''2929430''>the</span>
  <span m=''2929510''>same</span> <span m=''2929900''>code</span> <span m=''2930400''>and</span>
  <span m=''2930490''>how</span> <span m=''2931200''>it</span> <span m=''2931400''>gets</span>
  <span m=''2931650''>compiled.</span> <span m=''2933470''>So</span> <span m=''2933640''>here</span>
  <span m=''2934220''>we''re</span> <span m=''2934410''>going</span> <span m=''2934490''>to</span>
  <span m=''2934850''>have</span> <span m=''2935240''>a</span> <span m=''2935390''>fou1,</span>
  <span m=''2935680''>fou2,</span> <span m=''2936100''>fou3.</span> <span m=''2937420''>And</span>
  <span m=''2938110''>in</span> <span m=''2938190''>this</span> <span m=''2938390''>case</span>
  <span m=''2938660''>we</span> <span m=''2938780''>declare</span> <span m=''2939170''>x,</span>
  <span m=''2939425''>y,</span> <span m=''2939680''>and</span> <span m=''2939850''>z</span>
  <span m=''2940690''>to</span> <span m=''2940830''>be</span> <span m=''2941160''>unsigned</span>
  <span m=''2941650''>integers.</span> <span m=''2942910''>We</span> <span m=''2943130''>set</span>
  <span m=''2943410''>them</span> <span m=''2943540''>to</span> <span m=''2943650''>some</span>
  <span m=''2943870''>values.</span> <span m=''2944450''>And</span> <span m=''2944650''>we</span>
  <span m=''2944760''>just</span> <span m=''2944970''>simply</span> <span m=''2945310''>say</span>
  <span m=''2945720''>return</span> <span m=''2946160''>x</span> <span m=''2946380''>plus</span>
  <span m=''2946590''>y</span> <span m=''2948113''>or</span> <span m=''2949400''>z,</span>
  <span m=''2950900''>bitwise</span> <span m=''2951380''>OR</span> <span m=''2951670''>with</span>
  <span m=''2951760''>z.</span> </p><p><span m=''2952880''>If</span> <span m=''2952990''>you</span>
  <span m=''2953130''>look</span> <span m=''2953340''>at</span> <span m=''2953440''>what</span>
  <span m=''2953590''>the</span> <span m=''2953680''>code</span> <span m=''2953970''>is</span>
  <span m=''2954130''>that''s</span> <span m=''2954380''>generated,</span> <span m=''2955860''>it</span>
  <span m=''2956050''>says</span> <span m=''2956450''>move</span> <span m=''2957410''>the</span>
  <span m=''2957530''>constant</span> <span m=''2957990''>45</span> <span m=''2958830''>into</span>
  <span m=''2959180''>EAX.</span> <span m=''2962740''>Why</span> <span m=''2962990''>does</span>
  <span m=''2963150''>it</span> <span m=''2963270''>do</span> <span m=''2963400''>that?</span>
  <span m=''2963800''>Well,</span> <span m=''2964210''>let''s</span> <span m=''2964430''>just</span>
  <span m=''2964640''>see.</span> <span m=''2964990''>Well,</span> <span m=''2965160''>the</span>
  <span m=''2965250''>compiler</span> <span m=''2965800''>figures</span> <span m=''2966230''>out</span>
  <span m=''2967090''>that</span> <span m=''2967230''>it</span> <span m=''2967370''>knows</span>
  <span m=''2967690''>what</span> <span m=''2967890''>35,</span> <span m=''2968550''>seven,</span>
  <span m=''2968930''>and</span> <span m=''2969050''>45</span> <span m=''2969650''>are.</span>
  <span m=''2969890''>It</span> <span m=''2970030''>computes</span> <span m=''2970550''>x</span>
  <span m=''2970890''>plus</span> <span m=''2971180''>y.</span> <span m=''2971560''>That''s</span>
  <span m=''2971890''>41.</span> <span m=''2972975''>If</span> <span m=''2973330''>you</span>
  <span m=''2973450''>take</span> <span m=''2973680''>41</span> <span m=''2974060''>bitwise</span>
  <span m=''2974810''>OR</span> <span m=''2975140''>with</span> <span m=''2975640''>45,</span>
  <span m=''2976520''>it</span> <span m=''2976840''>turns</span> <span m=''2977110''>out</span>
  <span m=''2977380''>it''s</span> <span m=''2977520''>masking</span> <span m=''2977930''>the</span>
  <span m=''2977990''>same</span> <span m=''2978260''>bits,</span> <span m=''2978600''>that''s</span>
  <span m=''2979000''>45.</span> <span m=''2980040''>So</span> <span m=''2980210''>the</span>
  <span m=''2980290''>compiler</span> <span m=''2980730''>actually</span> <span m=''2980990''>can</span>
  <span m=''2981160''>figure</span> <span m=''2981510''>this</span> <span m=''2981730''>out</span>
  <span m=''2982770''>that</span> <span m=''2983260''>all</span> <span m=''2983510''>it</span>
  <span m=''2983600''>has</span> <span m=''2983820''>to</span> <span m=''2983920''>do</span>
  <span m=''2984120''>is</span> <span m=''2984230''>return</span> <span m=''2985560''>45</span>
  <span m=''2986540''>in a</span> <span m=''2986760''>64-bit</span> <span m=''2987530''>register.</span>
  </p><p><span m=''2988040''>Ah,</span> <span m=''2988470''>but</span> <span m=''2988700''>here</span>
  <span m=''2989040''>it''s</span> <span m=''2989210''>returning</span> <span m=''2989465''>it</span>
  <span m=''2989720''>in</span> <span m=''2990060''>a</span> <span m=''2990390''>32-bit</span>
  <span m=''2991100''>register.</span> <span m=''2991620''>What</span> <span m=''2991790''>happened?</span>
  <span m=''2992770''>It''s</span> <span m=''2992960''>not</span> <span m=''2993150''>obeying</span>
  <span m=''2993490''>the</span> <span m=''2993590''>type.</span> <span m=''2993990''>The</span>
  <span m=''2994100''>type</span> <span m=''2994360''>is</span> <span m=''2994460''>supposed</span>
  <span m=''2994780''>to</span> <span m=''2994820''>be</span> <span m=''2994950''>64-bits,</span>
  <span m=''2996070''>but</span> <span m=''2996200''>that''s</span> <span m=''2996420''>a</span>
  <span m=''2996480''>32-bit</span> <span m=''2997100''>register.</span> <span m=''2998460''>Oh,</span>
  <span m=''2998850''>yeah,</span> <span m=''2999230''>that''s</span> <span m=''2999530''>this</span>
  <span m=''2999770''>thing</span> <span m=''2999970''>where it</span> <span m=''3000160''>automatically</span>
  <span m=''3000890''>zeroes</span> <span m=''3001400''>out</span> <span m=''3001620''>the</span>
  <span m=''3001690''>high</span> <span m=''3002140''>order</span> <span m=''3002170''>bits.</span>
  </p><p><span m=''3003540''>And</span> <span m=''3003700''>it</span> <span m=''3003780''>uses</span>
  <span m=''3004370''>this</span> <span m=''3004560''>instruction,</span> <span m=''3005680''>because</span>
  <span m=''3006330''>this</span> <span m=''3006530''>is</span> <span m=''3006680''>a</span>
  <span m=''3006770''>shorter</span> <span m=''3007200''>instruction</span> <span
  m=''3007790''>than</span> <span m=''3007890''>if</span> <span m=''3008010''>it</span>
  <span m=''3008150''>did</span> <span m=''3008310''>the</span> <span m=''3008460''>RAX.</span>
  <span m=''3010030''>It</span> <span m=''3010120''>could</span> <span m=''3010240''>do</span>
  <span m=''3010340''>the</span> <span m=''3010440''>same</span> <span m=''3010700''>thing</span>
  <span m=''3010860''>with</span> <span m=''3011000''>RAX,</span> <span m=''3011460''>but</span>
  <span m=''3011570''>it</span> <span m=''3011650''>would</span> <span m=''3011760''>be</span>
  <span m=''3012300''>more</span> <span m=''3012550''>bytes</span> <span m=''3012910''>of</span>
  <span m=''3013000''>instruction.</span> <span m=''3013640''>So</span> <span m=''3014440''>they</span>
  <span m=''3014570''>saved</span> <span m=''3014830''>a</span> <span m=''3014970''>couple</span>
  <span m=''3015230''>bytes</span> <span m=''3015540''>of</span> <span m=''3015600''>instruction</span>
  <span m=''3016160''>by</span> <span m=''3016320''>doing</span> <span m=''3016560''>that.</span>
  <span m=''3017020''>So</span> <span m=''3017180''>people</span> <span m=''3017460''>follow</span>
  <span m=''3017790''>what</span> <span m=''3018010''>happened</span> <span m=''3018350''>there?</span>
  </p><p><span m=''3020240''>Let''s</span> <span m=''3020490''>take</span> <span m=''3020670''>a</span>
  <span m=''3020720''>look</span> <span m=''3020870''>at</span> <span m=''3020910''>the</span>
  <span m=''3021060''>next</span> <span m=''3021200''>one.</span> <span m=''3021290''>Here</span>
  <span m=''3021560''>it''s</span> <span m=''3021790''>the</span> <span m=''3021860''>same</span>
  <span m=''3022260''>code</span> <span m=''3022990''>just</span> <span m=''3023230''>let''s</span>
  <span m=''3023430''>pass</span> <span m=''3023770''>those</span> <span m=''3024040''>things</span>
  <span m=''3024330''>as</span> <span m=''3024450''>arguments.</span> <span m=''3026890''>Well,</span>
  <span m=''3027280''>if</span> <span m=''3027370''>you</span> <span m=''3027490''>remember</span>
  <span m=''3027710''>the</span> <span m=''3027790''>calling</span> <span m=''3028230''>convention,</span>
  <span m=''3028750''>parameter</span> <span m=''3029280''>one</span> <span m=''3029550''>is</span>
  <span m=''3029680''>in</span> <span m=''3029810''>RDI,</span> <span m=''3030470''>parameter</span>
  <span m=''3030950''>two</span> <span m=''3031210''>is in</span> <span m=''3031410''>RSI,</span>
  <span m=''3032480''>and</span> <span m=''3032640''>parameter</span> <span m=''3033060''>three</span>
  <span m=''3033340''>is in</span> <span m=''3033570''>RDX.</span> <span m=''3035580''>So</span>
  <span m=''3035730''>I</span> <span m=''3035790''>don''t</span> <span m=''3035980''>expect</span>
  <span m=''3036330''>you to</span> <span m=''3036460''>remember</span> <span m=''3036830''>that</span>
  <span m=''3037050''>off</span> <span m=''3037170''>the</span> <span m=''3037260''>top</span>
  <span m=''3037500''>your</span> <span m=''3037620''>head.</span> <span m=''3037920''>But</span>
  <span m=''3038120''>we</span> <span m=''3038230''>have</span> <span m=''3038350''>the</span>
  <span m=''3038450''>cheat</span> <span m=''3038680''>sheet, and</span> <span m=''3038960''>you</span>
  <span m=''3039190''>can</span> <span m=''3039850''>figure</span> <span m=''3040050''>that</span>
  <span m=''3040270''>out.</span> </p><p><span m=''3041020''>So</span> <span m=''3041190''>here''s</span>
  <span m=''3041520''>what</span> <span m=''3041680''>it</span> <span m=''3041820''>does</span>
  <span m=''3042150''>is,</span> <span m=''3042310''>oh</span> <span m=''3042480''>my</span>
  <span m=''3042660''>goodness,</span> <span m=''3043010''>what</span> <span m=''3043180''>is</span>
  <span m=''3043290''>that</span> <span m=''3043520''>instruction?</span> <span m=''3044530''>This</span>
  <span m=''3044720''>is</span> <span m=''3044870''>actually</span> <span m=''3045630''>a</span>
  <span m=''3047740''>computation</span> <span m=''3048480''>of</span> <span m=''3048680''>effective</span>
  <span m=''3049230''>address.</span> <span m=''3051070''>So</span> <span m=''3051270''>the</span>
  <span m=''3051400''>effective</span> <span m=''3051850''>address</span> <span m=''3052500''>is</span>
  <span m=''3052710''>basically</span> <span m=''3053290''>saying,</span> <span m=''3053820''>and</span>
  <span m=''3053990''>it''s</span> <span m=''3054100''>using</span> <span m=''3054355''>one
  of</span> <span m=''3054610''>these</span> <span m=''3054880''>funny</span> <span
  m=''3055150''>indexing</span> <span m=''3055700''>modes.</span> <span m=''3056610''>So</span>
  <span m=''3056750''>what</span> <span m=''3056890''>this</span> <span m=''3057050''>is</span>
  <span m=''3057210''>actually</span> <span m=''3057640''>doing</span> <span m=''3058520''>is</span>
  <span m=''3058710''>it''s</span> <span m=''3058830''>actually</span> <span m=''3059920''>adding</span>
  <span m=''3060410''>these</span> <span m=''3060650''>two</span> <span m=''3060850''>numbers</span>
  <span m=''3061260''>together,</span> <span m=''3063760''>the</span> <span m=''3064340''>values</span>
  <span m=''3065040''>stored</span> <span m=''3065350''>in</span> <span m=''3065450''>those</span>
  <span m=''3065690''>locations</span> <span m=''3066260''>together,</span> <span
  m=''3066960''>and</span> <span m=''3067080''>storing it</span> <span m=''3067430''>into</span>
  <span m=''3067700''>RAX.</span> <span m=''3068940''>And</span> <span m=''3069150''>then</span>
  <span m=''3072000''>it''s</span> <span m=''3072300''>then</span> <span m=''3072590''>OR-ing</span>
  <span m=''3073130''>RDX,</span> <span m=''3074610''>what''s</span> <span m=''3074990''>in</span>
  <span m=''3075230''>RDX,</span> <span m=''3075840''>with</span> <span m=''3076070''>RAX</span>
  <span m=''3076840''>and</span> <span m=''3076990''>then</span> <span m=''3077120''>returning.</span>
  </p><p><span m=''3077800''>Remember</span> <span m=''3078130''>that</span> <span
  m=''3078290''>RAX</span> <span m=''3079050''>is</span> <span m=''3079250''>where</span>
  <span m=''3079470''>the</span> <span m=''3079700''>result</span> <span m=''3080180''>is</span>
  <span m=''3080320''>always</span> <span m=''3080600''>going</span> <span m=''3080710''>to</span>
  <span m=''3080760''>be.</span> <span m=''3082280''>So</span> <span m=''3082420''>the</span>
  <span m=''3082490''>result</span> <span m=''3082860''>is</span> <span m=''3082950''>always</span>
  <span m=''3083210''>returned</span> <span m=''3083680''>in</span> <span m=''3083870''>RAX.</span>
  <span m=''3084470''>So</span> <span m=''3084600''>you can</span> <span m=''3084740''>see</span>
  <span m=''3084960''>you</span> <span m=''3084990''>have</span> <span m=''3085180''>to</span>
  <span m=''3085270''>do</span> <span m=''3085440''>a</span> <span m=''3085510''>little</span>
  <span m=''3085760''>bit</span> <span m=''3085960''>more</span> <span m=''3086740''>complicated</span>
  <span m=''3087360''>addressing</span> <span m=''3088280''>in</span> <span m=''3088410''>order</span>
  <span m=''3088650''>to</span> <span m=''3088720''>pull</span> <span m=''3088970''>them</span>
  <span m=''3089100''>out</span> <span m=''3089270''>as</span> <span m=''3089420''>parameters</span>
  <span m=''3090040''>than</span> <span m=''3090160''>if</span> <span m=''3090240''>it</span>
  <span m=''3090330''>could</span> <span m=''3090470''>actually</span> <span m=''3090760''>figure</span>
  <span m=''3091060''>out</span> <span m=''3091220''>what</span> <span m=''3091380''>the</span>
  <span m=''3091470''>numbers</span> <span m=''3091820''>are.</span> </p><p><span
  m=''3092690''>Last</span> <span m=''3093050''>example</span> <span m=''3093570''>here</span>
  <span m=''3093940''>is</span> <span m=''3094310''>I</span> <span m=''3094440''>declared</span>
  <span m=''3094850''>these</span> <span m=''3095140''>things</span> <span m=''3095370''>before</span>
  <span m=''3095810''>I</span> <span m=''3095890''>ever</span> <span m=''3096150''>got</span>
  <span m=''3096470''>their</span> <span m=''3096570''>globals.</span> <span m=''3098760''>And</span>
  <span m=''3098920''>so</span> <span m=''3099020''>I</span> <span m=''3099150''>declared</span>
  <span m=''3099540''>them</span> <span m=''3099690''>before I</span> <span m=''3100030''>ever</span>
  <span m=''3100210''>got</span> <span m=''3100410''>in. So</span> <span m=''3100670''>that</span>
  <span m=''3100860''>means</span> <span m=''3101030''>since</span> <span m=''3101300''>they''re</span>
  <span m=''3101430''>globals,</span> <span m=''3101930''>they</span> <span m=''3102040''>have</span>
  <span m=''3102150''>a</span> <span m=''3102190''>fixed</span> <span m=''3102530''>place</span>
  <span m=''3102810''>in</span> <span m=''3102910''>memory.</span> <span m=''3104200''>And</span>
  <span m=''3104400''>so</span> <span m=''3104600''>the</span> <span m=''3104740''>code</span>
  <span m=''3105050''>that''s</span> <span m=''3105280''>generated</span> <span m=''3106020''>is</span>
  <span m=''3107320''>moving,</span> <span m=''3108770''>it</span> <span m=''3108940''>turns</span>
  <span m=''3109180''>out</span> <span m=''3109330''>it</span> <span m=''3109530''>allocates</span>
  <span m=''3110180''>them</span> <span m=''3110760''>right</span> <span m=''3111290''>nearby</span>
  <span m=''3112230''>the</span> <span m=''3112380''>instructions</span> <span m=''3113030''>here.</span>
  <span m=''3113790''>And</span> <span m=''3113940''>so what</span> <span m=''3114270''>it</span>
  <span m=''3114310''>does</span> <span m=''3114610''>is</span> <span m=''3114750''>it</span>
  <span m=''3114840''>has</span> <span m=''3115100''>actually</span> <span m=''3115380''>a</span>
  <span m=''3115520''>relative</span> <span m=''3116010''>offset</span> <span m=''3116520''>for</span>
  <span m=''3116710''>x,</span> <span m=''3117810''>relativity</span> <span m=''3118470''>instruction</span>
  <span m=''3119030''>pointer,</span> <span m=''3119380''>put</span> <span m=''3119590''>that
  in</span> <span m=''3119800''>RAX,</span> <span m=''3121930''>add</span> <span m=''3123490''>the</span>
  <span m=''3123690''>offset</span> <span m=''3124060''>of</span> <span m=''3124420''>x</span>
  <span m=''3124850''>into</span> <span m=''3125250''>it,</span> <span m=''3125820''>and
  then</span> <span m=''3126100''>OR</span> <span m=''3126365''>it with</span> <span
  m=''3126630''>the</span> <span m=''3126770''>offset</span> <span m=''3128260''>of</span>
  <span m=''3128420''>z,</span> <span m=''3129230''>and</span> <span m=''3129420''>then</span>
  <span m=''3129570''>return.</span> </p><p><span m=''3130990''>And</span> <span m=''3131120''>so</span>
  <span m=''3131270''>there</span> <span m=''3131780''>the</span> <span m=''3131980''>constants</span>
  <span m=''3132510''>are</span> <span m=''3132580''>actually</span> <span m=''3132820''>stored</span>
  <span m=''3133180''>right</span> <span m=''3133410''>nearby</span> <span m=''3133960''>in</span>
  <span m=''3134060''>the</span> <span m=''3134170''>code</span> <span m=''3134900''>so
  that</span> <span m=''3135110''>they</span> <span m=''3135300''>can</span> <span
  m=''3135440''>use</span> <span m=''3135810''>this</span> <span m=''3136720''>relative</span>
  <span m=''3138510''>offset.</span> <span m=''3139200''>And</span> <span m=''3139420''>the</span>
  <span m=''3140580''>compiler</span> <span m=''3141410''>figures</span> <span m=''3141790''>out,</span>
  <span m=''3142090''>or</span> <span m=''3142150''>the</span> <span m=''3142320''>assembler</span>
  <span m=''3142790''>figures</span> <span m=''3143190''>out,</span> <span m=''3143470''>exactly</span>
  <span m=''3144730''>what</span> <span m=''3145040''>the</span> <span m=''3145170''>offset</span>
  <span m=''3145570''>is</span> <span m=''3145770''>that</span> <span m=''3145880''>it</span>
  <span m=''3145990''>actually</span> <span m=''3146280''>needs</span> <span m=''3146520''>to</span>
  <span m=''3146640''>substitute</span> <span m=''3147330''>for</span> <span m=''3147500''>y</span>
  <span m=''3148330''>so</span> <span m=''3148500''>that it</span> <span m=''3148610''>can</span>
  <span m=''3148760''>be</span> <span m=''3148880''>a</span> <span m=''3148940''>relative</span>
  <span m=''3149540''>offset</span> <span m=''3150150''>from</span> <span m=''3150410''>the</span>
  <span m=''3150520''>current</span> <span m=''3150820''>instruction</span> <span
  m=''3151320''>pointer.</span> <span m=''3152120''>Notice</span> <span m=''3152460''>that,</span>
  <span m=''3152610''>for</span> <span m=''3152700''>example,</span> <span m=''3153020''>that''s</span>
  <span m=''3153250''>going</span> <span m=''3153350''>to</span> <span m=''3153440''>change</span>
  <span m=''3153970''>depending</span> <span m=''3154320''>upon</span> <span m=''3154690''>the</span>
  <span m=''3154770''>value</span> <span m=''3155180''>of</span> <span m=''3155340''>y</span>
  <span m=''3155590''>here.</span> <span m=''3155980''>It''s</span> <span m=''3156310''>going
  to</span> <span m=''3156460''>change</span> <span m=''3157130''>compared</span>
  <span m=''3157470''>to</span> <span m=''3157550''>if</span> <span m=''3157820''>I</span>
  <span m=''3158060''>accessed</span> <span m=''3158490''>y</span> <span m=''3158810''>down</span>
  <span m=''3159070''>here.</span> <span m=''3159700''>It</span> <span m=''3159790''>would</span>
  <span m=''3159920''>be</span> <span m=''3160060''>a</span> <span m=''3160110''>different</span>
  <span m=''3160400''>instruction</span> <span m=''3160960''>pointer</span> <span
  m=''3161250''>at</span> <span m=''3161340''>this</span> <span m=''3161510''>point.</span>
  </p><p><span m=''3163070''>So</span> <span m=''3163270''>it</span> <span m=''3163360''>actually</span>
  <span m=''3163660''>just</span> <span m=''3163900''>goes</span> <span m=''3164120''>but
  it</span> <span m=''3164350''>computes</span> <span m=''3164800''>what</span> <span
  m=''3164940''>the</span> <span m=''3165020''>difference</span> <span m=''3165460''>is</span>
  <span m=''3165640''>so</span> <span m=''3165780''>it</span> <span m=''3165890''>knows</span>
  <span m=''3169180''>what</span> <span m=''3169520''>the</span> <span m=''3170020''>distance</span>
  <span m=''3170460''>is.</span> <span m=''3170710''>It can</span> <span m=''3170840''>compute</span>
  <span m=''3171240''>that at</span> <span m=''3171550''>compile</span> <span m=''3172030''>time,</span>
  <span m=''3172680''>and</span> <span m=''3172860''>then</span> <span m=''3172990''>at</span>
  <span m=''3173100''>execution</span> <span m=''3173730''>time</span> <span m=''3174270''>it</span>
  <span m=''3174990''>just</span> <span m=''3175220''>uses</span> <span m=''3175600''>whatever</span>
  <span m=''3175990''>constant</span> <span m=''3176690''>goes</span> <span m=''3176900''>in</span>
  <span m=''3176960''>there.</span> <span m=''3177440''>So</span> <span m=''3177580''>the</span>
  <span m=''3177650''>important</span> <span m=''3178010''>thing</span> <span m=''3178170''>here</span>
  <span m=''3178370''>is</span> <span m=''3178470''>just</span> <span m=''3178700''>to</span>
  <span m=''3178750''>notice</span> <span m=''3179090''>that</span> <span m=''3179190''>the</span>
  <span m=''3179290''>code</span> <span m=''3179540''>depends</span> <span m=''3179860''>upon</span>
  <span m=''3180540''>where</span> <span m=''3180830''>x, y,</span> <span m=''3181300''>and</span>
  <span m=''3181430''>z</span> <span m=''3181600''>are</span> <span m=''3181700''>allocated.</span>
  </p><p><span m=''3186010''>So</span> <span m=''3188110''>the</span> <span m=''3188560''>first</span>
  <span m=''3188980''>thing</span> <span m=''3189180''>to</span> <span m=''3189260''>actually</span>
  <span m=''3189560''>look</span> <span m=''3189830''>at</span> <span m=''3190030''>good</span>
  <span m=''3190270''>code</span> <span m=''3190890''>is</span> <span m=''3191310''>to</span>
  <span m=''3191420''>understand</span> <span m=''3191990''>the</span> <span m=''3192070''>calling</span>
  <span m=''3192480''>convention</span> <span m=''3193400''>that''s</span> <span m=''3193580''>used</span>
  <span m=''3194370''>by</span> <span m=''3194990''>the</span> <span m=''3195500''>compiler.</span>
  <span m=''3199950''>And</span> <span m=''3200160''>here</span> <span m=''3200340''>are</span>
  <span m=''3200380''>the</span> <span m=''3200500''>basics</span> <span m=''3200980''>of</span>
  <span m=''3201130''>it.</span> <span m=''3201550''>So</span> <span m=''3201910''>the</span>
  <span m=''3202280''>register</span> <span m=''3202960''>RSP</span> <span m=''3203800''>points</span>
  <span m=''3204210''>to</span> <span m=''3204310''>the</span> <span m=''3204400''>function</span>
  <span m=''3204910''>call</span> <span m=''3205220''>stack</span> <span m=''3205620''>in</span>
  <span m=''3205740''>memory.</span> <span m=''3206620''>And</span> <span m=''3206760''>the</span>
  <span m=''3206850''>call</span> <span m=''3207160''>stack</span> <span m=''3207550''>grows</span>
  <span m=''3207880''>downward</span> <span m=''3208550''>in</span> <span m=''3208670''>memory,</span>
  <span m=''3209270''>like</span> <span m=''3209570''>in</span> <span m=''3209750''>that</span>
  <span m=''3209920''>little</span> <span m=''3210120''>map</span> <span m=''3210400''>I</span>
  <span m=''3210460''>showed</span> <span m=''3210760''>you</span> <span m=''3210850''>before,</span>
  <span m=''3212220''>so</span> <span m=''3212380''>that</span> <span m=''3212480''>as</span>
  <span m=''3212720''>you</span> <span m=''3212820''>push</span> <span m=''3213080''>things</span>
  <span m=''3213350''>onto</span> <span m=''3213540''>the</span> <span m=''3213620''>stack</span>
  <span m=''3213990''>they''re</span> <span m=''3214090''>getting</span> <span m=''3214320''>lower</span>
  <span m=''3214730''>numbered</span> <span m=''3215850''>not</span> <span m=''3216040''>higher</span>
  <span m=''3216390''>numbered.</span> </p><p><span m=''3220260''>The</span> <span
  m=''3220400''>call</span> <span m=''3220840''>instruction</span> <span m=''3221470''>pushes</span>
  <span m=''3222120''>the</span> <span m=''3222220''>current</span> <span m=''3222570''>instruction</span>
  <span m=''3223120''>pointer</span> <span m=''3223560''>onto</span> <span m=''3223860''>the</span>
  <span m=''3223970''>stack,</span> <span m=''3224910''>jumps</span> <span m=''3225310''>to</span>
  <span m=''3225410''>the</span> <span m=''3225510''>call</span> <span m=''3225840''>target</span>
  <span m=''3226560''>operand,</span> <span m=''3227780''>which</span> <span m=''3227970''>is</span>
  <span m=''3228080''>basically</span> <span m=''3228530''>the</span> <span m=''3228680''>address</span>
  <span m=''3229130''>of</span> <span m=''3229220''>the</span> <span m=''3229320''>thing</span>
  <span m=''3229540''>you''re</span> <span m=''3229720''>calling.</span> <span m=''3231550''>So</span>
  <span m=''3231740''>when</span> <span m=''3231850''>you</span> <span m=''3231950''>do</span>
  <span m=''3232090''>a</span> <span m=''3232190''>call,</span> <span m=''3233160''>it</span>
  <span m=''3233350''>saves</span> <span m=''3234470''>your</span> <span m=''3234630''>return</span>
  <span m=''3235020''>address</span> <span m=''3235610''>on</span> <span m=''3235760''>the</span>
  <span m=''3235900''>stack.</span> <span m=''3237580''>The</span> <span m=''3237690''>return</span>
  <span m=''3238090''>instruction</span> <span m=''3238690''>pops</span> <span m=''3239310''>the</span>
  <span m=''3239400''>return</span> <span m=''3239710''>address</span> <span m=''3240070''>off</span>
  <span m=''3240420''>the</span> <span m=''3240520''>stack</span> <span m=''3241290''>and</span>
  <span m=''3241450''>returns to</span> <span m=''3241890''>the</span> <span m=''3241990''>caller.</span>
  <span m=''3242410''>It</span> <span m=''3242530''>basically</span> <span m=''3243010''>says,</span>
  <span m=''3243380''>oh,</span> <span m=''3244140''>I</span> <span m=''3244280''>know</span>
  <span m=''3244460''>where</span> <span m=''3244550''>the</span> <span m=''3244660''>return</span>
  <span m=''3244960''>address</span> <span m=''3245310''>is.</span> <span m=''3245520''>I</span>
  <span m=''3245720''>slam</span> <span m=''3246080''>that</span> <span m=''3246380''>into</span>
  <span m=''3247470''>the</span> <span m=''3247910''>current</span> <span m=''3248370''>instruction</span>
  <span m=''3248980''>pointer,</span> <span m=''3249450''>and</span> <span m=''3249590''>that</span>
  <span m=''3249790''>becomes</span> <span m=''3250160''>the</span> <span m=''3250340''>next</span>
  <span m=''3250520''>instruction</span> <span m=''3251040''>that''s</span> <span
  m=''3251210''>executed.</span> </p><p><span m=''3253140''>Now,</span> <span m=''3253870''>there</span>
  <span m=''3254060''>are</span> <span m=''3254120''>some</span> <span m=''3254280''>software</span>
  <span m=''3254780''>conventions</span> <span m=''3255470''>that</span> <span m=''3255590''>are</span>
  <span m=''3255650''>used</span> <span m=''3256080''>that''s</span> <span m=''3256230''>helpful</span>
  <span m=''3256570''>to</span> <span m=''3256690''>know.</span> <span m=''3257210''>Besides</span>
  <span m=''3257820''>those</span> <span m=''3258060''>instruction</span> <span m=''3258660''>registers,</span>
  <span m=''3259590''>some</span> <span m=''3259890''>of</span> <span m=''3259940''>the</span>
  <span m=''3260030''>registers</span> <span m=''3260600''>are</span> <span m=''3260710''>expected</span>
  <span m=''3261320''>to</span> <span m=''3261390''>be</span> <span m=''3261530''>saved</span>
  <span m=''3261910''>by</span> <span m=''3262060''>the</span> <span m=''3262190''>caller,</span>
  <span m=''3262940''>some</span> <span m=''3263220''>are</span> <span m=''3263300''>expected</span>
  <span m=''3263820''>to</span> <span m=''3263880''>be</span> <span m=''3264020''>saved</span>
  <span m=''3264380''>by</span> <span m=''3264540''>the</span> <span m=''3264660''>callee.</span>
  <span m=''3266930''>You''re</span> <span m=''3267090''>free</span> <span m=''3267370''>to</span>
  <span m=''3267460''>violate</span> <span m=''3268160''>this</span> <span m=''3269080''>in</span>
  <span m=''3269190''>your</span> <span m=''3269340''>own</span> <span m=''3269540''>little</span>
  <span m=''3269780''>piece</span> <span m=''3270050''>of</span> <span m=''3270140''>code</span>
  <span m=''3271460''>as</span> <span m=''3271620''>long</span> <span m=''3272040''>as</span>
  <span m=''3272530''>if</span> <span m=''3272690''>you''re</span> <span m=''3272800''>calling</span>
  <span m=''3273250''>something</span> <span m=''3273690''>else,</span> <span m=''3274690''>you''re</span>
  <span m=''3274920''>obeying</span> <span m=''3275350''>it.</span> <span m=''3277260''>So</span>
  <span m=''3277460''>you</span> <span m=''3277620''>don''t</span> <span m=''3277810''>have</span>
  <span m=''3278220''>obey</span> <span m=''3278510''>this</span> <span m=''3278730''>convention</span>
  <span m=''3279190''>in</span> <span m=''3279580''>the</span> <span m=''3279670''>code</span>
  <span m=''3279950''>you</span> <span m=''3280090''>write</span> <span m=''3281050''>unless</span>
  <span m=''3281460''>you</span> <span m=''3281570''>want</span> <span m=''3281840''>to</span>
  <span m=''3282080''>interoperate</span> <span m=''3283220''>with</span> <span m=''3283410''>other</span>
  <span m=''3283610''>stuff.</span> <span m=''3284760''>So</span> <span m=''3284940''>if</span>
  <span m=''3285020''>you,</span> <span m=''3285170''>for</span> <span m=''3285300''>example,</span>
  <span m=''3285670''>have</span> <span m=''3285790''>a</span> <span m=''3285910''>leaf</span>
  <span m=''3286230''>procedure,</span> <span m=''3287190''>you</span> <span m=''3287340''>can</span>
  <span m=''3287490''>decide</span> <span m=''3288320''>for</span> <span m=''3288420''>that</span>
  <span m=''3288640''>leaf</span> <span m=''3288840''>procedure,</span> <span m=''3289850''>oh,</span>
  <span m=''3290070''>I''m</span> <span m=''3290160''>going</span> <span m=''3290250''>to</span>
  <span m=''3290310''>make</span> <span m=''3290540''>something</span> <span m=''3290880''>callee</span>
  <span m=''3291340''>saved</span> <span m=''3291610''>that</span> <span m=''3291780''>was</span>
  <span m=''3292050''>caller</span> <span m=''3292460''>saved</span> <span m=''3292880''>or</span>
  <span m=''3292950''>whatever</span> <span m=''3293740''>as</span> <span m=''3293900''>long</span>
  <span m=''3294130''>as</span> <span m=''3294240''>by</span> <span m=''3294360''>the</span>
  <span m=''3294460''>time</span> <span m=''3294790''>you</span> <span m=''3294890''>return</span>
  <span m=''3295600''>you''ve</span> <span m=''3295730''>cleaned</span> <span m=''3296080''>everything</span>
  <span m=''3296500''>up</span> <span m=''3296660''>for</span> <span m=''3296740''>the</span>
  <span m=''3296840''>rest</span> <span m=''3297100''>of</span> <span m=''3297150''>the</span>
  <span m=''3297230''>world.</span> </p><p><span m=''3298450''>So</span> <span m=''3298630''>these</span>
  <span m=''3298840''>are</span> <span m=''3298920''>conventions.</span> <span m=''3300800''>But</span>
  <span m=''3301300''>for</span> <span m=''3301740''>the</span> <span m=''3301950''>most</span>
  <span m=''3302160''>part,</span> <span m=''3302500''>you''re</span> <span m=''3302620''>not</span>
  <span m=''3302810''>going</span> <span m=''3302890''>to</span> <span m=''3302960''>violate</span>
  <span m=''3303450''>these, and</span> <span m=''3303700''>the</span> <span m=''3303850''>code</span>
  <span m=''3304130''>that</span> <span m=''3304350''>the</span> <span m=''3304440''>compiler</span>
  <span m=''3304900''>generates</span> <span m=''3305650''>doesn''t</span> <span m=''3305940''>violate</span>
  <span m=''3306350''>these</span> <span m=''3306620''>because</span> <span m=''3306790''>it</span>
  <span m=''3306880''>expects</span> <span m=''3307340''>everything</span> <span m=''3307750''>to</span>
  <span m=''3307840''>interoperate.</span> </p><p><span m=''3309460''>So</span> <span
  m=''3309670''>here''s</span> <span m=''3309960''>how</span> <span m=''3310130''>the</span>
  <span m=''3310220''>subroutine</span> <span m=''3310750''>linkage</span> <span m=''3311130''>works.</span>
  <span m=''3311980''>We''re</span> <span m=''3312130''>going</span> <span m=''3312210''>to</span>
  <span m=''3312250''>do</span> <span m=''3312400''>an</span> <span m=''3312470''>example</span>
  <span m=''3313040''>here</span> <span m=''3313770''>where</span> <span m=''3313970''>function</span>
  <span m=''3314470''>A</span> <span m=''3314710''>calls</span> <span m=''3315100''>function</span>
  <span m=''3315460''>B</span> <span m=''3315710''>which</span> <span m=''3315910''>will</span>
  <span m=''3316090''>call</span> <span m=''3316400''>function</span> <span m=''3316820''>C.</span>
  <span m=''3317620''>And</span> <span m=''3317780''>right</span> <span m=''3318010''>now,</span>
  <span m=''3318200''>we''re</span> <span m=''3318310''>at</span> <span m=''3318390''>the</span>
  <span m=''3318470''>point</span> <span m=''3318780''>we''re</span> <span m=''3318930''>executing</span>
  <span m=''3319560''>B.</span> <span m=''3320780''>And</span> <span m=''3320940''>so</span>
  <span m=''3321230''>on</span> <span m=''3321360''>the</span> <span m=''3321450''>stack</span>
  <span m=''3322140''>are</span> <span m=''3322600''>the</span> <span m=''3322770''>arguments</span>
  <span m=''3328030''>that</span> <span m=''3328160''>were</span> <span m=''3328280''>passed</span>
  <span m=''3328680''>from</span> <span m=''3328850''>A</span> <span m=''3329060''>to</span>
  <span m=''3329160''>B</span> <span m=''3329420''>that</span> <span m=''3329600''>did</span>
  <span m=''3329800''>not</span> <span m=''3330180''>fit</span> <span m=''3330480''>within</span>
  <span m=''3330760''>the</span> <span m=''3330860''>registers.</span> <span m=''3332020''>So</span>
  <span m=''3332170''>normally</span> <span m=''3332600''>most</span> <span m=''3332910''>of</span>
  <span m=''3332950''>the</span> <span m=''3333050''>arguments are</span> <span m=''3333440''>within</span>
  <span m=''3333750''>registers.</span> <span m=''3334510''>But</span> <span m=''3334680''>if</span>
  <span m=''3334760''>you</span> <span m=''3334950''>exceed</span> <span m=''3335280''>the</span>
  <span m=''3335520''>six</span> <span m=''3335750''>registers</span> <span m=''3337110''>then,</span>
  <span m=''3338380''>because</span> <span m=''3338660''>you</span> <span m=''3338750''>have</span>
  <span m=''3338850''>a</span> <span m=''3338880''>long</span> <span m=''3339220''>argument</span>
  <span m=''3339630''>list,</span> <span m=''3339960''>then</span> <span m=''3340140''>it</span>
  <span m=''3340230''>gets</span> <span m=''3340430''>passed</span> <span m=''3340820''>on</span>
  <span m=''3340940''>the</span> <span m=''3341010''>stack.</span> <span m=''3341420''>And</span>
  <span m=''3341510''>here''s</span> <span m=''3341740''>where</span> <span m=''3341850''>it</span>
  <span m=''3341890''>gets</span> <span m=''3342090''>passed.</span> </p><p><span
  m=''3343020''>The</span> <span m=''3343140''>next</span> <span m=''3343480''>thing</span>
  <span m=''3343750''>is</span> <span m=''3343960''>B''s</span> <span m=''3344240''>return</span>
  <span m=''3344660''>address.</span> <span m=''3345890''>This</span> <span m=''3346080''>is</span>
  <span m=''3346200''>the</span> <span m=''3346300''>thing</span> <span m=''3346540''>that</span>
  <span m=''3346710''>got</span> <span m=''3346940''>smashed</span> <span m=''3347890''>in</span>
  <span m=''3348030''>there</span> <span m=''3348200''>when</span> <span m=''3348330''>you</span>
  <span m=''3348430''>did</span> <span m=''3348600''>the</span> <span m=''3348680''>call.</span>
  <span m=''3349890''>It</span> <span m=''3350100''>got</span> <span m=''3350300''>pushed</span>
  <span m=''3350560''>onto</span> <span m=''3350690''>the</span> <span m=''3350810''>stack.</span>
  <span m=''3351620''>And</span> <span m=''3351800''>then</span> <span m=''3351970''>there''s</span>
  <span m=''3352230''>what''s</span> <span m=''3352420''>called</span> <span m=''3352670''>a</span>
  <span m=''3352710''>base</span> <span m=''3353110''>pointer</span> <span m=''3353440''>for</span>
  <span m=''3353660''>A.</span> <span m=''3353970''>And</span> <span m=''3354140''>this</span>
  <span m=''3354290''>is</span> <span m=''3354450''>the</span> <span m=''3354540''>way</span>
  <span m=''3354770''>that</span> <span m=''3354970''>A</span> <span m=''3355190''>ends</span>
  <span m=''3355440''>up</span> <span m=''3355750''>accessing</span> <span m=''3356380''>its</span>
  <span m=''3356530''>local</span> <span m=''3356860''>variables.</span> <span m=''3357790''>And</span>
  <span m=''3357940''>then</span> <span m=''3358090''>there''s</span> <span m=''3358280''>a</span>
  <span m=''3358340''>separate</span> <span m=''3358830''>region</span> <span m=''3359200''>here</span>
  <span m=''3359770''>where</span> <span m=''3360780''>it''s</span> <span m=''3361000''>going</span>
  <span m=''3361110''>to</span> <span m=''3361170''>put</span> <span m=''3361380''>arguments</span>
  <span m=''3362020''>from</span> <span m=''3362200''>B</span> <span m=''3362410''>to</span>
  <span m=''3362480''>B''s</span> <span m=''3362800''>callees</span> <span m=''3365070''>if</span>
  <span m=''3365260''>they</span> <span m=''3365530''>exceed</span> <span m=''3366530''>the</span>
  <span m=''3366650''>six</span> <span m=''3366920''>registers,</span> <span m=''3367530''>if</span>
  <span m=''3367640''>any</span> <span m=''3367840''>of</span> <span m=''3367880''>the</span>
  <span m=''3367940''>things</span> <span m=''3368260''>that</span> <span m=''3368480''>B</span>
  <span m=''3368640''>is</span> <span m=''3368820''>calling</span> <span m=''3373440''>require</span>
  <span m=''3373890''>more</span> <span m=''3374060''>than the</span> <span m=''3374270''>six</span>
  <span m=''3374490''>registers.</span> </p><p><span m=''3375130''>So</span> <span
  m=''3375250''>let''s</span> <span m=''3375420''>just</span> <span m=''3375620''>take</span>
  <span m=''3375820''>a</span> <span m=''3375880''>look.</span> <span m=''3376850''>So</span>
  <span m=''3377070''>function</span> <span m=''3377630''>B</span> <span m=''3378520''>can</span>
  <span m=''3378670''>access</span> <span m=''3379360''>its</span> <span m=''3379610''>nonregister</span>
  <span m=''3380590''>values</span> <span m=''3381270''>by</span> <span m=''3381540''>indexing</span>
  <span m=''3382320''>off</span> <span m=''3382720''>of</span> <span m=''3383250''>RBP.</span>
  <span m=''3385600''>So</span> <span m=''3385780''>these</span> <span m=''3386030''>we</span>
  <span m=''3386180''>say,</span> <span m=''3386740''>these</span> <span m=''3387030''>are</span>
  <span m=''3387130''>in</span> <span m=''3387190''>a</span> <span m=''3387260''>linkage</span>
  <span m=''3387700''>block.</span> <span m=''3388480''>And</span> <span m=''3388600''>the</span>
  <span m=''3388670''>reason</span> <span m=''3388980''>is</span> <span m=''3389100''>because</span>
  <span m=''3389310''>it''s</span> <span m=''3389430''>actually</span> <span m=''3389810''>part</span>
  <span m=''3390130''>of</span> <span m=''3390250''>A''s</span> <span m=''3390550''>frame</span>
  <span m=''3390910''>as</span> <span m=''3391030''>well.</span> <span m=''3391850''>It''s</span>
  <span m=''3391990''>a</span> <span m=''3392040''>shared</span> <span m=''3392550''>part</span>
  <span m=''3392770''>of</span> <span m=''3392820''>the</span> <span m=''3392920''>frame</span>
  <span m=''3394190''>where</span> <span m=''3394470''>A</span> <span m=''3394700''>stores</span>
  <span m=''3395110''>it into</span> <span m=''3395380''>memory</span> <span m=''3396020''>and
  then</span> <span m=''3396250''>B''s</span> <span m=''3396500''>going</span> <span
  m=''3396580''>to</span> <span m=''3396660''>fetch</span> <span m=''3396970''>it</span>
  <span m=''3397060''>out</span> <span m=''3397200''>of</span> <span m=''3397260''>memory.</span>
  <span m=''3398010''>And</span> <span m=''3398290''>that''s</span> <span m=''3398520''>the</span>
  <span m=''3398610''>linkage</span> <span m=''3398890''>block.</span> </p><p><span
  m=''3399870''>So</span> <span m=''3400260''>this</span> <span m=''3400600''>is</span>
  <span m=''3400840''>positive</span> <span m=''3401430''>in</span> <span m=''3401530''>memory.</span>
  <span m=''3401900''>So</span> <span m=''3402090''>if</span> <span m=''3402190''>I</span>
  <span m=''3402290''>use</span> <span m=''3402510''>a</span> <span m=''3402560''>positive</span>
  <span m=''3403180''>offset,</span> <span m=''3404170''>I</span> <span m=''3404330''>then</span>
  <span m=''3404600''>go</span> <span m=''3404790''>up</span> <span m=''3405020''>to</span>
  <span m=''3405130''>getting</span> <span m=''3407060''>the</span> <span m=''3407500''>arguments</span>
  <span m=''3411210''>from</span> <span m=''3411500''>A.</span> <span m=''3413730''>Then</span>
  <span m=''3413980''>it</span> <span m=''3414080''>can</span> <span m=''3414260''>access</span>
  <span m=''3414670''>its</span> <span m=''3414840''>local</span> <span m=''3415300''>variables</span>
  <span m=''3415820''>from</span> <span m=''3416010''>the</span> <span m=''3416090''>base</span>
  <span m=''3416390''>point</span> <span m=''3416940''>with</span> <span m=''3417080''>a</span>
  <span m=''3417210''>negative</span> <span m=''3417730''>offset</span> <span m=''3418260''>because</span>
  <span m=''3418410''>we''re</span> <span m=''3418510''>growing</span> <span m=''3418830''>down</span>
  <span m=''3419120''>in</span> <span m=''3419220''>memory.</span> </p><p><span m=''3422790''>Now,</span>
  <span m=''3423140''>if</span> <span m=''3423260''>it</span> <span m=''3423380''>wants</span>
  <span m=''3423640''>to</span> <span m=''3423900''>call</span> <span m=''3424260''>C,</span>
  <span m=''3425190''>what</span> <span m=''3425540''>it</span> <span m=''3425710''>does</span>
  <span m=''3426410''>is</span> <span m=''3426780''>it</span> <span m=''3427060''>places</span>
  <span m=''3428340''>the</span> <span m=''3428640''>nonregister</span> <span m=''3429560''>arguments</span>
  <span m=''3430230''>into</span> <span m=''3431110''>the</span> <span m=''3431740''>reserved</span>
  <span m=''3432440''>linkage</span> <span m=''3432870''>block</span> <span m=''3433240''>here,</span>
  <span m=''3435680''>which</span> <span m=''3435870''>are</span> <span m=''3436120''>arguments</span>
  <span m=''3436590''>from</span> <span m=''3436740''>B</span> <span m=''3437010''>to</span>
  <span m=''3437090''>B''s</span> <span m=''3437460''>callees.</span> <span m=''3438730''>And</span>
  <span m=''3438910''>that</span> <span m=''3439280''>once</span> <span m=''3439490''>again</span>
  <span m=''3439730''>acts</span> <span m=''3440250''>just</span> <span m=''3440540''>as</span>
  <span m=''3440680''>if</span> <span m=''3440820''>they''re</span> <span m=''3440970''>local</span>
  <span m=''3441280''>variables.</span> <span m=''3441890''>It''s</span> <span m=''3442010''>positive</span>
  <span m=''3442800''>index</span> <span m=''3443300''>off</span> <span m=''3443630''>of</span>
  <span m=''3443780''>RBP,</span> <span m=''3446680''>sorry,</span> <span m=''3446920''>negative</span>
  <span m=''3448160''>offset</span> <span m=''3448530''>off</span> <span m=''3448680''>of</span>
  <span m=''3448800''>RBP.</span> <span m=''3449580''>So it</span> <span m=''3449750''>pushes</span>
  <span m=''3450210''>those</span> <span m=''3450540''>things</span> <span m=''3450930''>into</span>
  <span m=''3451390''>the</span> <span m=''3451550''>argument,</span> <span m=''3453460''>into</span>
  <span m=''3453650''>that</span> <span m=''3453860''>region,</span> <span m=''3454750''>if</span>
  <span m=''3454880''>it</span> <span m=''3454980''>needs</span> <span m=''3455210''>to</span>
  <span m=''3455300''>use</span> <span m=''3455480''>that</span> <span m=''3455630''>region.</span>
  </p><p><span m=''3458080''>Then</span> <span m=''3458760''>we</span> <span m=''3458960''>actually,</span>
  <span m=''3459340''>once</span> <span m=''3459590''>it''s</span> <span m=''3459780''>done</span>
  <span m=''3459980''>that,</span> <span m=''3460230''>we</span> <span m=''3460350''>have</span>
  <span m=''3460580''>the</span> <span m=''3460670''>call.</span> <span m=''3462130''>So</span>
  <span m=''3462330''>B</span> <span m=''3462630''>calls</span> <span m=''3462960''>C</span>
  <span m=''3464170''>which</span> <span m=''3464350''>saves</span> <span m=''3464770''>the</span>
  <span m=''3464860''>return</span> <span m=''3465790''>address</span> <span m=''3466300''>for</span>
  <span m=''3466430''>B</span> <span m=''3466680''>on</span> <span m=''3466830''>the</span>
  <span m=''3466920''>stack,</span> <span m=''3468970''>so</span> <span m=''3469390''>it</span>
  <span m=''3469600''>saves it</span> <span m=''3470000''>on</span> <span m=''3470170''>the</span>
  <span m=''3470220''>stack,</span> <span m=''3471390''>and</span> <span m=''3471550''>then</span>
  <span m=''3471690''>transfers</span> <span m=''3472440''>control</span> <span m=''3472960''>to</span>
  <span m=''3473060''>C.</span> <span m=''3474780''>So</span> <span m=''3474950''>now</span>
  <span m=''3475220''>it</span> <span m=''3475310''>starts</span> <span m=''3475600''>executing</span>
  <span m=''3476220''>C''s</span> <span m=''3477210''>code.</span> <span m=''3480120''>And</span>
  <span m=''3480250''>what</span> <span m=''3480420''>does</span> <span m=''3480510''>C</span>
  <span m=''3480780''>do?</span> </p><p><span m=''3481780''>So</span> <span m=''3482150''>C</span>
  <span m=''3482750''>is</span> <span m=''3482970''>going</span> <span m=''3483110''>to</span>
  <span m=''3483260''>have</span> <span m=''3483410''>to</span> <span m=''3483530''>advance</span>
  <span m=''3484080''>these</span> <span m=''3484390''>pointers</span> <span m=''3485010''>to</span>
  <span m=''3485120''>refer</span> <span m=''3485480''>to</span> <span m=''3485670''>its</span>
  <span m=''3485930''>region</span> <span m=''3486380''>rather</span> <span m=''3486720''>than</span>
  <span m=''3486950''>B''s.</span> <span m=''3488720''>It</span> <span m=''3488910''>does</span>
  <span m=''3489130''>it</span> <span m=''3489270''>by</span> <span m=''3489430''>saving</span>
  <span m=''3489890''>B''s</span> <span m=''3490370''>base</span> <span m=''3490680''>pointer</span>
  <span m=''3491060''>on</span> <span m=''3491200''>the</span> <span m=''3491280''>stack.</span>
  <span m=''3492770''>So</span> <span m=''3492890''>it</span> <span m=''3492980''>saves</span>
  <span m=''3493400''>this</span> <span m=''3493640''>pointer</span> <span m=''3494390''>here</span>
  <span m=''3494670''>so</span> <span m=''3494830''>that it</span> <span m=''3494930''>can</span>
  <span m=''3495030''>restore</span> <span m=''3495285''>it</span> <span m=''3495540''>when
  it</span> <span m=''3495850''>returns.</span> <span m=''3496950''>It</span> <span
  m=''3497350''>advances,</span> <span m=''3498450''>it</span> <span m=''3498600''>sets</span>
  <span m=''3499170''>its</span> <span m=''3499430''>new</span> <span m=''3499600''>base</span>
  <span m=''3499960''>pointer</span> <span m=''3500340''>to</span> <span m=''3500460''>be</span>
  <span m=''3500690''>where</span> <span m=''3500900''>the</span> <span m=''3501010''>stack</span>
  <span m=''3501420''>pointer</span> <span m=''3501760''>is</span> <span m=''3501920''>now</span>
  <span m=''3502900''>and</span> <span m=''3503050''>then</span> <span m=''3503960''>advances</span>
  <span m=''3504590''>the</span> <span m=''3504680''>stack</span> <span m=''3505140''>pointer</span>
  <span m=''3505740''>to</span> <span m=''3505850''>allocate</span> <span m=''3506280''>space</span>
  <span m=''3506640''>for</span> <span m=''3506760''>C''s</span> <span m=''3507040''>local</span>
  <span m=''3507320''>variables</span> <span m=''3507890''>and</span> <span m=''3508090''>linkage</span>
  <span m=''3508430''>blocks.</span> <span m=''3509520''>Watch,</span> <span m=''3509900''>here</span>
  <span m=''3510040''>we</span> <span m=''3510110''>go.</span> <span m=''3516690''>So</span>
  <span m=''3516860''>that</span> <span m=''3517700''>ends</span> <span m=''3518020''>up</span>
  <span m=''3518120''>being</span> <span m=''3518300''>C''s</span> <span m=''3518670''>frame.</span>
  <span m=''3518900''>So</span> <span m=''3519000''>notice</span> <span m=''3519280''>that</span>
  <span m=''3519370''>B''s</span> <span m=''3519810''>frame</span> <span m=''3520210''>and</span>
  <span m=''3520320''>C''s</span> <span m=''3520750''>frame</span> <span m=''3521400''>are</span>
  <span m=''3521610''>overlapping</span> <span m=''3523180''>in</span> <span m=''3523360''>the</span>
  <span m=''3523450''>linkage</span> <span m=''3523850''>block</span> <span m=''3524180''>between</span>
  <span m=''3524680''>them.</span> </p><p><span m=''3529220''>Now,</span> <span m=''3529840''>if</span>
  <span m=''3530000''>a</span> <span m=''3530080''>function</span> <span m=''3530660''>never</span>
  <span m=''3530960''>performs</span> <span m=''3531600''>stack</span> <span m=''3532060''>allocations</span>
  <span m=''3532800''>except</span> <span m=''3533360''>during</span> <span m=''3533660''>function</span>
  <span m=''3534170''>calls,</span> <span m=''3535620''>there''s</span> <span m=''3535820''>a</span>
  <span m=''3535880''>great</span> <span m=''3536310''>compile</span> <span m=''3536800''>time</span>
  <span m=''3537090''>optimization</span> <span m=''3537970''>that</span> <span m=''3538090''>the</span>
  <span m=''3538210''>compiler</span> <span m=''3538595''>will</span> <span m=''3538980''>often</span>
  <span m=''3539480''>do.</span> <span m=''3540810''>And</span> <span m=''3540990''>what</span>
  <span m=''3541150''>it</span> <span m=''3541260''>will</span> <span m=''3541410''>do</span>
  <span m=''3541720''>is</span> <span m=''3541880''>realize</span> <span m=''3543000''>that</span>
  <span m=''3543350''>this</span> <span m=''3543840''>distance</span> <span m=''3544390''>is</span>
  <span m=''3544670''>constant.</span> <span m=''3546620''>So,</span> <span m=''3546810''>therefore,</span>
  <span m=''3547370''>it</span> <span m=''3547590''>doesn''t</span> <span m=''3547970''>need</span>
  <span m=''3548350''>RBP.</span> <span m=''3550450''>It</span> <span m=''3550600''>can</span>
  <span m=''3550760''>just</span> <span m=''3551010''>do</span> <span m=''3551160''>the</span>
  <span m=''3551280''>math</span> <span m=''3551740''>and</span> <span m=''3551890''>index</span>
  <span m=''3552250''>everything</span> <span m=''3552790''>off</span> <span m=''3553020''>of</span>
  <span m=''3553160''>RSP</span> <span m=''3555050''>as</span> <span m=''3555190''>long</span>
  <span m=''3555400''>as</span> <span m=''3555530''>RSP</span> <span m=''3556210''>is</span>
  <span m=''3556360''>always</span> <span m=''3556930''>the</span> <span m=''3557020''>same,</span>
  <span m=''3557920''>for</span> <span m=''3558010''>example</span> <span m=''3558400''>for</span>
  <span m=''3558570''>C,</span> <span m=''3559280''>when</span> <span m=''3559440''>C</span>
  <span m=''3559660''>is</span> <span m=''3559800''>executing.</span> </p><p><span
  m=''3561840''>There''s</span> <span m=''3562020''>certain</span> <span m=''3562360''>C</span>
  <span m=''3562650''>commands</span> <span m=''3563180''>like</span> <span m=''3563410''>[?
  alaka ?]</span> <span m=''3564400''>which</span> <span m=''3564760''>changed</span>
  <span m=''3565430''>the</span> <span m=''3565500''>stack</span> <span m=''3565900''>pointer.</span>
  <span m=''3566310''>If</span> <span m=''3566480''>you</span> <span m=''3566600''>use</span>
  <span m=''3567020''>those,</span> <span m=''3567870''>the</span> <span m=''3567970''>compiler</span>
  <span m=''3568460''>can''t</span> <span m=''3568800''>do</span> <span m=''3568930''>that</span>
  <span m=''3569150''>optimization.</span> <span m=''3571040''>But</span> <span m=''3571240''>if</span>
  <span m=''3571580''>the</span> <span m=''3572320''>storage</span> <span m=''3572860''>on</span>
  <span m=''3572950''>the</span> <span m=''3573040''>stack</span> <span m=''3573390''>never</span>
  <span m=''3573720''>changes</span> <span m=''3576000''>for</span> <span m=''3576160''>a</span>
  <span m=''3576200''>given</span> <span m=''3576500''>frame,</span> <span m=''3577170''>then</span>
  <span m=''3577350''>it''s</span> <span m=''3577520''>free</span> <span m=''3577790''>to</span>
  <span m=''3577880''>make</span> <span m=''3578120''>this</span> <span m=''3578540''>optimization.</span>
  <span m=''3579490''>So</span> <span m=''3579630''>you''ll</span> <span m=''3579780''>see</span>
  <span m=''3579990''>code</span> <span m=''3580540''>where</span> <span m=''3580840''>RBP</span>
  <span m=''3581330''>has</span> <span m=''3581520''>been</span> <span m=''3581670''>optimized</span>
  <span m=''3582015''>away.</span> <span m=''3585590''>How</span> <span m=''3585770''>about</span>
  <span m=''3586040''>some</span> <span m=''3586320''>questions</span> <span m=''3586970''>before</span>
  <span m=''3587360''>we</span> <span m=''3588150''>go</span> <span m=''3588340''>on</span>
  <span m=''3588480''>and</span> <span m=''3588610''>do</span> <span m=''3589400''>an</span>
  <span m=''3589530''>example.</span> <span m=''3590030''>Yeah?</span> </p><p><span
  m=''3591443''>AUDIENCE: [INAUDIBLE]</span> <span m=''3592856''>should there</span>
  <span m=''3593327''>be</span> <span m=''3593798''>A''s</span> <span m=''3594269''>return</span>
  <span m=''3594740''>address,</span> <span m=''3595211''>where</span> <span m=''3595682''>you
  try</span> <span m=''3596153''>to</span> <span m=''3596624''>[INAUDIBLE]?</span>
  </p><p><span m=''3599094''>CHARLES LEISERSON: Up?</span> <span m=''3600390''>Oh,</span>
  <span m=''3600580''>this</span> <span m=''3600720''>should</span> <span m=''3600890''>be,</span>
  <span m=''3601730''>sorry,</span> <span m=''3602110''>this</span> <span m=''3602220''>should</span>
  <span m=''3602360''>be</span> <span m=''3602490''>A''s</span> <span m=''3602680''>return</span>
  <span m=''3603020''>address.</span> <span m=''3603310''>Yes,</span> <span m=''3603530''>you''re</span>
  <span m=''3603670''>right.</span> <span m=''3604420''>OK,</span> <span m=''3604640''>good,</span>
  <span m=''3604930''>typo.</span> <span m=''3609090''>Is</span> <span m=''3609260''>somebody</span>
  <span m=''3609600''>catching</span> <span m=''3609940''>my</span> <span m=''3610040''>typos</span>
  <span m=''3610510''>to--</span> <span m=''3614080''>OK, yep,</span> <span m=''3614510''>a</span>
  <span m=''3614750''>good</span> <span m=''3614900''>one,</span> <span m=''3615180''>that</span>
  <span m=''3615380''>should</span> <span m=''3615510''>be</span> <span m=''3615640''>A''s</span>
  <span m=''3615860''>return</span> <span m=''3616120''>address.</span> <span m=''3616640''>Sorry</span>
  <span m=''3616940''>about</span> <span m=''3617060''>that.</span> <span m=''3618410''>This
  is B''s</span> <span m=''3618630''>return</span> <span m=''3618930''>address.</span>
  <span m=''3620560''>Any</span> <span m=''3620800''>other</span> <span m=''3620930''>questions?</span>
  <span m=''3621460''>That''s</span> <span m=''3621670''>good.</span> <span m=''3622070''>That</span>
  <span m=''3622220''>means</span> <span m=''3622380''>you</span> <span m=''3622460''>understand</span>
  <span m=''3622940''>something.</span> <span m=''3623720''>Hooray.</span> </p><p><span
  m=''3629980''>So</span> <span m=''3630110''>let''s</span> <span m=''3630260''>do</span>
  <span m=''3630370''>an</span> <span m=''3630440''>example.</span> <span m=''3631750''>So</span>
  <span m=''3631870''>here''s</span> <span m=''3632250''>my</span> <span m=''3632850''>fib</span>
  <span m=''3633190''>example.</span> <span m=''3634450''>And</span> <span m=''3634870''>I</span>
  <span m=''3634930''>compiled</span> <span m=''3635470''>this</span> <span m=''3635670''>with</span>
  <span m=''3635840''>minus</span> <span m=''3636390''>oh</span> <span m=''3636610''>zero.</span>
  <span m=''3638150''>Because</span> <span m=''3638580''>when</span> <span m=''3638720''>I</span>
  <span m=''3638770''>compiled</span> <span m=''3639190''>it</span> <span m=''3639260''>with</span>
  <span m=''3639380''>minus</span> <span m=''3639645''>oh</span> <span m=''3639910''>three,</span>
  <span m=''3641500''>I</span> <span m=''3641620''>couldn''t</span> <span m=''3641870''>understand</span>
  <span m=''3642320''>what was</span> <span m=''3642470''>going</span> <span m=''3642690''>on.</span>
  <span m=''3644650''>So</span> <span m=''3645100''>I</span> <span m=''3645200''>compiled</span>
  <span m=''3645540''>this</span> <span m=''3645710''>with</span> <span m=''3645820''>minus</span>
  <span m=''3646300''>oh</span> <span m=''3646645''>zero,</span> <span m=''3646990''>which</span>
  <span m=''3647190''>gives</span> <span m=''3647370''>me</span> <span m=''3647560''>really</span>
  <span m=''3648000''>unoptimized</span> <span m=''3648710''>code. And</span> <span
  m=''3649110''>that</span> <span m=''3649330''>lets</span> <span m=''3649570''>me</span>
  <span m=''3649770''>be</span> <span m=''3649900''>the</span> <span m=''3650260''>compiler</span>
  <span m=''3650780''>optimizer.</span> </p><p><span m=''3652150''>So</span> <span
  m=''3652280''>here''s</span> <span m=''3652600''>the</span> <span m=''3653150''>code</span>
  <span m=''3653450''>that</span> <span m=''3653570''>it</span> <span m=''3653680''>generates.</span>
  <span m=''3654920''>So</span> <span m=''3655040''>we can</span> <span m=''3655170''>take</span>
  <span m=''3655410''>a</span> <span m=''3655480''>look</span> <span m=''3655720''>at</span>
  <span m=''3655780''>a</span> <span m=''3655830''>few</span> <span m=''3656090''>things</span>
  <span m=''3656430''>here.</span> <span m=''3656720''>First</span> <span m=''3657000''>of</span>
  <span m=''3657060''>all</span> <span m=''3657250''>is</span> <span m=''3657360''>declaring</span>
  <span m=''3658000''>fib</span> <span m=''3658190''>to</span> <span m=''3658310''>be</span>
  <span m=''3658470''>a</span> <span m=''3658530''>global.</span> <span m=''3659370''>And</span>
  <span m=''3659650''>it''s</span> <span m=''3659870''>got</span> <span m=''3660090''>some</span>
  <span m=''3660260''>other</span> <span m=''3660440''>things</span> <span m=''3660710''>here.</span>
  <span m=''3660880''>I</span> <span m=''3660960''>actually</span> <span m=''3661750''>took</span>
  <span m=''3661980''>out</span> <span m=''3662250''>some</span> <span m=''3662480''>of</span>
  <span m=''3662560''>the</span> <span m=''3662720''>directives</span> <span m=''3663290''>that</span>
  <span m=''3663410''>were</span> <span m=''3663570''>in</span> <span m=''3663640''>here</span>
  <span m=''3663800''>that</span> <span m=''3663960''>were</span> <span m=''3664180''>irrelevant</span>
  <span m=''3664750''>for</span> <span m=''3664910''>our</span> <span m=''3665000''>purposes.</span>
  <span m=''3665590''>If</span> <span m=''3665660''>you</span> <span m=''3665740''>actually</span>
  <span m=''3666010''>compile</span> <span m=''3666470''>it,</span> <span m=''3666760''>there''s</span>
  <span m=''3666950''>a</span> <span m=''3667000''>lot</span> <span m=''3667220''>more</span>
  <span m=''3667390''>directives</span> <span m=''3667960''>that are</span> <span
  m=''3668290''>stuck</span> <span m=''3668690''>in</span> <span m=''3668820''>there</span>
  <span m=''3669100''>and</span> <span m=''3669190''>a</span> <span m=''3669240''>lot</span>
  <span m=''3669440''>more</span> <span m=''3669640''>labels</span> <span m=''3670140''>and</span>
  <span m=''3670280''>things</span> <span m=''3670680''>that</span> <span m=''3671530''>you</span>
  <span m=''3671700''>don''t</span> <span m=''3671890''>need</span> <span m=''3673540''>to</span>
  <span m=''3674090''>understand</span> <span m=''3674415''>it.</span> </p><p><span
  m=''3676700''>There</span> <span m=''3676810''>are</span> <span m=''3676860''>two</span>
  <span m=''3677060''>labels</span> <span m=''3677540''>here.</span> <span m=''3678340''>And</span>
  <span m=''3678450''>so</span> <span m=''3678580''>you</span> <span m=''3678700''>can</span>
  <span m=''3678810''>see</span> <span m=''3679050''>here</span> <span m=''3679290''>basically</span>
  <span m=''3680470''>what''s</span> <span m=''3680770''>going</span> <span m=''3681070''>on</span>
  <span m=''3683200''>is</span> <span m=''3684850''>we''re</span> <span m=''3685030''>first</span>
  <span m=''3685350''>of</span> <span m=''3685450''>all</span> <span m=''3685580''>doing</span>
  <span m=''3687125''>the</span> <span m=''3687520''>advancing</span> <span m=''3688090''>of</span>
  <span m=''3688190''>the</span> <span m=''3688280''>base</span> <span m=''3688680''>pointer</span>
  <span m=''3689090''>and</span> <span m=''3689180''>advancing</span> <span m=''3689690''>the</span>
  <span m=''3689760''>stack</span> <span m=''3690160''>pointer</span> <span m=''3690480''>here.</span>
  <span m=''3691530''>That''s</span> <span m=''3691800''>doing</span> <span m=''3692070''>that</span>
  <span m=''3692290''>operation</span> <span m=''3692635''>that</span> <span m=''3692980''>I</span>
  <span m=''3693030''>showed</span> <span m=''3693370''>you,</span> <span m=''3693490''>those</span>
  <span m=''3694260''>of</span> <span m=''3694380''>moving</span> <span m=''3695050''>the</span>
  <span m=''3695680''>base</span> <span m=''3695990''>and</span> <span m=''3696330''>stack</span>
  <span m=''3696720''>pointer</span> <span m=''3697050''>up.</span> <span m=''3697680''>And</span>
  <span m=''3697850''>then</span> <span m=''3698030''>at</span> <span m=''3698150''>the</span>
  <span m=''3698320''>end</span> <span m=''3698480''>here</span> <span m=''3699410''>this</span>
  <span m=''3699630''>is</span> <span m=''3700200''>equivalent</span> <span m=''3700840''>to</span>
  <span m=''3703260''>doing,</span> <span m=''3704786''>a</span> <span m=''3705170''>leave</span>
  <span m=''3705590''>instruction</span> <span m=''3706130''>is</span> <span m=''3706250''>equivalent</span>
  <span m=''3706700''>to</span> <span m=''3706750''>undoing</span> <span m=''3707250''>that.</span>
  <span m=''3707750''>So</span> <span m=''3708500''>Intel</span> <span m=''3709230''>lets</span>
  <span m=''3709460''>you</span> <span m=''3709560''>do</span> <span m=''3709770''>one</span>
  <span m=''3710140''>leave</span> <span m=''3710480''>instruction</span> <span m=''3711120''>rather</span>
  <span m=''3711470''>than</span> <span m=''3711750''>making</span> <span m=''3712110''>you</span>
  <span m=''3713080''>put</span> <span m=''3713430''>these</span> <span m=''3713870''>instructions</span>
  <span m=''3714500''>in</span> <span m=''3714630''>every</span> <span m=''3714840''>time.</span>
  <span m=''3715580''>It''s</span> <span m=''3715940''>exactly</span> <span m=''3716390''>the</span>
  <span m=''3716460''>same</span> <span m=''3716710''>thing.</span> </p><p><span m=''3719230''>But</span>
  <span m=''3719420''>in</span> <span m=''3719480''>any</span> <span m=''3719650''>case,</span>
  <span m=''3720830''>let''s</span> <span m=''3721010''>just</span> <span m=''3721160''>sort</span>
  <span m=''3721310''>of</span> <span m=''3721370''>see</span> <span m=''3721590''>what''s</span>
  <span m=''3721830''>going</span> <span m=''3722090''>on</span> <span m=''3722290''>here.</span>
  <span m=''3722940''>So</span> <span m=''3723120''>we''re</span> <span m=''3723540''>pushing</span>
  <span m=''3725500''>some</span> <span m=''3725720''>storage.</span> <span m=''3727370''>This</span>
  <span m=''3727550''>is</span> <span m=''3727650''>saving</span> <span m=''3728070''>a</span>
  <span m=''3728130''>register</span> <span m=''3728670''>here.</span> <span m=''3730080''>We''re</span>
  <span m=''3730250''>then</span> <span m=''3730440''>advancing</span> <span m=''3730990''>the</span>
  <span m=''3731060''>stack</span> <span m=''3731510''>pointer</span> <span m=''3731820''>to</span>
  <span m=''3731910''>store</span> <span m=''3732850''>24</span> <span m=''3733360''>bytes</span>
  <span m=''3734030''>of</span> <span m=''3734750''>temporary</span> <span m=''3735190''>storage.</span>
  <span m=''3736580''>And</span> <span m=''3736780''>then</span> <span m=''3737020''>we''re</span>
  <span m=''3737150''>start</span> <span m=''3737490''>to</span> <span m=''3737570''>do</span>
  <span m=''3737790''>some</span> <span m=''3738110''>computations</span> <span m=''3738980''>here.</span>
  <span m=''3739950''>This</span> <span m=''3740150''>looks</span> <span m=''3740410''>like</span>
  <span m=''3740640''>we''re</span> <span m=''3740770''>comparing</span> <span m=''3741450''>one</span>
  <span m=''3741810''>with</span> <span m=''3741980''>something</span> <span m=''3742580''>and</span>
  <span m=''3742780''>then</span> <span m=''3743010''>doing</span> <span m=''3743320''>a</span>
  <span m=''3743410''>ja.</span> <span m=''3744880''>So</span> <span m=''3745010''>this</span>
  <span m=''3745180''>is</span> <span m=''3745290''>a</span> <span m=''3745400''>jump</span>
  <span m=''3746600''>above.</span> <span m=''3747510''>This</span> <span m=''3747720''>is</span>
  <span m=''3747870''>the</span> <span m=''3748060''>unsigned</span> <span m=''3748810''>version.</span>
  </p><p><span m=''3749370''>What you''re</span> <span m=''3749640''>looking</span>
  <span m=''3749905''>is</span> <span m=''3750170''>to</span> <span m=''3750290''>see,</span>
  <span m=''3751010''>here</span> <span m=''3751170''>we</span> <span m=''3751290''>say
  if</span> <span m=''3751630''>n</span> <span m=''3751830''>is</span> <span m=''3751960''>less</span>
  <span m=''3752220''>than</span> <span m=''3752380''>two,</span> <span m=''3752670''>in</span>
  <span m=''3752780''>fact,</span> <span m=''3753100''>what</span> <span m=''3753210''>it''s</span>
  <span m=''3753490''>doing</span> <span m=''3754130''>is</span> <span m=''3754270''>saying</span>
  <span m=''3754660''>if</span> <span m=''3754910''>n</span> <span m=''3755190''>is</span>
  <span m=''3755510''>greater</span> <span m=''3756060''>than</span> <span m=''3756450''>one</span>
  <span m=''3758240''>go</span> <span m=''3758410''>to</span> <span m=''3758570''>L4.</span>
  <span m=''3762280''>So</span> <span m=''3762440''>it''s</span> <span m=''3762560''>actually</span>
  <span m=''3762820''>doing</span> <span m=''3763130''>the</span> <span m=''3763240''>other</span>
  <span m=''3763430''>one.</span> <span m=''3763640''>So</span> <span m=''3763750''>you</span>
  <span m=''3763830''>can</span> <span m=''3763960''>see</span> <span m=''3764200''>then</span>
  <span m=''3764460''>L4</span> <span m=''3765110''>is,</span> <span m=''3765670''>what</span>
  <span m=''3765970''>happens</span> <span m=''3766520''>is</span> <span m=''3766690''>the</span>
  <span m=''3766780''>one</span> <span m=''3766930''>that</span> <span m=''3767020''>has</span>
  <span m=''3767270''>the</span> <span m=''3767370''>two</span> <span m=''3767580''>calls</span>
  <span m=''3767970''>to</span> <span m=''3768070''>fib,</span> <span m=''3769020''>recursive</span>
  <span m=''3769440''>calls,</span> <span m=''3769740''>so</span> <span m=''3769880''>that''s</span>
  <span m=''3770200''>this</span> <span m=''3770390''>part</span> <span m=''3770590''>of</span>
  <span m=''3770630''>the</span> <span m=''3770720''>code,</span> <span m=''3772000''>and
  it''s</span> <span m=''3772180''>doing</span> <span m=''3772400''>that</span> <span
  m=''3772610''>if</span> <span m=''3772690''>it''s</span> <span m=''3772850''>greater</span>
  <span m=''3773100''>than</span> <span m=''3773250''>one.</span> <span m=''3773470''>And</span>
  <span m=''3773610''>otherwise</span> <span m=''3774540''>it''s</span> <span m=''3774740''>going</span>
  <span m=''3775030''>to</span> <span m=''3776330''>execute</span> <span m=''3777040''>these</span>
  <span m=''3777570''>instructions,</span> <span m=''3778310''>which</span> <span
  m=''3778490''>are</span> <span m=''3778570''>basically</span> <span m=''3779690''>returning</span>
  <span m=''3780160''>n.</span> <span m=''3781820''>And</span> <span m=''3782040''>so
  it</span> <span m=''3782200''>basically</span> <span m=''3782660''>does</span> <span
  m=''3782860''>some</span> <span m=''3783030''>computations.</span> <span m=''3784020''>And</span>
  <span m=''3784280''>then</span> <span m=''3784960''>both</span> <span m=''3785240''>of</span>
  <span m=''3785350''>them</span> <span m=''3785540''>converge</span> <span m=''3786170''>here</span>
  <span m=''3786720''>where</span> <span m=''3787060''>it</span> <span m=''3787130''>moves</span>
  <span m=''3787420''>the</span> <span m=''3787510''>results</span> <span m=''3788220''>and</span>
  <span m=''3788440''>then</span> <span m=''3789120''>pops</span> <span m=''3789440''>it</span>
  <span m=''3789520''>off</span> <span m=''3789780''>and</span> <span m=''3789910''>so</span>
  <span m=''3790090''>forth.</span> </p><p><span m=''3791490''>So</span> <span m=''3791670''>that''s</span>
  <span m=''3791910''>sort</span> <span m=''3792130''>of</span> <span m=''3792230''>the</span>
  <span m=''3792400''>outline</span> <span m=''3792950''>of</span> <span m=''3793030''>what''s</span>
  <span m=''3793250''>going</span> <span m=''3793510''>on</span> <span m=''3793690''>there.</span>
  <span m=''3793810''>So</span> <span m=''3793940''>let''s</span> <span m=''3794500''>dive</span>
  <span m=''3794830''>in</span> <span m=''3794940''>here</span> <span m=''3795160''>a</span>
  <span m=''3795210''>little</span> <span m=''3795410''>bit</span> <span m=''3795960''>and</span>
  <span m=''3796130''>sort</span> <span m=''3796320''>of</span> <span m=''3796380''>see</span>
  <span m=''3796640''>what''s</span> <span m=''3796920''>going</span> <span m=''3797180''>on,</span>
  <span m=''3797310''>see if</span> <span m=''3797390''>we</span> <span m=''3797540''>can</span>
  <span m=''3797690''>read</span> <span m=''3797920''>this a</span> <span m=''3798310''>little</span>
  <span m=''3798720''>bit</span> <span m=''3798860''>more</span> <span m=''3799040''>closely</span>
  <span m=''3801820''>and</span> <span m=''3802260''>whether</span> <span m=''3802510''>we</span>
  <span m=''3802610''>can</span> <span m=''3802740''>optimize</span> <span m=''3803040''>it.</span>
  <span m=''3804180''>So</span> <span m=''3804340''>the</span> <span m=''3804430''>first</span>
  <span m=''3804770''>thing</span> <span m=''3804920''>that</span> <span m=''3805040''>I</span>
  <span m=''3805200''>noticed</span> <span m=''3805600''>in</span> <span m=''3805670''>looking</span>
  <span m=''3806010''>at</span> <span m=''3806130''>this</span> <span m=''3806350''>is</span>
  <span m=''3806500''>look</span> <span m=''3806740''>at</span> <span m=''3806820''>all</span>
  <span m=''3807070''>this</span> <span m=''3807280''>memory</span> <span m=''3807720''>addressing</span>
  <span m=''3808200''>that</span> <span m=''3808300''>we''re</span> <span m=''3808420''>doing.</span>
  <span m=''3810330''>What</span> <span m=''3810490''>do</span> <span m=''3810530''>you</span>
  <span m=''3810610''>suppose</span> <span m=''3811030''>this</span> <span m=''3811270''>thing</span>
  <span m=''3811490''>is,</span> <span m=''3813390''>minus</span> <span m=''3813800''>16%</span>
  <span m=''3815310''>RBP?</span> <span m=''3817070''>So this is</span> <span m=''3817190''>the</span>
  <span m=''3817310''>base</span> <span m=''3817700''>pointer.</span> <span m=''3818080''>So</span>
  <span m=''3818200''>this</span> <span m=''3818420''>is</span> <span m=''3818520''>a</span>
  <span m=''3818600''>local</span> <span m=''3819000''>variable</span> <span m=''3820930''>because
  it''s</span> <span m=''3821280''>a</span> <span m=''3821360''>negative</span> <span
  m=''3821840''>offset</span> <span m=''3822340''>off</span> <span m=''3822550''>of</span>
  <span m=''3822640''>the</span> <span m=''3822720''>base</span> <span m=''3823020''>pointer.</span>
  </p><p><span m=''3823790''>What</span> <span m=''3824150''>do</span> <span m=''3824190''>you</span>
  <span m=''3824280''>think</span> <span m=''3824510''>it''s</span> <span m=''3824720''>doing</span>
  <span m=''3824970''>there?</span> <span m=''3828720''>What''s</span> <span m=''3829000''>stored</span>
  <span m=''3829520''>in</span> <span m=''3829630''>here?</span> <span m=''3834880''>Yeah,</span>
  <span m=''3835210''>this</span> <span m=''3835380''>is</span> <span m=''3835510''>where</span>
  <span m=''3835720''>n</span> <span m=''3835990''>is</span> <span m=''3836160''>being</span>
  <span m=''3836350''>stored.</span> <span m=''3838960''>Because</span> <span m=''3839270''>what
  are we</span> <span m=''3839430''>doing?</span> <span m=''3839790''>We''re</span>
  <span m=''3839910''>trying</span> <span m=''3840100''>to</span> <span m=''3840140''>compare</span>
  <span m=''3840630''>n</span> <span m=''3841190''>with</span> <span m=''3841360''>one</span>
  <span m=''3841660''>here</span> <span m=''3843590''>even</span> <span m=''3843810''>though</span>
  <span m=''3843910''>it says</span> <span m=''3844240''>two</span> <span m=''3844450''>up</span>
  <span m=''3844600''>there.</span> <span m=''3845470''>We''re</span> <span m=''3845580''>comparing</span>
  <span m=''3846200''>it</span> <span m=''3846370''>with</span> <span m=''3846520''>one</span>
  <span m=''3846730''>here.</span> </p><p><span m=''3848970''>And</span> <span m=''3849140''>so</span>
  <span m=''3849320''>I</span> <span m=''3849470''>look</span> <span m=''3849700''>at</span>
  <span m=''3849810''>that,</span> <span m=''3850040''>and</span> <span m=''3850150''>I</span>
  <span m=''3850240''>say,</span> <span m=''3850430''>look,</span> <span m=''3850700''>I''m</span>
  <span m=''3850850''>comparing</span> <span m=''3851350''>it</span> <span m=''3851460''>with</span>
  <span m=''3851630''>one,</span> <span m=''3852330''>then</span> <span m=''3852650''>I''m</span>
  <span m=''3852820''>jumping</span> <span m=''3853240''>to</span> <span m=''3853370''>L4,</span>
  <span m=''3857180''>then</span> <span m=''3857540''>I</span> <span m=''3857660''>jump</span>
  <span m=''3858130''>to</span> <span m=''3858395''>L4</span> <span m=''3858660''>or</span>
  <span m=''3858940''>not.</span> <span m=''3859710''>And</span> <span m=''3859880''>then</span>
  <span m=''3860190''>let''s</span> <span m=''3860410''>say</span> <span m=''3860580''>I</span>
  <span m=''3860670''>don''t.</span> <span m=''3861310''>Well,</span> <span m=''3861480''>then</span>
  <span m=''3861650''>the</span> <span m=''3861740''>first</span> <span m=''3862050''>thing</span>
  <span m=''3862230''>I</span> <span m=''3862330''>do</span> <span m=''3862560''>is</span>
  <span m=''3862690''>I</span> <span m=''3862770''>move</span> <span m=''3863180''>n</span>
  <span m=''3864120''>into</span> <span m=''3864410''>RAX.</span> <span m=''3865320''>But</span>
  <span m=''3865430''>wait</span> <span m=''3865580''>a</span> <span m=''3865600''>minute,</span>
  <span m=''3865820''>I</span> <span m=''3865910''>just</span> <span m=''3866110''>compared</span>
  <span m=''3866500''>it</span> <span m=''3866650''>with</span> <span m=''3866800''>that.</span>
  <span m=''3868530''>So</span> <span m=''3868660''>I''m</span> <span m=''3869010''>accessing
  n again.</span> <span m=''3869230''>I''m</span> <span m=''3869390''>accessing it</span>
  <span m=''3869730''>a</span> <span m=''3869790''>third</span> <span m=''3870110''>time.</span>
  </p><p><span m=''3871100''>How</span> <span m=''3871270''>about</span> <span m=''3871410''>if</span>
  <span m=''3871530''>I</span> <span m=''3871650''>try</span> <span m=''3871850''>to</span>
  <span m=''3871950''>store</span> <span m=''3872310''>that</span> <span m=''3872580''>stuff</span>
  <span m=''3872930''>in a</span> <span m=''3873000''>register</span> <span m=''3873540''>instead?</span>
  <span m=''3876520''>So</span> <span m=''3876680''>what</span> <span m=''3876780''>I
  did</span> <span m=''3876890''>is</span> <span m=''3877120''>I</span> <span m=''3877220''>picked</span>
  <span m=''3877510''>the</span> <span m=''3877640''>RDI</span> <span m=''3878180''>register,</span>
  <span m=''3879240''>because</span> <span m=''3879430''>that</span> <span m=''3879660''>one</span>
  <span m=''3879830''>happens</span> <span m=''3880200''>to</span> <span m=''3880280''>be</span>
  <span m=''3880410''>available,</span> <span m=''3881530''>and</span> <span m=''3881770''>I</span>
  <span m=''3881850''>said</span> <span m=''3882910''>do</span> <span m=''3883190''>they,</span>
  <span m=''3883990''>if</span> <span m=''3884290''>you</span> <span m=''3884430''>look</span>
  <span m=''3884630''>here,</span> <span m=''3884830''>what</span> <span m=''3884940''>did</span>
  <span m=''3885040''>we</span> <span m=''3885160''>do?</span> <span m=''3885320''>We</span>
  <span m=''3885480''>stored</span> <span m=''3886620''>RDI,</span> <span m=''3887230''>which</span>
  <span m=''3887410''>is</span> <span m=''3887520''>the</span> <span m=''3887610''>first</span>
  <span m=''3887980''>argument,</span> <span m=''3889420''>into</span> <span m=''3889720''>memory.</span>
  <span m=''3891350''>And</span> <span m=''3891450''>then</span> <span m=''3891600''>we</span>
  <span m=''3891720''>compared</span> <span m=''3892210''>with</span> <span m=''3892380''>it</span>
  <span m=''3892460''>in</span> <span m=''3892580''>memory.</span> <span m=''3893270''>Why</span>
  <span m=''3893510''>don''t</span> <span m=''3893610''>we</span> <span m=''3893710''>compare</span>
  <span m=''3894100''>with it in</span> <span m=''3894500''>RDI?</span> <span m=''3897230''>Right?</span>
  <span m=''3897520''>Duh,</span> <span m=''3899910''>stupid</span> <span m=''3900350''>compiler,</span>
  <span m=''3900675''>well,</span> <span m=''3901250''>because</span> <span m=''3901530''>I</span>
  <span m=''3901630''>had</span> <span m=''3901790''>minus</span> <span m=''3902030''>oh</span>
  <span m=''3902300''>zero.</span> </p><p><span m=''3905610''>OK,</span> <span m=''3906050''>so</span>
  <span m=''3906210''>I</span> <span m=''3906350''>can</span> <span m=''3906560''>do</span>
  <span m=''3906680''>that</span> <span m=''3907110''>improvement.</span> <span m=''3907590''>So</span>
  <span m=''3907690''>what</span> <span m=''3907840''>I</span> <span m=''3907940''>did</span>
  <span m=''3908110''>was</span> <span m=''3908280''>I</span> <span m=''3908400''>edited</span>
  <span m=''3908830''>it</span> <span m=''3909210''>to</span> <span m=''3909300''>put</span>
  <span m=''3909510''>RDI</span> <span m=''3910090''>there</span> <span m=''3910320''>and</span>
  <span m=''3910460''>RDI</span> <span m=''3910930''>here</span> <span m=''3911140''>and</span>
  <span m=''3911220''>RDI</span> <span m=''3911660''>here.</span> <span m=''3912410''>And</span>
  <span m=''3912590''>I</span> <span m=''3912650''>went</span> <span m=''3912880''>up</span>
  <span m=''3913050''>and</span> <span m=''3913180''>I</span> <span m=''3913270''>said,</span>
  <span m=''3913540''>what</span> <span m=''3913730''>about</span> <span m=''3913980''>RDI</span>
  <span m=''3914530''>here?</span> <span m=''3915990''>Why</span> <span m=''3916230''>didn''t</span>
  <span m=''3916460''>I</span> <span m=''3916530''>replace</span> <span m=''3916990''>that</span>
  <span m=''3917210''>one?</span> <span m=''3927130''>No,</span> <span m=''3927300''>there''s</span>
  <span m=''3927480''>no loop</span> <span m=''3927780''>going</span> <span m=''3928120''>on</span>
  <span m=''3928260''>here.</span> <span m=''3928650''>It''s</span> <span m=''3928800''>recursion.</span>
  </p><p><span m=''3929694''>AUDIENCE: [INAUDIBLE PHRASE]</span> </p><p><span m=''3933870''>CHARLES
  LEISERSON: Yeah,</span> <span m=''3934290''>the problem</span> <span m=''3934630''>is</span>
  <span m=''3934750''>that</span> <span m=''3934830''>when</span> <span m=''3935020''>I</span>
  <span m=''3935170''>call</span> <span m=''3935690''>fib,</span> <span m=''3937820''>RDI</span>
  <span m=''3938300''>gets</span> <span m=''3938640''>garbaged</span> <span m=''3939170''>on</span>
  <span m=''3939310''>me.</span> <span m=''3941020''>Because</span> <span m=''3941400''>RDI</span>
  <span m=''3943290''>is</span> <span m=''3943520''>going</span> <span m=''3943640''>to</span>
  <span m=''3943690''>be</span> <span m=''3943850''>the</span> <span m=''3943930''>first</span>
  <span m=''3944260''>argument</span> <span m=''3944820''>to--</span> <span m=''3945590''>See</span>
  <span m=''3945800''>it''s</span> <span m=''3946000''>being</span> <span m=''3946210''>garbaged</span>
  <span m=''3946510''>here?</span> <span m=''3948330''>It''s</span> <span m=''3948480''>garbage</span>
  <span m=''3948830''>as</span> <span m=''3948940''>far</span> <span m=''3949190''>as</span>
  <span m=''3949290''>my</span> <span m=''3949450''>use</span> <span m=''3949670''>of</span>
  <span m=''3949780''>it</span> <span m=''3949960''>for</span> <span m=''3950100''>n.</span>
  <span m=''3951360''>It''s</span> <span m=''3951560''>being</span> <span m=''3951740''>used</span>
  <span m=''3952040''>to</span> <span m=''3952110''>pass</span> <span m=''3952530''>n</span>
  <span m=''3952710''>minus</span> <span m=''3953060''>1</span> <span m=''3953420''>as</span>
  <span m=''3953600''>the</span> <span m=''3953720''>argument</span> <span m=''3955250''>to</span>
  <span m=''3955700''>the</span> <span m=''3955790''>recursive</span> <span m=''3956270''>call.</span>
  <span m=''3962670''>So</span> <span m=''3962830''>I</span> <span m=''3962880''>can''t</span>
  <span m=''3963140''>replace</span> <span m=''3963510''>this</span> <span m=''3963680''>one</span>
  <span m=''3963830''>after</span> <span m=''3964190''>fib</span> <span m=''3964440''>because</span>
  <span m=''3964940''>RDI</span> <span m=''3965320''>no</span> <span m=''3965500''>longer</span>
  <span m=''3965810''>has</span> <span m=''3966140''>it.</span> <span m=''3966420''>Because
  I</span> <span m=''3966700''>had</span> <span m=''3966880''>to</span> <span m=''3966950''>leave</span>
  <span m=''3967180''>it.</span> </p><p><span m=''3967810''>But</span> <span m=''3967970''>even</span>
  <span m=''3968240''>so</span> <span m=''3969170''>I</span> <span m=''3969270''>went</span>
  <span m=''3969600''>from</span> <span m=''3969770''>5.45</span> <span m=''3971050''>seconds</span>
  <span m=''3971480''>for</span> <span m=''3971580''>the</span> <span m=''3971700''>original</span>
  <span m=''3972080''>code</span> <span m=''3972350''>to</span> <span m=''3972410''>4.09</span>
  <span m=''3973300''>seconds</span> <span m=''3973760''>when</span> <span m=''3973900''>I</span>
  <span m=''3973960''>compile</span> <span m=''3974370''>that</span> <span m=''3974750''>just</span>
  <span m=''3974930''>with</span> <span m=''3975010''>that</span> <span m=''3975200''>little</span>
  <span m=''3975390''>change.</span> <span m=''3976300''>I</span> <span m=''3976410''>felt</span>
  <span m=''3976600''>pretty</span> <span m=''3976800''>good.</span> <span m=''3979360''>I</span>
  <span m=''3979520''>felt</span> <span m=''3979760''>pretty</span> <span m=''3979940''>good.</span>
  <span m=''3980200''>So</span> <span m=''3980340''>then</span> <span m=''3980550''>I</span>
  <span m=''3980660''>wanted</span> <span m=''3981000''>more.</span> <span m=''3983090''>That</span>
  <span m=''3983260''>was</span> <span m=''3983430''>fun.</span> <span m=''3983710''>I</span>
  <span m=''3983770''>wanted</span> <span m=''3984070''>more.</span> </p><p><span
  m=''3987570''>So</span> <span m=''3988550''>what</span> <span m=''3988790''>was</span>
  <span m=''3988940''>the</span> <span m=''3989120''>next</span> <span m=''3989300''>thing</span>
  <span m=''3989490''>I</span> <span m=''3989580''>noticed?</span> <span m=''3990660''>I</span>
  <span m=''3990810''>noticed</span> <span m=''3991390''>that--</span> <span m=''3991720''>And</span>
  <span m=''3991950''>by</span> <span m=''3992070''>the</span> <span m=''3992150''>way</span>
  <span m=''3992650''>almost</span> <span m=''3993000''>all</span> <span m=''3993240''>the</span>
  <span m=''3993330''>things,</span> <span m=''3993920''>that</span> <span m=''3994260''>stuff</span>
  <span m=''3994540''>I</span> <span m=''3994630''>did</span> <span m=''3994770''>last</span>
  <span m=''3995140''>night.</span> <span m=''3995620''>This</span> <span m=''3995780''>is</span>
  <span m=''3995890''>what</span> <span m=''3996040''>I</span> <span m=''3996110''>did</span>
  <span m=''3996310''>an</span> <span m=''3996430''>hour</span> <span m=''3996720''>before</span>
  <span m=''3997100''>class</span> <span m=''3997500''>so</span> <span m=''3997600''>we''ll</span>
  <span m=''3997700''>see</span> <span m=''3997870''>whether</span> <span m=''3998130''>it--</span>
  <span m=''3999960''>So</span> <span m=''4000140''>then</span> <span m=''4000380''>I</span>
  <span m=''4000460''>noticed</span> <span m=''4000840''>that,</span> <span m=''4000980''>look,</span>
  <span m=''4001320''>we''re</span> <span m=''4001460''>moving</span> <span m=''4002960''>this</span>
  <span m=''4003550''>stuff</span> <span m=''4003930''>here.</span> <span m=''4004260''>We</span>
  <span m=''4004380''>keep</span> <span m=''4004630''>using</span> <span m=''4005360''>minus</span>
  <span m=''4005750''>24.</span> <span m=''4006420''>And</span> <span m=''4006530''>once</span>
  <span m=''4006740''>again,</span> <span m=''4006940''>memory</span> <span m=''4007330''>operations</span>
  <span m=''4007930''>are</span> <span m=''4007980''>expensive</span> <span m=''4008870''>compared</span>
  <span m=''4009240''>to</span> <span m=''4009320''>register</span> <span m=''4009800''>operations.</span>
  <span m=''4010290''>Let</span> <span m=''4010370''>me</span> <span m=''4010460''>try</span>
  <span m=''4010600''>to</span> <span m=''4010660''>get</span> <span m=''4010820''>rid</span>
  <span m=''4010970''>them.</span> <span m=''4011340''>What</span> <span m=''4011570''>do</span>
  <span m=''4011610''>you</span> <span m=''4011690''>suppose</span> <span m=''4012080''>is</span>
  <span m=''4012250''>in</span> <span m=''4012360''>here?</span> </p><p><span m=''4019160''>So</span>
  <span m=''4019330''>look,</span> <span m=''4021520''>we</span> <span m=''4021660''>move</span>
  <span m=''4022240''>RAX</span> <span m=''4022990''>into</span> <span m=''4024510''>the</span>
  <span m=''4025950''>local</span> <span m=''4026310''>variable</span> <span m=''4026880''>minus</span>
  <span m=''4027230''>24.</span> <span m=''4028990''>And</span> <span m=''4029180''>then</span>
  <span m=''4029400''>we</span> <span m=''4029560''>jump</span> <span m=''4029910''>to</span>
  <span m=''4030040''>L5.</span> <span m=''4031310''>And</span> <span m=''4031460''>we</span>
  <span m=''4031560''>move</span> <span m=''4031780''>minus</span> <span m=''4032070''>24</span>
  <span m=''4032700''>into</span> <span m=''4033080''>RAX.</span> <span m=''4036950''>That</span>
  <span m=''4037190''>seems</span> <span m=''4037520''>kind</span> <span m=''4037710''>of</span>
  <span m=''4038010''>unnecessary.</span> <span m=''4039490''>Here</span> <span m=''4039730''>we</span>
  <span m=''4039850''>move</span> <span m=''4040110''>RBX</span> <span m=''4040780''>into</span>
  <span m=''4041730''>minus</span> <span m=''4042110''>24.</span> <span m=''4042470''>Then</span>
  <span m=''4042660''>we</span> <span m=''4042780''>move</span> <span m=''4043010''>minus</span>
  <span m=''4043260''>24</span> <span m=''4043750''>into</span> <span m=''4044065''>RAX.</span>
  <span m=''4046490''>What</span> <span m=''4046780''>is</span> <span m=''4046930''>this</span>
  <span m=''4047420''>value</span> <span m=''4048010''>first</span> <span m=''4048330''>of</span>
  <span m=''4048410''>all</span> <span m=''4048560''>that</span> <span m=''4048610''>I''m</span>
  <span m=''4048830''>storing</span> <span m=''4049090''>there?</span> <span m=''4055840''>What''s</span>
  <span m=''4057130''>going</span> <span m=''4057230''>to</span> <span m=''4057280''>be</span>
  <span m=''4057440''>in</span> <span m=''4057895''>RAX at</span> <span m=''4058350''>the</span>
  <span m=''4058430''>very</span> <span m=''4058730''>end?</span> </p><p><span m=''4062730''>RAX</span>
  <span m=''4063270''>is</span> <span m=''4063390''>the</span> <span m=''4063480''>return</span>
  <span m=''4063990''>value.</span> <span m=''4066620''>So</span> <span m=''4066810''>I''m</span>
  <span m=''4067170''>trying</span> <span m=''4067410''>to</span> <span m=''4067650''>save,</span>
  <span m=''4068120''>here</span> <span m=''4068480''>in</span> <span m=''4068630''>this</span>
  <span m=''4068860''>case,</span> <span m=''4069200''>this</span> <span m=''4069350''>is</span>
  <span m=''4069500''>the</span> <span m=''4069580''>branch</span> <span m=''4070010''>where</span>
  <span m=''4070180''>I</span> <span m=''4070240''>just</span> <span m=''4070470''>want</span>
  <span m=''4070590''>to</span> <span m=''4070640''>return</span> <span m=''4071080''>n.</span>
  <span m=''4072010''>I</span> <span m=''4072120''>just</span> <span m=''4072330''>want</span>
  <span m=''4072470''>to</span> <span m=''4072520''>put</span> <span m=''4072850''>RAX</span>
  <span m=''4073610''>to</span> <span m=''4073790''>have</span> <span m=''4074010''>it</span>
  <span m=''4074090''>return,</span> <span m=''4075110''>be in</span> <span m=''4075260''>RAX</span>
  <span m=''4075910''>when</span> <span m=''4076070''>I</span> <span m=''4076150''>return.</span>
  <span m=''4077720''>So</span> <span m=''4077850''>I''ve</span> <span m=''4077990''>got</span>
  <span m=''4078220''>the</span> <span m=''4078300''>value</span> <span m=''4078640''>here.</span>
  <span m=''4078910''>It''s</span> <span m=''4079020''>just</span> <span m=''4079240''>n.</span>
  <span m=''4079440''>It</span> <span m=''4079640''>was</span> <span m=''4079810''>in</span>
  <span m=''4079950''>RDI.</span> <span m=''4080395''>It''s</span> <span m=''4080670''>now
  in</span> <span m=''4080940''>RAX.</span> <span m=''4081750''>But</span> <span m=''4081890''>that''s</span>
  <span m=''4082170''>clearly</span> <span m=''4082620''>unnecessary.</span> <span
  m=''4084240''>Why</span> <span m=''4084490''>go</span> <span m=''4084730''>put</span>
  <span m=''4084980''>it</span> <span m=''4085070''>into</span> <span m=''4085270''>memory</span>
  <span m=''4085590''>and</span> <span m=''4085670''>then</span> <span m=''4085820''>take</span>
  <span m=''4086000''>it</span> <span m=''4086100''>back</span> <span m=''4086360''>out</span>
  <span m=''4086520''>again?</span> <span m=''4087940''>And</span> <span m=''4088110''>here</span>
  <span m=''4088970''>just</span> <span m=''4089190''>put</span> <span m=''4089350''>it</span>
  <span m=''4089430''>in</span> <span m=''4089570''>RAX</span> <span m=''4090240''>directly.</span>
  </p><p><span m=''4091140''>So</span> <span m=''4091260''>that''s</span> <span m=''4091430''>what</span>
  <span m=''4091580''>I</span> <span m=''4091670''>did.</span> <span m=''4092760''>I</span>
  <span m=''4092870''>basically,</span> <span m=''4094000''>instead</span> <span m=''4094380''>of</span>
  <span m=''4094540''>moving</span> <span m=''4094950''>it</span> <span m=''4095040''>here,</span>
  <span m=''4095500''>I</span> <span m=''4095640''>changed</span> <span m=''4096939''>this</span>
  <span m=''4097180''>instruction</span> <span m=''4097710''>that</span> <span m=''4097800''>said</span>
  <span m=''4098160''>add</span> <span m=''4098399''>it</span> <span m=''4098510''>and</span>
  <span m=''4098640''>put</span> <span m=''4098770''>in</span> <span m=''4098920''>RBX,</span>
  <span m=''4099630''>I</span> <span m=''4099689''>said,</span> <span m=''4099930''>no,</span>
  <span m=''4100180''>don''t</span> <span m=''4100310''>put it</span> <span m=''4100470''>in</span>
  <span m=''4100620''>RBX.</span> <span m=''4101810''>Let''s</span> <span m=''4102050''>just</span>
  <span m=''4102710''>add</span> <span m=''4102960''>RBX</span> <span m=''4103520''>into</span>
  <span m=''4103720''>RAX,</span> <span m=''4104420''>and</span> <span m=''4104550''>then</span>
  <span m=''4104670''>it''s</span> <span m=''4104819''>right</span> <span m=''4105080''>there.</span>
  <span m=''4107200''>And</span> <span m=''4107380''>this</span> <span m=''4107569''>one,</span>
  <span m=''4107770''>get</span> <span m=''4107939''>rid</span> <span m=''4108120''>of</span>
  <span m=''4108180''>those</span> <span m=''4108950''>so</span> <span m=''4109130''>that</span>
  <span m=''4109229''>it''s</span> <span m=''4109420''>now</span> <span m=''4110140''>moved</span>
  <span m=''4110569''>into</span> <span m=''4110800''>RAX</span> <span m=''4111374''>and
  it''s</span> <span m=''4111649''>in</span> <span m=''4111770''>RAX.</span> <span
  m=''4113840''>So</span> <span m=''4113970''>I</span> <span m=''4114050''>did</span>
  <span m=''4114260''>that.</span> <span m=''4115000''>I</span> <span m=''4115109''>dropped</span>
  <span m=''4115410''>to</span> <span m=''4115479''>3.9</span> <span m=''4117020''>seconds.</span>
  <span m=''4119319''>That</span> <span m=''4119420''>felt</span> <span m=''4119689''>pretty</span>
  <span m=''4119850''>good,</span> <span m=''4120040''>too.</span> </p><p><span m=''4120630''>In</span>
  <span m=''4120750''>addition,</span> <span m=''4121210''>I</span> <span m=''4121279''>got</span>
  <span m=''4121580''>rid</span> <span m=''4121830''>of</span> <span m=''4123160''>this</span>
  <span m=''4123660''>extra</span> <span m=''4124569''>variable.</span> <span m=''4125229''>So</span>
  <span m=''4125439''>now</span> <span m=''4125850''>I</span> <span m=''4126010''>could</span>
  <span m=''4126210''>actually</span> <span m=''4126649''>reduce</span> <span m=''4127510''>my</span>
  <span m=''4127660''>storage</span> <span m=''4128080''>requirements.</span> <span
  m=''4129600''>However,</span> <span m=''4130050''>when</span> <span m=''4130250''>I</span>
  <span m=''4130310''>measured</span> <span m=''4130700''>it</span> <span m=''4130859''>with</span>
  <span m=''4131240''>this</span> <span m=''4131450''>being</span> <span m=''4131620''>24</span>
  <span m=''4132689''>and</span> <span m=''4132819''>not</span> <span m=''4133000''>being</span>
  <span m=''4133140''>24,</span> <span m=''4133560''>it was</span> <span m=''4133670''>the</span>
  <span m=''4133729''>same</span> <span m=''4133990''>speed.</span> <span m=''4135970''>So</span>
  <span m=''4136330''>it''s</span> <span m=''4136470''>like,</span> <span m=''4136670''>eh,</span>
  <span m=''4136950''>but</span> <span m=''4138520''>I didn''t</span> <span m=''4138640''>want</span>
  <span m=''4138819''>to</span> <span m=''4138870''>waste</span> <span m=''4139149''>the</span>
  <span m=''4139189''>storage</span> <span m=''4139590''>anyway.</span> </p><p><span
  m=''4142260''>So</span> <span m=''4142439''>then</span> <span m=''4142550''>I</span>
  <span m=''4142649''>looked</span> <span m=''4142899''>a</span> <span m=''4142950''>little</span>
  <span m=''4143109''>bit</span> <span m=''4143300''>further.</span> <span m=''4145200''>And</span>
  <span m=''4145439''>I</span> <span m=''4145540''>noticed</span> <span m=''4149689''>that</span>
  <span m=''4149890''>I</span> <span m=''4149970''>want</span> <span m=''4150120''>to</span>
  <span m=''4150160''>get</span> <span m=''4150359''>rid</span> <span m=''4150560''>of</span>
  <span m=''4150660''>this</span> <span m=''4150950''>access</span> <span m=''4151609''>to</span>
  <span m=''4152200''>n</span> <span m=''4152439''>here.</span> <span m=''4153750''>So</span>
  <span m=''4153899''>basically</span> <span m=''4154529''>I''m</span> <span m=''4154710''>subtracting</span>
  <span m=''4155670''>it, and</span> <span m=''4155979''>I''m</span> <span m=''4156090''>storing</span>
  <span m=''4156630''>n.</span> <span m=''4157450''>How</span> <span m=''4157660''>can</span>
  <span m=''4157830''>I</span> <span m=''4157880''>get</span> <span m=''4158100''>rid</span>
  <span m=''4158250''>of</span> <span m=''4158350''>it?</span> <span m=''4158569''>And</span>
  <span m=''4158670''>this</span> <span m=''4158979''>took</span> <span m=''4159160''>me</span>
  <span m=''4159290''>a</span> <span m=''4159359''>little</span> <span m=''4159540''>while</span>
  <span m=''4159810''>to</span> <span m=''4159880''>figure</span> <span m=''4160250''>out.</span>
  </p><p><span m=''4161020''>What</span> <span m=''4161220''>I</span> <span m=''4161300''>realized</span>
  <span m=''4161930''>is,</span> <span m=''4162050''>look,</span> <span m=''4162330''>we''re</span>
  <span m=''4162490''>storing</span> <span m=''4163090''>stuff</span> <span m=''4163439''>away</span>
  <span m=''4165960''>in</span> <span m=''4166590''>RBX.</span> <span m=''4167399''>We</span>
  <span m=''4167520''>have</span> <span m=''4167680''>RBX</span> <span m=''4167880''>as</span>
  <span m=''4168410''>an</span> <span m=''4168460''>available</span> <span m=''4168910''>register</span>
  <span m=''4169330''>because</span> <span m=''4169550''>I</span> <span m=''4169649''>saved</span>
  <span m=''4170729''>the</span> <span m=''4171770''>value</span> <span m=''4172090''>of</span>
  <span m=''4172200''>RBX</span> <span m=''4172729''>with</span> <span m=''4172840''>this</span>
  <span m=''4173010''>push</span> <span m=''4173270''>instruction</span> <span m=''4173819''>there.</span>
  <span m=''4174680''>So</span> <span m=''4174830''>RBX</span> <span m=''4174990''>is</span>
  <span m=''4175439''>an</span> <span m=''4175510''>available</span> <span m=''4175920''>register.</span>
  <span m=''4176359''>We''re</span> <span m=''4176550''>using</span> <span m=''4177090''>it</span>
  <span m=''4177850''>to</span> <span m=''4179130''>keep</span> <span m=''4179830''>the</span>
  <span m=''4179920''>return</span> <span m=''4180390''>value</span> <span m=''4185830''>of</span>
  <span m=''4186040''>the</span> <span m=''4186120''>first</span> <span m=''4186430''>call</span>
  <span m=''4186700''>to</span> <span m=''4186740''>fib.</span> <span m=''4189510''>So</span>
  <span m=''4189680''>I''m going to</span> <span m=''4189800''>use</span> <span m=''4190000''>it</span>
  <span m=''4190130''>for</span> <span m=''4190200''>their</span> <span m=''4190319''>first</span>
  <span m=''4190649''>call</span> <span m=''4190899''>to</span> <span m=''4190960''>fib</span>
  <span m=''4192290''>so</span> <span m=''4192540''>that</span> <span m=''4192779''>when</span>
  <span m=''4192950''>I</span> <span m=''4193020''>make</span> <span m=''4193220''>the</span>
  <span m=''4193460''>second</span> <span m=''4193689''>call</span> <span m=''4194080''>to</span>
  <span m=''4194180''>fib</span> <span m=''4194270''>I</span> <span m=''4194340''>can</span>
  <span m=''4194500''>then</span> <span m=''4194650''>add</span> <span m=''4194920''>the</span>
  <span m=''4195000''>two</span> <span m=''4195180''>things</span> <span m=''4195470''>together.</span>
  </p><p><span m=''4199360''>Well,</span> <span m=''4200490''>how</span> <span m=''4200700''>about</span>
  <span m=''4201130''>if</span> <span m=''4202190''>before</span> <span m=''4202590''>the</span>
  <span m=''4202680''>first</span> <span m=''4202960''>call</span> <span m=''4203190''>the</span>
  <span m=''4203230''>fib,</span> <span m=''4203590''>why</span> <span m=''4203850''>don''t</span>
  <span m=''4204030''>I</span> <span m=''4204150''>use</span> <span m=''4204420''>it</span>
  <span m=''4204550''>to</span> <span m=''4204640''>store</span> <span m=''4204990''>the</span>
  <span m=''4205110''>value</span> <span m=''4205450''>of</span> <span m=''4205820''>n</span>
  <span m=''4207010''>and</span> <span m=''4207160''>then</span> <span m=''4207320''>use</span>
  <span m=''4207560''>it</span> <span m=''4207690''>to</span> <span m=''4207770''>store</span>
  <span m=''4208050''>the</span> <span m=''4208150''>value</span> <span m=''4208610''>of</span>
  <span m=''4212300''>the</span> <span m=''4212590''>return</span> <span m=''4213000''>value</span>
  <span m=''4213380''>of</span> <span m=''4213480''>fib</span> <span m=''4213740''>of
  n</span> <span m=''4213930''>minus</span> <span m=''4214230''>1?</span> <span m=''4215810''>So</span>
  <span m=''4215990''>I</span> <span m=''4216080''>did</span> <span m=''4216310''>that.</span>
  <span m=''4217590''>And</span> <span m=''4218780''>that</span> <span m=''4219050''>took</span>
  <span m=''4219260''>a</span> <span m=''4219340''>little</span> <span m=''4219630''>bit</span>
  <span m=''4219860''>of</span> <span m=''4221620''>moving</span> <span m=''4222340''>things</span>
  <span m=''4222640''>around</span> <span m=''4223020''>a</span> <span m=''4223060''>little</span>
  <span m=''4223290''>bit.</span> <span m=''4223550''>But I</span> <span m=''4223630''>managed</span>
  <span m=''4223970''>to</span> <span m=''4224040''>get</span> <span m=''4224220''>rid</span>
  <span m=''4224400''>of</span> <span m=''4224510''>it</span> <span m=''4224730''>by</span>
  <span m=''4224870''>using</span> <span m=''4225190''>RBX</span> <span m=''4225790''>for</span>
  <span m=''4225950''>two</span> <span m=''4226090''>different</span> <span m=''4226380''>purposes,</span>
  <span m=''4227880''>one</span> <span m=''4228150''>to</span> <span m=''4228270''>store</span>
  <span m=''4228850''>the</span> <span m=''4229060''>temporary,</span> <span m=''4229980''>the</span>
  <span m=''4230090''>value</span> <span m=''4230410''>of</span> <span m=''4230510''>n,</span>
  <span m=''4231120''>and</span> <span m=''4231240''>the</span> <span m=''4231360''>other</span>
  <span m=''4231590''>to</span> <span m=''4231670''>store</span> <span m=''4237000''>the</span>
  <span m=''4237130''>return</span> <span m=''4237480''>value</span> <span m=''4237790''>when</span>
  <span m=''4237980''>I</span> <span m=''4238040''>need</span> <span m=''4238470''>it.</span>
  </p><p><span m=''4239010''>And</span> <span m=''4239090''>when</span> <span m=''4239220''>I</span>
  <span m=''4239300''>did</span> <span m=''4239480''>that,</span> <span m=''4239690''>I</span>
  <span m=''4239750''>got</span> <span m=''4239930''>it</span> <span m=''4239990''>all</span>
  <span m=''4240090''>the</span> <span m=''4240180''>way</span> <span m=''4240300''>down</span>
  <span m=''4240520''>to</span> <span m=''4240580''>3.61</span> <span m=''4241500''>seconds.</span>
  <span m=''4244640''>I</span> <span m=''4244830''>actually</span> <span m=''4244970''>ran</span>
  <span m=''4245250''>it</span> <span m=''4245330''>with</span> <span m=''4245480''>minus</span>
  <span m=''4245870''>oh</span> <span m=''4246000''>three,</span> <span m=''4247380''>took</span>
  <span m=''4247470''>about</span> <span m=''4247740''>two</span> <span m=''4247890''>seconds.</span>
  <span m=''4249650''>So</span> <span m=''4249870''>I</span> <span m=''4250260''>think</span>
  <span m=''4250480''>I can</span> <span m=''4250700''>keep</span> <span m=''4250880''>my</span>
  <span m=''4251000''>day</span> <span m=''4251220''>job.</span> <span m=''4254280''>But</span>
  <span m=''4255090''>kind</span> <span m=''4255240''>of</span> <span m=''4255390''>fun</span>
  <span m=''4255630''>to</span> <span m=''4255690''>go</span> <span m=''4255940''>in</span>
  <span m=''4256040''>and</span> <span m=''4256170''>sort</span> <span m=''4256340''>of</span>
  <span m=''4256400''>see</span> <span m=''4256700''>what</span> <span m=''4256910''>are</span>
  <span m=''4256960''>the</span> <span m=''4257070''>things</span> <span m=''4257380''>that</span>
  <span m=''4257470''>can</span> <span m=''4257640''>be</span> <span m=''4257890''>done.</span>
  <span m=''4258500''>And</span> <span m=''4258620''>you</span> <span m=''4258690''>can</span>
  <span m=''4258870''>get</span> <span m=''4259050''>a</span> <span m=''4259140''>very</span>
  <span m=''4259400''>good</span> <span m=''4259560''>sense</span> <span m=''4259820''>of</span>
  <span m=''4259870''>what''s</span> <span m=''4260080''>going</span> <span m=''4260320''>on.</span>
  </p><p><span m=''4260520''>The</span> <span m=''4260780''>more</span> <span m=''4261010''>important</span>
  <span m=''4261460''>thing</span> <span m=''4261690''>is</span> <span m=''4261810''>when</span>
  <span m=''4261940''>you</span> <span m=''4262060''>look</span> <span m=''4262260''>at</span>
  <span m=''4262360''>compilers</span> <span m=''4263000''>generating</span> <span
  m=''4263480''>your</span> <span m=''4263620''>code,</span> <span m=''4263890''>as</span>
  <span m=''4264000''>we</span> <span m=''4264100''>saw</span> <span m=''4264280''>on</span>
  <span m=''4264400''>the</span> <span m=''4264520''>last</span> <span m=''4264880''>lecture</span>
  <span m=''4265170''>on</span> <span m=''4265280''>profiling,</span> <span m=''4266430''>you</span>
  <span m=''4266580''>can</span> <span m=''4266720''>see,</span> <span m=''4267260''>oh,</span>
  <span m=''4267790''>it</span> <span m=''4268060''>did</span> <span m=''4268260''>something</span>
  <span m=''4268610''>silly</span> <span m=''4268970''>here.</span> <span m=''4270480''>So</span>
  <span m=''4270600''>you</span> <span m=''4270660''>can</span> <span m=''4270780''>actually</span>
  <span m=''4271030''>go</span> <span m=''4271250''>and</span> <span m=''4271330''>say,</span>
  <span m=''4271580''>oh,</span> <span m=''4271830''>it''s</span> <span m=''4272000''>doing</span>
  <span m=''4272200''>something</span> <span m=''4272580''>silly.</span> <span m=''4273130''>We</span>
  <span m=''4273430''>can</span> <span m=''4273540''>do</span> <span m=''4273650''>a</span>
  <span m=''4273710''>better</span> <span m=''4273970''>job</span> <span m=''4274290''>than</span>
  <span m=''4274450''>that.</span> <span m=''4274990''>Or,</span> <span m=''4275310''>oh,</span>
  <span m=''4275530''>I</span> <span m=''4275660''>didn''t</span> <span m=''4275790''>realize</span>
  <span m=''4276260''>I''d</span> <span m=''4276330''>declared</span> <span m=''4276720''>this</span>
  <span m=''4276930''>an</span> <span m=''4277080''>int </span> <span m=''4277420''>when</span>
  <span m=''4277610''>in</span> <span m=''4277700''>fact,</span> <span m=''4278020''>if</span>
  <span m=''4278140''>I</span> <span m=''4278220''>declared</span> <span m=''4278680''>it</span>
  <span m=''4278880''>a</span> <span m=''4280080''>unsigned</span> <span m=''4280610''>int
  </span> <span m=''4281100''>64,</span> <span m=''4282610''>it</span> <span m=''4282750''>actually</span>
  <span m=''4283100''>would</span> <span m=''4283340''>produce</span> <span m=''4283880''>faster,</span>
  <span m=''4284360''>better</span> <span m=''4284660''>code.</span> <span m=''4285260''>Yeah?</span>
  <span m=''4285480''>Question?</span> </p><p><span m=''4286868''>AUDIENCE: Sorry.</span>
  <span m=''4287362''>So</span> <span m=''4288350''>when you said</span> <span m=''4288844''>that
  when</span> <span m=''4289338''>you run it</span> <span m=''4289832''>with</span>
  <span m=''4290820''>minus</span> <span m=''4291314''>oh</span> <span m=''4291808''>three,</span>
  <span m=''4292302''>what you''re</span> <span m=''4292796''>just saying is</span>
  <span m=''4293290''>even</span> <span m=''4293784''>though you</span> <span m=''4294278''>optimized
  the</span> <span m=''4294772''>[INAUDIBLE]?</span> </p><p><span m=''4295266''>CHARLES
  LEISERSON: As the</span> <span m=''4295760''>compiler,</span> <span m=''4298080''>that''s</span>
  <span m=''4298320''>why I said I</span> <span m=''4298420''>can</span> <span m=''4298800''>keep</span>
  <span m=''4298950''>my</span> <span m=''4299080''>day</span> <span m=''4299270''>job.</span>
  <span m=''4303060''>So</span> <span m=''4303370''>simple</span> <span m=''4303750''>optimization</span>
  <span m=''4304520''>strategies,</span> <span m=''4305970''>if</span> <span m=''4306160''>you''re</span>
  <span m=''4306350''>playing</span> <span m=''4306650''>with</span> <span m=''4306810''>things,</span>
  <span m=''4307110''>is</span> <span m=''4307230''>you</span> <span m=''4307340''>try</span>
  <span m=''4307570''>to</span> <span m=''4307680''>keep</span> <span m=''4307900''>values</span>
  <span m=''4308280''>and</span> <span m=''4308380''>registers</span> <span m=''4308990''>to</span>
  <span m=''4309090''>eliminate</span> <span m=''4309580''>excess</span> <span m=''4309940''>memory</span>
  <span m=''4310230''>traffic.</span> <span m=''4311320''>You</span> <span m=''4311420''>can</span>
  <span m=''4311560''>optimize</span> <span m=''4312240''>naive</span> <span m=''4312620''>function</span>
  <span m=''4313040''>call</span> <span m=''4314610''>linkage.</span> <span m=''4315550''>And</span>
  <span m=''4316120''>the</span> <span m=''4316270''>most</span> <span m=''4316560''>important</span>
  <span m=''4316940''>thing</span> <span m=''4317050''>probably</span> <span m=''4317310''>is</span>
  <span m=''4317430''>constant</span> <span m=''4317920''>fold.</span> <span m=''4318790''>Look</span>
  <span m=''4319030''>to</span> <span m=''4319130''>see</span> <span m=''4321770''>where</span>
  <span m=''4322670''>you''ve</span> <span m=''4322800''>got</span> <span m=''4323020''>constants</span>
  <span m=''4323580''>that</span> <span m=''4323690''>can</span> <span m=''4323830''>be</span>
  <span m=''4323950''>combined</span> <span m=''4324430''>together.</span> <span m=''4325060''>There
  are</span> <span m=''4325250''>other</span> <span m=''4325470''>optimizations</span>
  <span m=''4326200''>that</span> <span m=''4326290''>compilers</span> <span m=''4326900''>do</span>
  <span m=''4327050''>like</span> <span m=''4327220''>common</span> <span m=''4327510''>subexpression</span>
  <span m=''4328210''>elimination</span> <span m=''4329180''>and</span> <span m=''4329340''>so</span>
  <span m=''4329550''>forth.</span> <span m=''4330300''>But</span> <span m=''4330620''>these</span>
  <span m=''4330830''>are</span> <span m=''4330910''>sort</span> <span m=''4331080''>of</span>
  <span m=''4331120''>the</span> <span m=''4331170''>ones,</span> <span m=''4331410''>if</span>
  <span m=''4331480''>you''re</span> <span m=''4331580''>doing</span> <span m=''4331860''>it</span>
  <span m=''4331960''>by</span> <span m=''4332110''>hand,</span> <span m=''4332570''>these</span>
  <span m=''4332790''>are</span> <span m=''4332870''>sort</span> <span m=''4333070''>of</span>
  <span m=''4333150''>things</span> <span m=''4333390''>to</span> <span m=''4333480''>focus</span>
  <span m=''4333900''>on,</span> <span m=''4334440''>particularly</span> <span m=''4334870''>number</span>
  <span m=''4335140''>one,</span> <span m=''4337030''>just</span> <span m=''4337480''>get</span>
  <span m=''4337670''>rid</span> <span m=''4337820''>of</span> <span m=''4337910''>excess</span>
  <span m=''4338290''>memory</span> <span m=''4338560''>traffic.</span> </p><p><span
  m=''4340690''>Let</span> <span m=''4340820''>me</span> <span m=''4340920''>say,</span>
  <span m=''4341100''>by</span> <span m=''4341220''>the</span> <span m=''4341350''>way,</span>
  <span m=''4341750''>in</span> <span m=''4341920''>doing</span> <span m=''4342170''>this</span>
  <span m=''4342370''>I</span> <span m=''4342500''>also</span> <span m=''4342740''>went</span>
  <span m=''4342900''>down</span> <span m=''4343080''>a</span> <span m=''4343120''>bunch</span>
  <span m=''4343350''>of</span> <span m=''4343430''>dead</span> <span m=''4343640''>ends,</span>
  <span m=''4344440''>things that</span> <span m=''4344720''>I</span> <span m=''4344820''>said,</span>
  <span m=''4345010''>oh,</span> <span m=''4345290''>this</span> <span m=''4345450''>should</span>
  <span m=''4345670''>definitely</span> <span m=''4346100''>save,</span> <span m=''4346700''>and</span>
  <span m=''4346870''>then</span> <span m=''4347000''>it</span> <span m=''4347070''>was</span>
  <span m=''4347180''>slower.</span> <span m=''4348840''>And</span> <span m=''4348960''>then</span>
  <span m=''4349080''>we</span> <span m=''4349210''>look</span> <span m=''4349440''>at</span>
  <span m=''4349670''>it, and it</span> <span m=''4349910''>turns</span> <span m=''4350180''>out,</span>
  <span m=''4350350''>oh,</span> <span m=''4350890''>my</span> <span m=''4351170''>branch</span>
  <span m=''4351700''>misprediction</span> <span m=''4352410''>rate</span> <span m=''4352640''>is</span>
  <span m=''4352780''>going</span> <span m=''4353000''>way</span> <span m=''4353230''>up</span>
  <span m=''4353520''>and</span> <span m=''4354090''>so</span> <span m=''4354250''>forth.</span>
  <span m=''4354410''>That''s</span> <span m=''4354660''>why</span> <span m=''4354800''>you</span>
  <span m=''4354860''>have</span> <span m=''4354970''>a</span> <span m=''4355010''>profiler.</span>
  <span m=''4355540''>Because</span> <span m=''4355720''>you</span> <span m=''4355800''>don''t</span>
  <span m=''4355910''>want</span> <span m=''4356020''>to</span> <span m=''4356080''>do</span>
  <span m=''4356210''>this</span> <span m=''4356450''>blind.</span> </p><p><span m=''4359780''>Now,</span>
  <span m=''4359860''>how</span> <span m=''4360090''>does</span> <span m=''4360350''>the</span>
  <span m=''4360640''>compiler</span> <span m=''4361310''>compile</span> <span m=''4362670''>some</span>
  <span m=''4362930''>common</span> <span m=''4363740''>high</span> <span m=''4364000''>level</span>
  <span m=''4364860''>structures?</span> <span m=''4368130''>So</span> <span m=''4368290''>if</span>
  <span m=''4368350''>you</span> <span m=''4368450''>have</span> <span m=''4368550''>a</span>
  <span m=''4368610''>conditional,</span> <span m=''4369420''>for</span> <span m=''4369550''>example,</span>
  <span m=''4371150''>if</span> <span m=''4371360''>p,</span> <span m=''4372300''>do</span>
  <span m=''4372500''>the</span> <span m=''4372590''>ctrue</span> <span m=''4373270''>clause,</span>
  <span m=''4373610''>else</span> <span m=''4373860''>do</span> <span m=''4373970''>the</span>
  <span m=''4374140''>cfalse</span> <span m=''4374770''>clause,</span> <span m=''4375790''>what</span>
  <span m=''4375950''>it</span> <span m=''4376080''>does</span> <span m=''4376360''>basically</span>
  <span m=''4376870''>is</span> <span m=''4377010''>it</span> <span m=''4377140''>generates</span>
  <span m=''4377610''>instructions</span> <span m=''4378240''>to</span> <span m=''4378340''>evaluate</span>
  <span m=''4378960''>p.</span> <span m=''4379910''>And</span> <span m=''4380100''>then</span>
  <span m=''4380240''>it</span> <span m=''4380370''>does</span> <span m=''4380550''>a</span>
  <span m=''4380640''>jump</span> <span m=''4381020''>with</span> <span m=''4381120''>the</span>
  <span m=''4381220''>condition</span> <span m=''4381750''>to</span> <span m=''4381830''>see</span>
  <span m=''4382020''>if</span> <span m=''4382180''>p</span> <span m=''4382380''>is</span>
  <span m=''4382570''>false</span> <span m=''4383000''>to</span> <span m=''4383090''>the</span>
  <span m=''4383230''>else</span> <span m=''4383500''>clause</span> <span m=''4384660''>and</span>
  <span m=''4384870''>executes</span> <span m=''4385440''>those</span> <span m=''4385700''>instruction.</span>
  <span m=''4386650''>And</span> <span m=''4386860''>then</span> <span m=''4387560''>otherwise</span>
  <span m=''4388080''>it</span> <span m=''4388430''>passes</span> <span m=''4388900''>through,</span>
  <span m=''4389180''>does</span> <span m=''4390030''>the</span> <span m=''4390930''>true</span>
  <span m=''4391170''>clause,</span> <span m=''4391730''>and</span> <span m=''4391950''>then</span>
  <span m=''4392110''>jumps</span> <span m=''4392430''>to</span> <span m=''4392540''>the</span>
  <span m=''4392730''>end.</span> <span m=''4392930''>And</span> <span m=''4393020''>you''ll</span>
  <span m=''4393140''>see</span> <span m=''4393320''>that</span> <span m=''4393540''>pattern</span>
  <span m=''4394420''>in</span> <span m=''4394600''>the</span> <span m=''4394720''>code</span>
  <span m=''4396060''>when</span> <span m=''4396210''>you</span> <span m=''4396320''>look</span>
  <span m=''4396550''>at it.</span> <span m=''4396800''>So</span> <span m=''4396910''>that''s</span>
  <span m=''4397080''>a</span> <span m=''4397120''>very</span> <span m=''4397390''>common</span>
  <span m=''4397750''>pattern</span> <span m=''4398180''>for</span> <span m=''4398310''>doing</span>
  <span m=''4398550''>conditionals.</span> </p><p><span m=''4401370''>Compiling</span>
  <span m=''4401890''>while</span> <span m=''4402230''>loops</span> <span m=''4402510''>is</span>
  <span m=''4402620''>kind</span> <span m=''4402750''>of</span> <span m=''4402890''>interesting</span>
  <span m=''4403360''>because</span> <span m=''4404280''>most</span> <span m=''4404660''>while</span>
  <span m=''4404920''>loops</span> <span m=''4405100''>start</span> <span m=''4405430''>out</span>
  <span m=''4405610''>with</span> <span m=''4405700''>a</span> <span m=''4405790''>jump.</span>
  <span m=''4407520''>So</span> <span m=''4407730''>here are</span> <span m=''4407940''>the</span>
  <span m=''4408070''>instructions</span> <span m=''4408790''>for</span> <span m=''4408930''>the</span>
  <span m=''4409080''>body</span> <span m=''4409440''>of</span> <span m=''4409520''>the</span>
  <span m=''4409600''>while</span> <span m=''4409990''>loop.</span> <span m=''4410810''>And</span>
  <span m=''4410980''>here''s</span> <span m=''4411260''>the</span> <span m=''4411370''>test.</span>
  <span m=''4411850''>And</span> <span m=''4411930''>what</span> <span m=''4412110''>they</span>
  <span m=''4412280''>usually</span> <span m=''4412720''>do</span> <span m=''4412860''>is</span>
  <span m=''4412980''>they</span> <span m=''4413100''>jump</span> <span m=''4413520''>to</span>
  <span m=''4413660''>the</span> <span m=''4413780''>test,</span> <span m=''4415100''>they</span>
  <span m=''4415280''>evaluate</span> <span m=''4415920''>the</span> <span m=''4416010''>condition,</span>
  <span m=''4416880''>and</span> <span m=''4417010''>if</span> <span m=''4417090''>it''s</span>
  <span m=''4417270''>true,</span> <span m=''4417650''>they</span> <span m=''4417800''>jump</span>
  <span m=''4418130''>to the</span> <span m=''4418200''>loop.</span> <span m=''4418460''>Otherwise,</span>
  <span m=''4418920''>they</span> <span m=''4419040''>fall</span> <span m=''4419340''>through.</span>
  <span m=''4420470''>And</span> <span m=''4420670''>then</span> <span m=''4420850''>they</span>
  <span m=''4420970''>go</span> <span m=''4421140''>back,</span> <span m=''4421550''>do</span>
  <span m=''4421670''>the</span> <span m=''4421750''>loop</span> <span m=''4422890''>sometimes</span>
  <span m=''4423280''>for</span> <span m=''4423350''>the</span> <span m=''4423540''>first</span>
  <span m=''4423740''>time,</span> <span m=''4423970''>et</span> <span m=''4424070''>cetera.</span>
  <span m=''4424460''>So</span> <span m=''4424610''>that''s</span> <span m=''4424850''>kind</span>
  <span m=''4424950''>of</span> <span m=''4425060''>the</span> <span m=''4425130''>pattern</span>
  <span m=''4425890''>for</span> <span m=''4426100''>a</span> <span m=''4426750''>while</span>
  <span m=''4427055''>loop.</span> </p><p><span m=''4428700''>For</span> <span m=''4428900''>a
  for</span> <span m=''4429360''>loop,</span> <span m=''4430330''>they</span> <span
  m=''4430500''>basically</span> <span m=''4431040''>just</span> <span m=''4431450''>convert
  it</span> <span m=''4431900''>into</span> <span m=''4432120''>a</span> <span m=''4432140''>while</span>
  <span m=''4432440''>loop.</span> <span m=''4433610''>You</span> <span m=''4433920''>basically</span>
  <span m=''4434390''>take</span> <span m=''4435150''>the</span> <span m=''4435390''>initialization</span>
  <span m=''4436230''>code.</span> <span m=''4436530''>You</span> <span m=''4436830''>execute</span>
  <span m=''4437370''>that.</span> <span m=''4438030''>Then</span> <span m=''4438220''>while</span>
  <span m=''4438540''>the</span> <span m=''4438630''>condition</span> <span m=''4439070''>is</span>
  <span m=''4439200''>true,</span> <span m=''4439600''>you</span> <span m=''4439710''>do</span>
  <span m=''4439850''>the</span> <span m=''4439970''>code</span> <span m=''4440380''>followed</span>
  <span m=''4440780''>by</span> <span m=''4441340''>whatever</span> <span m=''4441730''>the</span>
  <span m=''4441920''>next</span> <span m=''4442110''>code</span> <span m=''4442310''>is.</span>
  <span m=''4443150''>And</span> <span m=''4443300''>so</span> <span m=''4443450''>it</span>
  <span m=''4443620''>ends</span> <span m=''4443850''>up</span> <span m=''4444700''>converting</span>
  <span m=''4445160''>for</span> <span m=''4445440''>loops</span> <span m=''4445700''>into</span>
  <span m=''4445880''>while</span> <span m=''4446190''>loops.</span> </p><p><span
  m=''4448510''>Now,</span> <span m=''4448670''>arrays</span> <span m=''4449320''>are,</span>
  <span m=''4451440''>how</span> <span m=''4451620''>do</span> <span m=''4451690''>we</span>
  <span m=''4451770''>go</span> <span m=''4451900''>about</span> <span m=''4452150''>implementing</span>
  <span m=''4452640''>data</span> <span m=''4452920''>types?</span> <span m=''4453230''>Arrays</span>
  <span m=''4453330''>are</span> <span m=''4453720''>just</span> <span m=''4454050''>blocks</span>
  <span m=''4454510''>of</span> <span m=''4456840''>memory.</span> <span m=''4458670''>So</span>
  <span m=''4458790''>you can</span> <span m=''4459040''>have</span> <span m=''4460850''>basically</span>
  <span m=''4461350''>three</span> <span m=''4461590''>different</span> <span m=''4462650''>types</span>
  <span m=''4463080''>of</span> <span m=''4463170''>array</span> <span m=''4463440''>depending</span>
  <span m=''4463710''>upon</span> <span m=''4464000''>where</span> <span m=''4464160''>it</span>
  <span m=''4464210''>gets</span> <span m=''4464390''>allocated,</span> <span m=''4465360''>either</span>
  <span m=''4465480''>allocated</span> <span m=''4465980''>in</span> <span m=''4466050''>the</span>
  <span m=''4466140''>data</span> <span m=''4466430''>segment,</span> <span m=''4467350''>allocate</span>
  <span m=''4467850''>on</span> <span m=''4468000''>the</span> <span m=''4468090''>heap,</span>
  <span m=''4468650''>or</span> <span m=''4468830''>allocated</span> <span m=''4469320''>on</span>
  <span m=''4469420''>the</span> <span m=''4469530''>stack.</span> <span m=''4472830''>Sometimes</span>
  <span m=''4473350''>even</span> <span m=''4473610''>the</span> <span m=''4473710''>static</span>
  <span m=''4474140''>arrays</span> <span m=''4474430''>these</span> <span m=''4474640''>days</span>
  <span m=''4474880''>can</span> <span m=''4474980''>be</span> <span m=''4475090''>allocated</span>
  <span m=''4475375''>in</span> <span m=''4475660''>the</span> <span m=''4475740''>code</span>
  <span m=''4476010''>segment,</span> <span m=''4477230''>if</span> <span m=''4477340''>you''re</span>
  <span m=''4477430''>not</span> <span m=''4477600''>going</span> <span m=''4477700''>to</span>
  <span m=''4477760''>change</span> <span m=''4478080''>them.</span> </p><p><span
  m=''4480010''>So</span> <span m=''4480260''>one</span> <span m=''4480480''>thing</span>
  <span m=''4481040''>is</span> <span m=''4481260''>to</span> <span m=''4481360''>understand</span>
  <span m=''4482090''>that</span> <span m=''4485640''>arrays</span> <span m=''4486400''>and</span>
  <span m=''4486550''>pointers</span> <span m=''4487410''>are</span> <span m=''4487600''>almost</span>
  <span m=''4488000''>the</span> <span m=''4488080''>same</span> <span m=''4488390''>thing.</span>
  <span m=''4490580''>If</span> <span m=''4490730''>you</span> <span m=''4490880''>have</span>
  <span m=''4491390''>an</span> <span m=''4491470''>array,</span> <span m=''4492060''>that''s</span>
  <span m=''4492300''>a</span> <span m=''4492350''>pointer</span> <span m=''4492740''>to</span>
  <span m=''4492880''>a</span> <span m=''4492970''>place</span> <span m=''4493310''>in</span>
  <span m=''4493420''>memory</span> <span m=''4493820''>where</span> <span m=''4493980''>the</span>
  <span m=''4494190''>array</span> <span m=''4494410''>begins.</span> <span m=''4496360''>And</span>
  <span m=''4496540''>a</span> <span m=''4496810''>zero</span> <span m=''4497500''>is</span>
  <span m=''4497690''>the</span> <span m=''4497790''>same</span> <span m=''4498190''>as</span>
  <span m=''4498540''>the</span> <span m=''4498620''>value</span> <span m=''4498920''>you</span>
  <span m=''4498980''>get</span> <span m=''4499170''>when</span> <span m=''4499290''>you</span>
  <span m=''4500260''>dereference</span> <span m=''4501440''>the</span> <span m=''4501530''>pointer</span>
  <span m=''4501900''>to</span> <span m=''4502050''>a.</span> <span m=''4504210''>A</span>
  <span m=''4504310''>pointer,</span> <span m=''4505150''>if</span> <span m=''4505270''>you</span>
  <span m=''4505360''>think</span> <span m=''4505600''>about it,</span> <span m=''4505860''>is</span>
  <span m=''4506050''>actually</span> <span m=''4506510''>just</span> <span m=''4506920''>an</span>
  <span m=''4507220''>index</span> <span m=''4508300''>into</span> <span m=''4508580''>the</span>
  <span m=''4508760''>array</span> <span m=''4509020''>of</span> <span m=''4509130''>all</span>
  <span m=''4509360''>memory.</span> <span m=''4510970''>And</span> <span m=''4511220''>the</span>
  <span m=''4511320''>hardware</span> <span m=''4512400''>allows</span> <span m=''4512840''>you</span>
  <span m=''4512940''>to</span> <span m=''4513050''>index</span> <span m=''4513570''>into</span>
  <span m=''4513730''>the</span> <span m=''4513920''>array</span> <span m=''4514100''>of</span>
  <span m=''4514230''>all</span> <span m=''4514410''>memory.</span> <span m=''4514890''>Well,</span>
  <span m=''4515060''>it</span> <span m=''4515120''>can</span> <span m=''4515260''>also</span>
  <span m=''4515690''>allow</span> <span m=''4515970''>you to</span> <span m=''4516150''>index</span>
  <span m=''4516560''>into</span> <span m=''4516740''>any</span> <span m=''4517020''>subregion</span>
  <span m=''4518360''>of</span> <span m=''4518530''>that</span> <span m=''4518770''>memory.</span>
  <span m=''4519570''>And</span> <span m=''4519700''>that''s</span> <span m=''4519900''>why</span>
  <span m=''4520120''>arrays</span> <span m=''4520550''>and</span> <span m=''4520670''>pointers</span>
  <span m=''4521070''>are</span> <span m=''4521130''>basically</span> <span m=''4521650''>the</span>
  <span m=''4521740''>same</span> <span m=''4522040''>thing.</span> <span m=''4525200''>Here''s</span>
  <span m=''4525400''>a</span> <span m=''4525460''>little</span> <span m=''4525690''>quiz.</span>
  <span m=''4526400''>What</span> <span m=''4526680''>is</span> <span m=''4527120''>eight</span>
  <span m=''4528080''>of</span> <span m=''4528430''>a?</span> </p><p><span m=''4532820''>AUDIENCE:
  The a</span> <span m=''4533310''>elements?</span> </p><p><span m=''4534300''>CHARLES
  LEISERSON: Yeah,</span> <span m=''4534690''>it''s</span> <span m=''4534910''>basically</span>
  <span m=''4535430''>a</span> <span m=''4535630''>of eight.</span> <span m=''4538230''>It''s</span>
  <span m=''4538350''>basically</span> <span m=''4538930''>a of</span> <span m=''4538980''>eight</span>
  <span m=''4539220''>because</span> <span m=''4540050''>the</span> <span m=''4540790''>addressing</span>
  <span m=''4541510''>that''s</span> <span m=''4541720''>going</span> <span m=''4541980''>on</span>
  <span m=''4542300''>is</span> <span m=''4542430''>essentially</span> <span m=''4542980''>the</span>
  <span m=''4543100''>same.</span> <span m=''4543540''>Even</span> <span m=''4543780''>though</span>
  <span m=''4544260''>we</span> <span m=''4544370''>prefer</span> <span m=''4544810''>to</span>
  <span m=''4544920''>write</span> <span m=''4545200''>it--</span> <span m=''4545600''>If</span>
  <span m=''4545720''>you</span> <span m=''4545830''>start</span> <span m=''4546050''>writing</span>
  <span m=''4546310''>code</span> <span m=''4546560''>like</span> <span m=''4546760''>this,</span>
  <span m=''4546930''>I</span> <span m=''4546990''>guarantee</span> <span m=''4548160''>that</span>
  <span m=''4548450''>at</span> <span m=''4548620''>some</span> <span m=''4548830''>companies</span>
  <span m=''4549180''>they''ll</span> <span m=''4549280''>get</span> <span m=''4549420''>very</span>
  <span m=''4549620''>angry</span> <span m=''4549980''>at</span> <span m=''4550070''>you</span>
  <span m=''4551880''>even</span> <span m=''4552120''>though</span> <span m=''4552280''>you
  say,</span> <span m=''4552430''>it''s</span> <span m=''4552820''>the</span> <span
  m=''4552910''>same</span> <span m=''4553150''>thing.</span> <span m=''4555910''>But</span>
  <span m=''4556090''>what''s</span> <span m=''4556300''>going</span> <span m=''4556570''>on</span>
  <span m=''4556850''>is</span> <span m=''4557030''>you''re</span> <span m=''4557240''>actually</span>
  <span m=''4557660''>taking</span> <span m=''4558070''>the</span> <span m=''4558180''>base,</span>
  <span m=''4559520''>the</span> <span m=''4559890''>address</span> <span m=''4560270''>of
  a,</span> <span m=''4560660''>you''re</span> <span m=''4560830''>adding</span> <span
  m=''4561210''>eight</span> <span m=''4561460''>to</span> <span m=''4561740''>it,</span>
  <span m=''4562220''>and</span> <span m=''4562380''>then</span> <span m=''4562570''>dereferencing</span>
  <span m=''4563400''>that</span> <span m=''4563700''>value.</span> </p><p><span m=''4565130''>And</span>
  <span m=''4565300''>indeed,</span> <span m=''4565830''>even</span> <span m=''4566110''>in</span>
  <span m=''4566240''>C,</span> <span m=''4567110''>they</span> <span m=''4567200''>actually</span>
  <span m=''4567500''>do</span> <span m=''4567670''>all</span> <span m=''4567800''>the</span>
  <span m=''4567930''>coercions,</span> <span m=''4568680''>even</span> <span m=''4568930''>if</span>
  <span m=''4569120''>eight</span> <span m=''4569350''>is</span> <span m=''4569500''>a</span>
  <span m=''4569550''>different</span> <span m=''4570240''>type,</span> <span m=''4570570''>it</span>
  <span m=''4570700''>actually</span> <span m=''4570980''>does</span> <span m=''4571260''>the</span>
  <span m=''4571340''>coercions</span> <span m=''4572160''>properly</span> <span m=''4572690''>so
  that</span> <span m=''4572860''>they</span> <span m=''4573100''>are</span> <span
  m=''4573260''>actually</span> <span m=''4573620''>the</span> <span m=''4573690''>same</span>
  <span m=''4573990''>thing.</span> <span m=''4574620''>Because</span> <span m=''4574800''>it</span>
  <span m=''4574920''>does</span> <span m=''4575200''>them</span> <span m=''4575340''>after</span>
  <span m=''4575920''>it''s</span> <span m=''4576210''>converted</span> <span m=''4576680''>it</span>
  <span m=''4576810''>into</span> <span m=''4577530''>a</span> <span m=''4577860''>dereference</span>
  <span m=''4578460''>of</span> <span m=''4581090''>a</span> <span m=''4581320''>plus</span>
  <span m=''4581650''>8.</span> <span m=''4582090''>So</span> <span m=''4582480''>it''s</span>
  <span m=''4582700''>kind</span> <span m=''4582890''>of</span> <span m=''4583360''>interesting</span>
  <span m=''4583940''>that</span> <span m=''4584670''>it</span> <span m=''4585260''>works</span>
  <span m=''4585610''>right</span> <span m=''4586010''>even</span> <span m=''4586290''>though</span>
  <span m=''4587220''>when</span> <span m=''4587580''>I</span> <span m=''4587680''>looked</span>
  <span m=''4587900''>at</span> <span m=''4587970''>that</span> <span m=''4588090''>I</span>
  <span m=''4588160''>say,</span> <span m=''4588290''>well,</span> <span m=''4588600''>what</span>
  <span m=''4588730''>if</span> <span m=''4588820''>it''s</span> <span m=''4588980''>bytes</span>
  <span m=''4589420''>verses</span> <span m=''4590850''>words</span> <span m=''4591250''>and</span>
  <span m=''4591400''>so</span> <span m=''4591560''>forth?</span> <span m=''4592560''>Yeah?</span>
  <span m=''4592750''>Question?</span> </p><p><span m=''4594004''>AUDIENCE: Will there
  be</span> <span m=''4594481''>a</span> <span m=''4594958''>performance</span> <span
  m=''4595435''>difference</span> <span m=''4596389''>between</span> <span m=''4597270''>putting</span>
  <span m=''4597670''>data</span> <span m=''4598142''>on</span> <span m=''4598614''>those</span>
  <span m=''4600030''>three</span> <span m=''4600502''>different</span> <span m=''4600974''>arrays?</span>
  </p><p><span m=''4601450''>CHARLES LEISERSON: Yes,</span> <span m=''4602460''>there
  can</span> <span m=''4602910''>be.</span> <span m=''4603140''>In</span> <span m=''4603260''>particular,</span>
  <span m=''4603630''>static</span> <span m=''4604090''>array,</span> <span m=''4605080''>it</span>
  <span m=''4605330''>knows</span> <span m=''4605730''>exactly</span> <span m=''4606290''>where</span>
  <span m=''4606470''>the</span> <span m=''4606730''>base</span> <span m=''4606900''>pointer</span>
  <span m=''4607260''>is</span> <span m=''4607420''>as</span> <span m=''4607540''>a</span>
  <span m=''4607600''>constant.</span> <span m=''4608770''>Whereas</span> <span m=''4609170''>the</span>
  <span m=''4609310''>others</span> <span m=''4609630''>it</span> <span m=''4609720''>has</span>
  <span m=''4610000''>to</span> <span m=''4610110''>actually</span> <span m=''4610480''>figure</span>
  <span m=''4610830''>out</span> <span m=''4611060''>where</span> <span m=''4611400''>it</span>
  <span m=''4611470''>is</span> <span m=''4611850''>in the</span> <span m=''4611920''>heap</span>
  <span m=''4612160''>you</span> <span m=''4612240''>need</span> <span m=''4612430''>a</span>
  <span m=''4612470''>pointer</span> <span m=''4613340''>to</span> <span m=''4613480''>it</span>
  <span m=''4613600''>to</span> <span m=''4613680''>dereference</span> <span m=''4613840''>it.</span>
  <span m=''4614220''>It</span> <span m=''4614400''>can''t</span> <span m=''4615050''>put</span>
  <span m=''4615220''>it</span> <span m=''4615330''>right</span> <span m=''4615560''>into</span>
  <span m=''4615810''>the</span> <span m=''4615980''>instruction</span> <span m=''4616480''>stream</span>
  <span m=''4616770''>itself.</span> </p><p><span m=''4617716''>AUDIENCE: [INAUDIBLE]</span>
  <span m=''4621524''>those</span> <span m=''4622000''>would be</span> <span m=''4622390''>just</span>
  <span m=''4622700''>constant</span> <span m=''4623010''>[INAUDIBLE],</span> <span
  m=''4623488''>right?</span> <span m=''4623966''>So I</span> <span m=''4624444''>can
  either</span> <span m=''4624922''>put that</span> <span m=''4625400''>in the</span>
  <span m=''4626356''>static</span> <span m=''4626834''>array or--</span> </p><p><span
  m=''4628746''>CHARLES LEISERSON: Yes,</span> <span m=''4629224''>generally</span>
  <span m=''4629702''>it''s</span> <span m=''4630180''>faster</span> <span m=''4630660''>to
  have</span> <span m=''4630940''>it in a</span> <span m=''4631220''>static</span>
  <span m=''4631590''>array</span> <span m=''4631930''>if</span> <span m=''4632020''>you</span>
  <span m=''4632110''>can.</span> <span m=''4634430''>I</span> <span m=''4634480''>want</span>
  <span m=''4634620''>to</span> <span m=''4634660''>finish</span> <span m=''4634980''>up</span>
  <span m=''4635130''>here</span> <span m=''4635290''>so</span> <span m=''4635480''>that--</span>
  <span m=''4636740''>We</span> <span m=''4637020''>have</span> <span m=''4637560''>structs.</span>
  <span m=''4638250''>Structs</span> <span m=''4638555''>are</span> <span m=''4638860''>just</span>
  <span m=''4639110''>blocks</span> <span m=''4639450''>of</span> <span m=''4639510''>memory</span>
  <span m=''4639850''>also.</span> <span m=''4641470''>So</span> <span m=''4641590''>you
  can</span> <span m=''4641750''>have</span> <span m=''4642090''>a</span> <span m=''4642370''>bunch</span>
  <span m=''4642650''>of</span> <span m=''4642760''>things</span> <span m=''4643000''>here.</span>
  <span m=''4643190''>This</span> <span m=''4643430''>is</span> <span m=''4643640''>a</span>
  <span m=''4644730''>bad</span> <span m=''4645090''>way</span> <span m=''4645340''>to</span>
  <span m=''4645460''>declare a</span> <span m=''4645910''>struct</span> <span m=''4646860''>because</span>
  <span m=''4647220''>the</span> <span m=''4647310''>fields</span> <span m=''4647750''>are</span>
  <span m=''4647850''>stored</span> <span m=''4648240''>next</span> <span m=''4648520''>to</span>
  <span m=''4648560''>each</span> <span m=''4648810''>other</span> <span m=''4649040''>generally</span>
  <span m=''4649460''>in</span> <span m=''4649560''>the</span> <span m=''4649660''>order</span>
  <span m=''4649960''>you</span> <span m=''4650110''>give</span> <span m=''4650360''>them.</span>
  <span m=''4652240''>So</span> <span m=''4652390''>here</span> <span m=''4652720''>it</span>
  <span m=''4652760''>says</span> <span m=''4653080''>it''s</span> <span m=''4653290''>x</span>
  <span m=''4653700''>and</span> <span m=''4653810''>then</span> <span m=''4653990''>i</span>
  <span m=''4654300''>and</span> <span m=''4654890''>double.</span> </p><p><span m=''4655470''>What</span>
  <span m=''4655670''>happens</span> <span m=''4656120''>here</span> <span m=''4656380''>is</span>
  <span m=''4656990''>you</span> <span m=''4657050''>have</span> <span m=''4657140''>to</span>
  <span m=''4657230''>be</span> <span m=''4657400''>careful</span> <span m=''4657740''>about</span>
  <span m=''4658240''>alignment</span> <span m=''4659360''>issues.</span> <span m=''4659930''>So
  if</span> <span m=''4660390''>you</span> <span m=''4660490''>do</span> <span m=''4660720''>[?
  char, ?]</span> <span m=''4661400''>it''s</span> <span m=''4661560''>then</span>
  <span m=''4661760''>got</span> <span m=''4661950''>to</span> <span m=''4662020''>pad</span>
  <span m=''4662290''>it</span> <span m=''4662560''>out</span> <span m=''4663200''>to</span>
  <span m=''4663300''>get</span> <span m=''4663610''>to</span> <span m=''4663890''>the</span>
  <span m=''4664110''>next</span> <span m=''4664330''>alignment</span> <span m=''4664950''>for</span>
  <span m=''4665205''>an</span> <span m=''4665460''>int.</span> <span m=''4665740''>And
  it''s</span> <span m=''4665830''>got</span> <span m=''4665940''>to</span> <span
  m=''4665990''>pad</span> <span m=''4666320''>that</span> <span m=''4666560''>out</span>
  <span m=''4666820''>to</span> <span m=''4666900''>get</span> <span m=''4667110''>the</span>
  <span m=''4667280''>next</span> <span m=''4667460''>alignment</span> <span m=''4667930''>for
  a</span> <span m=''4668080''>double.</span> <span m=''4668970''>Whereas</span> <span
  m=''4669200''>if</span> <span m=''4669320''>you</span> <span m=''4669420''>do</span>
  <span m=''4669590''>it</span> <span m=''4669670''>in</span> <span m=''4669760''>the</span>
  <span m=''4669900''>opposite</span> <span m=''4670280''>order,</span> <span m=''4670940''>it</span>
  <span m=''4671080''>starts</span> <span m=''4671380''>packing</span> <span m=''4671810''>them.</span>
  <span m=''4672580''>So</span> <span m=''4672750''>generally</span> <span m=''4673180''>it''s</span>
  <span m=''4673380''>best</span> <span m=''4673680''>to</span> <span m=''4673770''>declare</span>
  <span m=''4674160''>longer</span> <span m=''4674510''>fields</span> <span m=''4674880''>before</span>
  <span m=''4675220''>shorter</span> <span m=''4675600''>fields</span> <span m=''4676350''>because</span>
  <span m=''4676610''>then</span> <span m=''4676750''>you</span> <span m=''4677165''>know</span>
  <span m=''4677580''>when</span> <span m=''4677700''>you''re</span> <span m=''4677780''>finished
  with</span> <span m=''4678050''>the</span> <span m=''4678190''>longer</span> <span
  m=''4678560''>fields,</span> <span m=''4678870''>you''re</span> <span m=''4678980''>already</span>
  <span m=''4679410''>aligned</span> <span m=''4679950''>for</span> <span m=''4680090''>shorter</span>
  <span m=''4680410''>fields.</span> </p><p><span m=''4683660''>Like</span> <span
  m=''4683870''>arrays,</span> <span m=''4684290''>there are</span> <span m=''4684410''>static,</span>
  <span m=''4684810''>dynamic,</span> <span m=''4685370''>and</span> <span m=''4685440''>local</span>
  <span m=''4685740''>structs.</span> <span m=''4686430''>So</span> <span m=''4686580''>that''s</span>
  <span m=''4686820''>all</span> <span m=''4686940''>they</span> <span m=''4687050''>are.</span>
  <span m=''4687340''>And</span> <span m=''4687520''>so</span> <span m=''4688010''>you''ll</span>
  <span m=''4688180''>see</span> <span m=''4688390''>in</span> <span m=''4688480''>the</span>
  <span m=''4688600''>indexing--</span> </p><p><span m=''4691590''>There''s</span>
  <span m=''4691780''>also</span> <span m=''4692110''>stuff</span> <span m=''4692590''>that--</span>
  <span m=''4693600''>and</span> <span m=''4693950''>actually</span> <span m=''4694220''>this</span>
  <span m=''4694360''>is</span> <span m=''4694490''>important</span> <span m=''4694990''>for</span>
  <span m=''4695110''>one</span> <span m=''4695330''>of</span> <span m=''4695430''>the</span>
  <span m=''4697870''>binary</span> <span m=''4698330''>puzzles</span> <span m=''4698760''>we</span>
  <span m=''4698870''>gave</span> <span m=''4699180''>to</span> <span m=''4699270''>figure</span>
  <span m=''4699540''>out</span> <span m=''4699690''>what</span> <span m=''4699840''>it</span>
  <span m=''4699960''>does--</span> <span m=''4701960''>there</span> <span m=''4702480''>are
  what are</span> <span m=''4702620''>called</span> <span m=''4702890''>SIMD</span>
  <span m=''4703360''>instruction.</span> <span m=''4703950''>This</span> <span m=''4704120''>is</span>
  <span m=''4704240''>single</span> <span m=''4704690''>instruction</span> <span m=''4705350''>multiple</span>
  <span m=''4705810''>data</span> <span m=''4706300''>instructions</span> <span m=''4707220''>where
  a</span> <span m=''4707470''>single</span> <span m=''4707810''>instruction</span>
  <span m=''4708440''>operates</span> <span m=''4709080''>on</span> <span m=''4709740''>multiple</span>
  <span m=''4710210''>pieces</span> <span m=''4710610''>of</span> <span m=''4710690''>data.</span>
  <span m=''4712980''>They</span> <span m=''4713140''>operate</span> <span m=''4713460''>on</span>
  <span m=''4713570''>smaller</span> <span m=''4714020''>vectors.</span> <span m=''4714550''>And</span>
  <span m=''4714900''>there</span> <span m=''4715070''>are</span> <span m=''4715430''>16</span>
  <span m=''4716010''>128-bit</span> <span m=''4716950''>XMM</span> <span m=''4717690''>registers,</span>
  <span m=''4719600''>which</span> <span m=''4719890''>you</span> <span m=''4720000''>can</span>
  <span m=''4720260''>view</span> <span m=''4720570''>as</span> <span m=''4720800''>two</span>
  <span m=''4721270''>64-bit</span> <span m=''4721740''>values</span> <span m=''4722170''>or</span>
  <span m=''4722330''>four</span> <span m=''4722660''>32-bit</span> <span m=''4723390''>values.</span>
  <span m=''4724160''>And</span> <span m=''4724300''>you</span> <span m=''4724400''>can</span>
  <span m=''4724530''>do</span> <span m=''4724690''>an</span> <span m=''4724900''>operation</span>
  <span m=''4725730''>on it.</span> <span m=''4725860''>So</span> <span m=''4726000''>this</span>
  <span m=''4726170''>is</span> <span m=''4726280''>used</span> <span m=''4726570''>for</span>
  <span m=''4726700''>multimedia,</span> <span m=''4727880''>for</span> <span m=''4728070''>streaming</span>
  <span m=''4728520''>applications,</span> <span m=''4729910''>and</span> <span m=''4730090''>so</span>
  <span m=''4730270''>forth</span> <span m=''4730530''>where you''re</span> <span
  m=''4730660''>trying</span> <span m=''4730760''>to</span> <span m=''4730860''>shove</span>
  <span m=''4731130''>a</span> <span m=''4731180''>lot</span> <span m=''4731460''>of</span>
  <span m=''4731530''>data</span> <span m=''4732170''>through</span> <span m=''4732450''>and</span>
  <span m=''4732560''>you''re</span> <span m=''4732680''>doing</span> <span m=''4733020''>the</span>
  <span m=''4733120''>same</span> <span m=''4733540''>repeated</span> <span m=''4733960''>stuff</span>
  <span m=''4734330''>on</span> <span m=''4734620''>the</span> <span m=''4734970''>things</span>
  <span m=''4735210''>at</span> <span m=''4735320''>time.</span> </p><p><span m=''4736270''>So</span>
  <span m=''4736450''>there</span> <span m=''4736730''>are</span> <span m=''4736930''>instructions</span>
  <span m=''4737500''>that</span> <span m=''4737620''>operate</span> <span m=''4738100''>on</span>
  <span m=''4738200''>multiple</span> <span m=''4738560''>values.</span> <span m=''4739160''>For</span>
  <span m=''4739250''>example,</span> <span m=''4739630''>here</span> <span m=''4739900''>we''re</span>
  <span m=''4740030''>moving</span> <span m=''4740840''>four</span> <span m=''4741140''>32-bit</span>
  <span m=''4741790''>ints</span> <span m=''4744210''>into</span> <span m=''4744550''>this</span>
  <span m=''4744750''>particular</span> <span m=''4745860''>XMM</span> <span m=''4746360''>register.</span>
  <span m=''4747370''>And</span> <span m=''4747890''>similarly</span> <span m=''4748950''>here''s</span>
  <span m=''4749180''>another</span> <span m=''4749430''>one,</span> <span m=''4749600''>we''re</span>
  <span m=''4749790''>adding</span> <span m=''4750110''>it.</span> <span m=''4750650''>And</span>
  <span m=''4750830''>you</span> <span m=''4751010''>can</span> <span m=''4751100''>look</span>
  <span m=''4751260''>at</span> <span m=''4751320''>the</span> <span m=''4751400''>manual</span>
  <span m=''4751790''>for</span> <span m=''4751920''>these.</span> <span m=''4752750''>So</span>
  <span m=''4754650''>you</span> <span m=''4755150''>may</span> <span m=''4755380''>come</span>
  <span m=''4755560''>across</span> <span m=''4756060''>these</span> <span m=''4756360''>because</span>
  <span m=''4757640''>they''re</span> <span m=''4758030''>using</span> <span m=''4758470''>up</span>
  <span m=''4758530''>parts</span> <span m=''4758740''>of the</span> <span m=''4758960''>machine.</span>
  <span m=''4759450''>Mostly</span> <span m=''4760690''>those are</span> <span m=''4760980''>the</span>
  <span m=''4761080''>kinds</span> <span m=''4761330''>of</span> <span m=''4761400''>things</span>
  <span m=''4761620''>we can</span> <span m=''4761970''>say</span> <span m=''4762600''>look</span>
  <span m=''4762810''>it</span> <span m=''4762890''>up</span> <span m=''4762990''>in</span>
  <span m=''4763060''>the</span> <span m=''4763130''>manual,</span> <span m=''4763530''>because</span>
  <span m=''4763810''>nobody''s</span> <span m=''4764130''>going</span> <span m=''4764190''>to</span>
  <span m=''4764260''>remember</span> <span m=''4764640''>all</span> <span m=''4764790''>those</span>
  <span m=''4765030''>instructions.</span> <span m=''4765730''>Of</span> <span m=''4766000''>course,</span>
  <span m=''4766250''>if</span> <span m=''4766340''>you</span> <span m=''4766460''>get</span>
  <span m=''4767040''>a</span> <span m=''4767150''>job</span> <span m=''4767530''>with</span>
  <span m=''4771010''>one</span> <span m=''4771240''>of</span> <span m=''4771320''>the</span>
  <span m=''4771630''>graphics</span> <span m=''4772130''>companies,</span> <span
  m=''4773110''>then</span> <span m=''4773250''>you</span> <span m=''4773340''>may</span>
  <span m=''4773560''>become</span> <span m=''4773890''>very</span> <span m=''4774120''>familiar</span>
  <span m=''4775020''>with</span> <span m=''4775170''>these</span> <span m=''4775410''>kinds</span>
  <span m=''4775760''>of</span> <span m=''4776050''>instructions.</span> </p><p><span
  m=''4778080''>There''s</span> <span m=''4778500''>a</span> <span m=''4778540''>lot</span>
  <span m=''4778900''>more</span> <span m=''4779615''>C</span> <span m=''4779870''>and</span>
  <span m=''4779980''>C++</span> <span m=''4780910''>constructs</span> <span m=''4781390''>that
  we</span> <span m=''4781470''>don''t</span> <span m=''4781630''>have</span> <span
  m=''4781800''>to</span> <span m=''4781890''>go</span> <span m=''4782090''>into.</span>
  <span m=''4782750''>You</span> <span m=''4782880''>can</span> <span m=''4783020''>have</span>
  <span m=''4783160''>arrays</span> <span m=''4783515''>of</span> <span m=''4783770''>structs</span>
  <span m=''4785090''>versus</span> <span m=''4785380''>structs</span> <span m=''4785710''>of</span>
  <span m=''4785880''>arrays.</span> <span m=''4786450''>And</span> <span m=''4786640''>there</span>
  <span m=''4786750''>can</span> <span m=''4786880''>be</span> <span m=''4787010''>a</span>
  <span m=''4787040''>difference</span> <span m=''4787530''>in</span> <span m=''4787650''>performance.</span>
  <span m=''4790860''>If</span> <span m=''4791070''>you</span> <span m=''4791290''>have</span>
  <span m=''4792196''>an</span> <span m=''4792540''>array</span> <span m=''4794371''>of</span>
  <span m=''4794760''>structs,</span> <span m=''4795950''>then</span> <span m=''4796100''>it</span>
  <span m=''4796210''>makes</span> <span m=''4796510''>it,</span> <span m=''4796590''>if</span>
  <span m=''4796710''>you''re</span> <span m=''4796840''>accessing</span> <span m=''4797390''>one</span>
  <span m=''4797830''>struct,</span> <span m=''4798450''>you</span> <span m=''4798560''>can</span>
  <span m=''4798680''>access</span> <span m=''4799050''>the</span> <span m=''4799190''>other</span>
  <span m=''4799530''>structs</span> <span m=''4799990''>very</span> <span m=''4800300''>easily.</span>
  </p><p><span m=''4801880''>But</span> <span m=''4802070''>if</span> <span m=''4802150''>you''re</span>
  <span m=''4802250''>using</span> <span m=''4802640''>things</span> <span m=''4802890''>like</span>
  <span m=''4803640''>the</span> <span m=''4804390''>SSC</span> <span m=''4804900''>instructions,</span>
  <span m=''4806590''>then</span> <span m=''4807780''>it</span> <span m=''4807950''>may</span>
  <span m=''4808130''>be</span> <span m=''4808260''>better</span> <span m=''4808570''>to</span>
  <span m=''4808640''>have</span> <span m=''4808770''>structs</span> <span m=''4809140''>of</span>
  <span m=''4809420''>arrays.</span> <span m=''4809970''>Because</span> <span m=''4810370''>then</span>
  <span m=''4810850''>when</span> <span m=''4810960''>you''re</span> <span m=''4811070''>access</span>
  <span m=''4811440''>an</span> <span m=''4811490''>array,</span> <span m=''4811890''>you</span>
  <span m=''4812010''>can</span> <span m=''4812140''>stream</span> <span m=''4813570''>what''s</span>
  <span m=''4813810''>called</span> <span m=''4814000''>a</span> <span m=''4814040''>stride</span>
  <span m=''4814720''>of</span> <span m=''4814850''>one,</span> <span m=''4815920''>a</span>
  <span m=''4816150''>regular</span> <span m=''4816680''>stride</span> <span m=''4817070''>of</span>
  <span m=''4817160''>just</span> <span m=''4817420''>one</span> <span m=''4817740''>memory</span>
  <span m=''4818010''>location</span> <span m=''4818540''>after</span> <span m=''4818730''>the</span>
  <span m=''4818920''>next,</span> <span m=''4819760''>to</span> <span m=''4819910''>do</span>
  <span m=''4820080''>the</span> <span m=''4820170''>processing.</span> <span m=''4822310''>So</span>
  <span m=''4822780''>the</span> <span m=''4822910''>hardware</span> <span m=''4823280''>doesn''t</span>
  <span m=''4823580''>work</span> <span m=''4823780''>as</span> <span m=''4823900''>well</span>
  <span m=''4824110''>if</span> <span m=''4824230''>you</span> <span m=''4824350''>skip</span>
  <span m=''4824710''>by</span> <span m=''4825090''>seventeens</span> <span m=''4827280''>to</span>
  <span m=''4827380''>gather</span> <span m=''4827710''>things</span> <span m=''4828030''>compared</span>
  <span m=''4828370''>if</span> <span m=''4828470''>you</span> <span m=''4828570''>just</span>
  <span m=''4828770''>get</span> <span m=''4828930''>one</span> <span m=''4829140''>thing</span>
  <span m=''4829330''>after</span> <span m=''4829600''>the</span> <span m=''4829790''>next.</span>
  <span m=''4829980''>Because</span> <span m=''4830150''>there''s</span> <span m=''4830300''>prefetching</span>
  <span m=''4830950''>logic</span> <span m=''4831720''>that</span> <span m=''4831830''>tries</span>
  <span m=''4832160''>to</span> <span m=''4832260''>fetch</span> <span m=''4832590''>things</span>
  <span m=''4832810''>from</span> <span m=''4832910''>memory</span> <span m=''4833230''>faster.</span>
  </p><p><span m=''4834620''>There</span> <span m=''4834750''>are</span> <span m=''4834780''>things</span>
  <span m=''4835050''>like</span> <span m=''4835270''>function</span> <span m=''4835680''>pointers.</span>
  <span m=''4836570''>So</span> <span m=''4836680''>you</span> <span m=''4836750''>can</span>
  <span m=''4836940''>have</span> <span m=''4837130''>store</span> <span m=''4837450''>function</span>
  <span m=''4838590''>pointer</span> <span m=''4839370''>into</span> <span m=''4839650''>something</span>
  <span m=''4840160''>and</span> <span m=''4840380''>then</span> <span m=''4840920''>call</span>
  <span m=''4841320''>that</span> <span m=''4841590''>function</span> <span m=''4842090''>indirectly.</span>
  <span m=''4844720''>There''s</span> <span m=''4844950''>things</span> <span m=''4845250''>like</span>
  <span m=''4845320''>bit</span> <span m=''4845620''>fields</span> <span m=''4846010''>in</span>
  <span m=''4846200''>arrays.</span> <span m=''4847310''>There are</span> <span m=''4847610''>objects,</span>
  <span m=''4848260''>virtual</span> <span m=''4848620''>function</span> <span m=''4849040''>tables.</span>
  <span m=''4849460''>We''ll</span> <span m=''4849560''>get</span> <span m=''4849690''>into</span>
  <span m=''4849870''>some</span> <span m=''4850070''>of</span> <span m=''4850130''>these</span>
  <span m=''4850740''>when we</span> <span m=''4850900''>do</span> <span m=''4851000''>C++.</span>
  <span m=''4852080''>And</span> <span m=''4852210''>there''s</span> <span m=''4852350''>a</span>
  <span m=''4852390''>variety</span> <span m=''4852800''>of</span> <span m=''4852870''>stuff</span>
  <span m=''4853290''>having</span> <span m=''4853580''>to</span> <span m=''4853620''>do</span>
  <span m=''4853740''>with</span> <span m=''4853860''>memory</span> <span m=''4854170''>management</span>
  <span m=''4854770''>that</span> <span m=''4854870''>we''ll</span> <span m=''4855310''>talk</span>
  <span m=''4855540''>about.</span> </p><p><span m=''4856250''>But</span> <span m=''4856300''>this</span>
  <span m=''4856460''>is</span> <span m=''4856580''>mainly</span> <span m=''4857570''>to</span>
  <span m=''4857680''>get</span> <span m=''4857920''>you</span> <span m=''4858110''>folks</span>
  <span m=''4858660''>sort</span> <span m=''4858920''>of</span> <span m=''4859040''>at</span>
  <span m=''4859340''>the</span> <span m=''4859420''>level</span> <span m=''4859890''>where</span>
  <span m=''4860230''>you</span> <span m=''4860380''>can sort of</span> <span m=''4860780''>understand</span>
  <span m=''4861460''>and</span> <span m=''4861590''>feel</span> <span m=''4861810''>comfortable</span>
  <span m=''4862840''>with</span> <span m=''4863090''>dealing</span> <span m=''4863470''>with</span>
  <span m=''4863660''>the</span> <span m=''4864190''>assembler.</span> <span m=''4865170''>And</span>
  <span m=''4865310''>you''ll</span> <span m=''4865410''>see</span> <span m=''4865640''>that</span>
  <span m=''4866250''>those</span> <span m=''4866530''>resources</span> <span m=''4867140''>are</span>
  <span m=''4867220''>pretty</span> <span m=''4867440''>good</span> <span m=''4867610''>resources.</span>
  <span m=''4868440''>But</span> <span m=''4870130''>the</span> <span m=''4870220''>basics</span>
  <span m=''4870630''>are</span> <span m=''4870960''>relatively</span> <span m=''4871430''>simple,</span>
  <span m=''4871730''>but</span> <span m=''4871850''>it''s</span> <span m=''4871950''>hard</span>
  <span m=''4872180''>to</span> <span m=''4872260''>do it</span> <span m=''4872440''>without</span>
  <span m=''4872740''>a</span> <span m=''4872790''>manual</span> <span m=''4873220''>or</span>
  <span m=''4873290''>some</span> <span m=''4873680''>online</span> <span m=''4874820''>reference</span>
  <span m=''4875190''>material.</span> <span m=''4878110''>Any</span> <span m=''4878290''>questions?</span>
  <span m=''4882500''>What</span> <span m=''4882660''>are</span> <span m=''4882750''>the</span>
  <span m=''4882850''>first</span> <span m=''4883230''>two</span> <span m=''4883360''>lessons</span>
  <span m=''4883780''>I</span> <span m=''4883880''>taught</span> <span m=''4884170''>you</span>
  <span m=''4884260''>today?</span> <span m=''4886770''>Number</span> <span m=''4887010''>one</span>
  <span m=''4887330''>is--</span> </p><p><span m=''4888826''>AUDIENCE: [INAUDIBLE]</span>
  </p><p><span m=''4890260''>CHARLES LEISERSON: --write</span> <span m=''4890660''>tests</span>
  <span m=''4891230''>before</span> <span m=''4891640''>you</span> <span m=''4891780''>write</span>
  <span m=''4892090''>code.</span> <span m=''4892880''>And</span> <span m=''4893130''>what''s</span>
  <span m=''4893330''>the</span> <span m=''4893530''>second</span> <span m=''4893740''>lesson?</span>
  </p><p><span m=''4894990''>AUDIENCE: Pair</span> <span m=''4895370''>programming.</span>
  </p><p><span m=''4895750''>CHARLES LEISERSON: Pair</span> <span m=''4896080''>programming,</span>
  <span m=''4896690''>not</span> <span m=''4896950''>divide</span> <span m=''4897290''>and</span>
  <span m=''4897360''>conquer,</span> <span m=''4898360''>I teach</span> <span m=''4898860''>algorithms</span>
  <span m=''4900050''>where</span> <span m=''4900180''>divide and</span> <span m=''4900600''>conquer
  is</span> <span m=''4901010''>a</span> <span m=''4901060''>fabulous</span> <span
  m=''4901620''>technique.</span> <span m=''4903040''>With</span> <span m=''4903260''>programming,</span>
  <span m=''4903920''>pair</span> <span m=''4904210''>programming</span> <span m=''4905110''>is</span>
  <span m=''4905260''>going</span> <span m=''4905360''>to</span> <span m=''4905500''>have</span>
  <span m=''4905650''>you</span> <span m=''4905930''>generally</span> <span m=''4906410''>get</span>
  <span m=''4906660''>where</span> <span m=''4906920''>you</span> <span m=''4907030''>want</span>
  <span m=''4907180''>to</span> <span m=''4907220''>get</span> <span m=''4907480''>faster</span>
  <span m=''4909260''>than</span> <span m=''4909510''>if</span> <span m=''4909710''>you''re</span>
  <span m=''4910180''>programming</span> <span m=''4910840''>alone.</span> <span m=''4914915''>OK,</span>
  <span m=''4916250''>thank</span> <span m=''4916450''>you.</span> </p>'
uid: 09df8fad-1e45-ccf5-84d5-57cb2eaa3f62
---
