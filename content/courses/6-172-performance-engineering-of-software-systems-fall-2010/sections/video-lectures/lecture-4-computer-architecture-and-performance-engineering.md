---
about_this_resource_text: <p><strong>Description:</strong> Overview of computer architecture,
  profiling a program, and a set of example programs. Student performance on project
  1 is also discussed.</p> <p><strong>Speakers:</strong> Saman Amarasinghe, John Dong</p>
content_type: resource
course_id: 6-172-performance-engineering-of-software-systems-fall-2010
embedded_media:
- id: Video-InternetArchive-MP4
  media_location: http://www.archive.org/download/MIT6.172F10/MIT6_172_F10_lec04_300k.mp4
  parent_uid: 364c21a022d0dbf39df6737f16c6909c
  title: Video-Internet Archive-MP4
  type: Video
  uid: 4500495f925b1aa9fd09e206dc6a288a
- id: Video-iTunesU-MP4
  media_location: http://itunes.apple.com/us/itunes-u/lecture-4-computer-architecture/id481759887?i=109649096
  parent_uid: 364c21a022d0dbf39df6737f16c6909c
  title: Video-iTunes U-MP4
  type: Video
  uid: 80c6248faa70c00fc70babf8adeb47b5
- id: Video-YouTube-Stream
  media_location: 8dTMUigqBHM
  parent_uid: 364c21a022d0dbf39df6737f16c6909c
  title: Video-YouTube-Stream
  type: Video
  uid: b222794cbae5f51596d9c11de75edb7b
- id: Thumbnail-YouTube-JPG
  media_location: https://img.youtube.com/vi/8dTMUigqBHM/default.jpg
  parent_uid: 364c21a022d0dbf39df6737f16c6909c
  title: Thumbnail-YouTube-JPG
  type: Thumbnail
  uid: 271410817dac942226c85610630cd6bc
- id: MIT6_172F10_lec04.pdf
  parent_uid: 364c21a022d0dbf39df6737f16c6909c
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-172-performance-engineering-of-software-systems-fall-2010/video-lectures/lecture-4-computer-architecture-and-performance-engineering/MIT6_172F10_lec04.pdf
  title: MIT6_172F10_lec04.pdf
  type: null
  uid: 9f11cea837b5af9f9f0e45a04ec4c21b
- id: 3Play-3PlayYouTubeid-MP4
  media_location: 8dTMUigqBHM
  parent_uid: 364c21a022d0dbf39df6737f16c6909c
  title: 3Play-3Play YouTube id
  type: 3Play
  uid: 19a1c68a9cb024ed2e55adb293dccec3
- id: 8dTMUigqBHM.srt
  parent_uid: 364c21a022d0dbf39df6737f16c6909c
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-172-performance-engineering-of-software-systems-fall-2010/video-lectures/lecture-4-computer-architecture-and-performance-engineering/8dTMUigqBHM.srt
  title: 3play caption file
  type: null
  uid: 233304c455677b686d1b52407f8eebbd
- id: 8dTMUigqBHM.pdf
  parent_uid: 364c21a022d0dbf39df6737f16c6909c
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-172-performance-engineering-of-software-systems-fall-2010/video-lectures/lecture-4-computer-architecture-and-performance-engineering/8dTMUigqBHM.pdf
  title: 3play pdf file
  type: null
  uid: 41197aff48ef84d8f521a3c31a8bf3c2
- id: Caption-3Play YouTube id-SRT
  parent_uid: 364c21a022d0dbf39df6737f16c6909c
  title: Caption-3Play YouTube id-SRT-English - US
  type: Caption
  uid: fe68ba610483b807f3213dabcf7b230a
- id: Transcript-3Play YouTube id-PDF
  parent_uid: 364c21a022d0dbf39df6737f16c6909c
  title: Transcript-3Play YouTube id-PDF-English - US
  type: Transcript
  uid: 1cf5bfd4b16490420c2ebb49045264b0
file: null
file_size: null
hide_download: true
hide_download_original: null
inline_embed_id: 56367458lecture4:computerarchitectureandperformanceengineering83908921
layout: video
license: https://creativecommons.org/licenses/by-nc-sa/4.0/
order_index: 39
parent_uid: 24169d0487e846a39c316276f85b8cb5
related_resources_text: ''
short_url: lecture-4-computer-architecture-and-performance-engineering
technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-172-performance-engineering-of-software-systems-fall-2010/video-lectures/lecture-4-computer-architecture-and-performance-engineering
title: 'Lecture 4: Computer Architecture and Performance Engineering'
transcript: '<p><span m=''2110''>The</span> <span m=''2220''>following</span> <span
  m=''2670''>content</span> <span m=''3260''>is</span> <span m=''3370''>provided</span>
  <span m=''3820''>under</span> <span m=''4110''>a</span> <span m=''4130''>Creative</span>
  <span m=''4540''>Commons</span> <span m=''4940''>license.</span> <span m=''5950''>Your</span>
  <span m=''6230''>support</span> <span m=''6750''>will</span> <span m=''6900''>help</span>
  <span m=''7140''>MIT</span> <span m=''7610''>OpenCourseWare</span> <span m=''8390''>continue</span>
  <span m=''8680''>to</span> <span m=''8980''>offer</span> <span m=''9410''>high</span>
  <span m=''9630''>quality</span> <span m=''10160''>educational</span> <span m=''10770''>resources</span>
  <span m=''11420''>for</span> <span m=''11560''>free.</span> <span m=''12640''>To</span>
  <span m=''12770''>make</span> <span m=''12970''>a</span> <span m=''13020''>donation</span>
  <span m=''13650''>or</span> <span m=''13960''>view</span> <span m=''14380''>additional</span>
  <span m=''14830''>materials</span> <span m=''15370''>from</span> <span m=''15530''>hundreds</span>
  <span m=''15960''>of</span> <span m=''16070''>MIT</span> <span m=''16500''>courses,</span>
  <span m=''17500''>visit</span> <span m=''17830''>MIT</span> <span m=''18250''>OpenCourseWare</span>
  <span m=''19280''>at</span> <span m=''19460''>ocw.mit.edu.</span> </p><p><span m=''32180''>SAMAN
  AMARASINGHE:</span> <span m=''33680''>Today</span> <span m=''35280''>I''m</span>
  <span m=''35570''>going</span> <span m=''35710''>to</span> <span m=''35860''>talk</span>
  <span m=''36070''>a</span> <span m=''36110''>little</span> <span m=''36380''>bit</span>
  <span m=''36520''>about</span> <span m=''36750''>computer</span> <span m=''37120''>architecture.</span>
  <span m=''37790''>And</span> <span m=''38590''>how</span> <span m=''39050''>computer</span>
  <span m=''39500''>architecture</span> <span m=''40130''>impacts</span> <span m=''40760''>performance</span>
  <span m=''41230''>engineering.</span> <span m=''42190''>So</span> <span m=''45460''>the</span>
  <span m=''45590''>main</span> <span m=''45860''>part</span> <span m=''46090''>of</span>
  <span m=''46200''>this</span> <span m=''46520''>is</span> <span m=''47100''>going</span>
  <span m=''47420''>through a</span> <span m=''47640''>long overview</span> <span
  m=''48210''>of</span> <span m=''49320''>the</span> <span m=''49410''>Pentium,</span>
  <span m=''49745''>the</span> <span m=''50080''>Nahalem</span> <span m=''50690''>architecture</span>
  <span m=''51290''>that</span> <span m=''52990''>in</span> <span m=''53150''>the</span>
  <span m=''53230''>machines</span> <span m=''53530''>that</span> <span m=''53670''>you</span>
  <span m=''53780''>guys</span> <span m=''54010''>are</span> <span m=''54060''>using,</span>
  <span m=''54470''>which</span> <span m=''54620''>is</span> <span m=''55570''>hot</span>
  <span m=''55970''>off</span> <span m=''56140''>the</span> <span m=''56230''>press.</span>
  <span m=''57790''>Six</span> <span m=''58210''>core</span> <span m=''59100''>processor</span>
  <span m=''59570''>that''s</span> <span m=''59780''>out</span> <span m=''59970''>there</span>
  <span m=''60150''>now.</span> </p><p><span m=''60730''>And</span> <span m=''61710''>then</span>
  <span m=''61870''>I</span> <span m=''61920''>will</span> <span m=''62040''>talk</span>
  <span m=''62220''>a</span> <span m=''62260''>little</span> <span m=''62460''>bit</span>
  <span m=''62610''>about</span> <span m=''63610''>profiling</span> <span m=''64170''>a</span>
  <span m=''64220''>program.</span> <span m=''65000''>And</span> <span m=''65480''>then</span>
  <span m=''65900''>the</span> <span m=''66200''>next</span> <span m=''66510''>lecture,</span>
  <span m=''67110''>the</span> <span m=''67200''>TAs</span> <span m=''67480''>are</span>
  <span m=''67760''>going</span> <span m=''67940''>to</span> <span m=''68120''>demonstrate</span>
  <span m=''68610''>how</span> <span m=''68820''>to</span> <span m=''69040''>use</span>
  <span m=''69320''>some</span> <span m=''69570''>of</span> <span m=''69650''>those</span>
  <span m=''69830''>profiling</span> <span m=''70370''>tools</span> <span m=''70690''>that</span>
  <span m=''70840''>you</span> <span m=''71000''>guys</span> <span m=''71270''>are</span>
  <span m=''71380''>supposed</span> <span m=''71670''>to</span> <span m=''71730''>use</span>
  <span m=''72310''>for</span> <span m=''72760''>the</span> <span m=''72870''>project</span>
  <span m=''73280''>two.</span> <span m=''73990''>And</span> <span m=''74520''>I</span>
  <span m=''74570''>guess</span> <span m=''74740''>the</span> <span m=''74810''>project</span>
  <span m=''75240''>two</span> <span m=''75360''>will</span> <span m=''75490''>probably</span>
  <span m=''75820''>appear,</span> <span m=''76770''>since</span> <span m=''77060''>we</span>
  <span m=''77160''>had</span> <span m=''77260''>a</span> <span m=''77360''>delay,</span>
  <span m=''77810''>so</span> <span m=''77930''>probably</span> <span m=''78210''>be</span>
  <span m=''78300''>up here</span> <span m=''78540''>24</span> <span m=''79140''>delayed.</span>
  <span m=''79880''>We''ll</span> <span m=''79930''>release</span> <span m=''80200''>the</span>
  <span m=''80455''>project,</span> <span m=''80710''>too,</span> <span m=''80810''>up
  there.</span> </p><p><span m=''82020''>And</span> <span m=''82380''>then</span>
  <span m=''82560''>at</span> <span m=''82700''>the</span> <span m=''82820''>end</span>
  <span m=''82940''>of</span> <span m=''83000''>the</span> <span m=''83840''>talk,</span>
  <span m=''84960''>end of</span> <span m=''85420''>the</span> <span m=''85520''>lecture,</span>
  <span m=''85940''>I''m going to</span> <span m=''86080''>talk</span> <span m=''86600''>about</span>
  <span m=''86990''>a</span> <span m=''87020''>little</span> <span m=''87350''>bit</span>
  <span m=''87480''>of</span> <span m=''87580''>example.</span> <span m=''88750''>Go</span>
  <span m=''88940''>to</span> <span m=''89140''>some</span> <span m=''89350''>program</span>
  <span m=''90120''>and</span> <span m=''90790''>show</span> <span m=''91960''>what</span>
  <span m=''92500''>you</span> <span m=''92810''>can</span> <span m=''93290''>gain</span>
  <span m=''93860''>by</span> <span m=''93990''>looking</span> <span m=''94520''>at</span>
  <span m=''94680''>things</span> <span m=''94930''>like</span> <span m=''97110''>profiling,</span>
  <span m=''98030''>and</span> <span m=''98230''>what</span> <span m=''98410''>information</span>
  <span m=''98910''>that</span> <span m=''99060''>you</span> <span m=''99200''>gain.</span>
  <span m=''99360''>Just</span> <span m=''99710''>kind</span> <span m=''99900''>of</span>
  <span m=''99970''>do</span> <span m=''100150''>a</span> <span m=''100290''>high</span>
  <span m=''100570''>level</span> <span m=''100730''>view.</span> </p><p><span m=''101980''>So</span>
  <span m=''103180''>let''s</span> <span m=''103410''>start</span> <span m=''104110''>something.</span>
  <span m=''104750''>So</span> <span m=''105790''>how many</span> <span m=''106020''>of</span>
  <span m=''106200''>you</span> <span m=''106570''>have</span> <span m=''110050''>had</span>
  <span m=''111420''>a chip</span> <span m=''111730''>in</span> <span m=''111910''>your</span>
  <span m=''112020''>hand.</span> <span m=''112300''>Microprocessor</span> <span m=''112830''>in
  your</span> <span m=''113110''>hand.</span> <span m=''114300''>Some.</span> <span
  m=''114590''>There''s</span> <span m=''114750''>some</span> <span m=''114910''>people</span>
  <span m=''115140''>who</span> <span m=''115250''>haven''t.</span> <span m=''115630''>So</span>
  <span m=''115960''>I</span> <span m=''116110''>brought</span> <span m=''116380''>some</span>
  <span m=''116540''>show</span> <span m=''116780''>and</span> <span m=''116930''>tell</span>
  <span m=''117110''>things.</span> <span m=''118330''>So</span> <span m=''119780''>what</span>
  <span m=''119980''>I''m</span> <span m=''120110''>going</span> <span m=''120310''>to
  do</span> <span m=''120470''>is pass</span> <span m=''120870''>them</span> <span
  m=''121030''>around.</span> <span m=''122650''>And</span> <span m=''123090''>there</span>
  <span m=''123210''>are</span> <span m=''123330''>two</span> <span m=''123760''>things</span>
  <span m=''124010''>that</span> <span m=''124190''>are</span> <span m=''124250''>actually</span>
  <span m=''124540''>very</span> <span m=''124670''>valuable</span> <span m=''124940''>that</span>
  <span m=''125260''>I</span> <span m=''125310''>want</span> <span m=''125490''>to</span>
  <span m=''125550''>tell you</span> <span m=''125890''>and</span> <span m=''126060''>then</span>
  <span m=''126300''>make</span> <span m=''126460''>sure</span> <span m=''126620''>that</span>
  <span m=''127020''>they</span> <span m=''127140''>don''t</span> <span m=''127310''>get</span>
  <span m=''127460''>damaged.</span> <span m=''128110''>So</span> <span m=''128789''>this</span>
  <span m=''129020''>is</span> <span m=''129310''>a</span> <span m=''129370''>Pentium</span>
  <span m=''129830''>3</span> <span m=''130660''>that''s</span> <span m=''131030''>already</span>
  <span m=''132580''>in</span> <span m=''133000''>a</span> <span m=''133080''>big</span>
  <span m=''133270''>heat</span> <span m=''133530''>sink</span> <span m=''133760''>in</span>
  <span m=''133870''>there.</span> </p><p><span m=''134770''>So</span> <span m=''135570''>you</span>
  <span m=''135700''>can''t</span> <span m=''136200''>see</span> <span m=''136330''>that</span>
  <span m=''136550''>much,</span> <span m=''136660''>but</span> <span m=''136910''>they''re</span>
  <span m=''137440''>really</span> <span m=''137610''>cute</span> <span m=''137880''>and</span>
  <span m=''138000''>they</span> <span m=''138170''>created</span> <span m=''138680''>a</span>
  <span m=''139150''>hologram</span> <span m=''139590''>of</span> <span m=''139760''>the</span>
  <span m=''140040''>chip</span> <span m=''140600''>and</span> <span m=''140770''>put</span>
  <span m=''140900''>it</span> <span m=''141000''>there</span> <span m=''141270''>so</span>
  <span m=''142340''>you</span> <span m=''142490''>can</span> <span m=''142640''>catch,</span>
  <span m=''144310''>I</span> <span m=''144440''>guess,</span> <span m=''145120''>people</span>
  <span m=''145300''>who</span> <span m=''145490''>are</span> <span m=''145540''>trying</span>
  <span m=''145790''>to</span> <span m=''147930''>use</span> <span m=''148220''>counterfeit</span>
  <span m=''148700''>and</span> <span m=''148810''>stuff</span> <span m=''149040''>like</span>
  <span m=''149210''>that.</span> <span m=''149610''>So</span> <span m=''149830''>this</span>
  <span m=''149970''>is</span> <span m=''150740''>MDK</span> <span m=''151630''>6</span>
  <span m=''152150''>with</span> <span m=''152640''>the</span> <span m=''152790''>packaging.</span>
  <span m=''153780''>I''m going to</span> <span m=''153910''>send</span> <span m=''154110''>it</span>
  <span m=''154460''>around</span> <span m=''154860''>in there.</span> </p><p><span
  m=''156740''>And</span> <span m=''158440''>this</span> <span m=''158830''>is</span>
  <span m=''159580''>a</span> <span m=''160780''>Pentium</span> <span m=''162390''>Pro.</span>
  <span m=''164300''>Normally</span> <span m=''164730''>what</span> <span m=''164890''>happens</span>
  <span m=''165210''>is</span> <span m=''165590''>that</span> <span m=''165730''>when
  the</span> <span m=''165810''>first</span> <span m=''166430''>dye</span> <span m=''166620''>comes</span>
  <span m=''166860''>out,</span> <span m=''166990''>this</span> <span m=''167180''>is</span>
  <span m=''167610''>humongous,</span> <span m=''168250''>giganiticized.</span> <span
  m=''169350''>But</span> <span m=''169580''>after</span> <span m=''170080''>a</span>
  <span m=''170220''>couple</span> <span m=''170360''>of</span> <span m=''170500''>generations,</span>
  <span m=''171080''>what</span> <span m=''171250''>you</span> <span m=''171390''>do</span>
  <span m=''171540''>is</span> <span m=''171670''>you</span> <span m=''171770''>take</span>
  <span m=''171950''>the</span> <span m=''172020''>same</span> <span m=''172340''>circuit</span>
  <span m=''172750''>and</span> <span m=''172880''>you</span> <span m=''173000''>shrink
  it</span> <span m=''173410''>and shrink</span> <span m=''173760''>it.</span> <span
  m=''174360''>This</span> <span m=''174520''>is</span> <span m=''174660''>probably</span>
  <span m=''174930''>what</span> <span m=''175150''>two</span> <span m=''175520''>shrinks--</span>
  <span m=''176190''>so</span> <span m=''176290''>the</span> <span m=''176420''>actual</span>
  <span m=''176920''>dye</span> <span m=''177230''>right</span> <span m=''177620''>now</span>
  <span m=''177720''>is very</span> <span m=''177830''>small</span> <span m=''178620''>because</span>
  <span m=''179000''>this</span> <span m=''179190''>is</span> <span m=''179380''>copper</span>
  <span m=''179650''>[UNINTELLIGIBLE PHRASE]</span> <span m=''180360''>later</span>
  <span m=''180660''>process</span> <span m=''181430''>that</span> <span m=''181620''>things</span>
  <span m=''181820''>have</span> <span m=''181970''>been</span> <span m=''182110''>shrunk.</span>
  </p><p><span m=''183770''>This</span> <span m=''183900''>is</span> <span m=''184250''>a</span>
  <span m=''184340''>Core</span> <span m=''184650''>Two</span> <span m=''184840''>Duo</span>
  <span m=''187370''>So</span> <span m=''189130''>I</span> <span m=''189510''>think</span>
  <span m=''189680''>there''s</span> <span m=''189830''>a</span> <span m=''189910''>two</span>
  <span m=''190170''>cores</span> <span m=''190430''>in there.</span> <span m=''191680''>So</span>
  <span m=''192370''>I</span> <span m=''192500''>didn''t</span> <span m=''192650''>want</span>
  <span m=''192820''>to</span> <span m=''192890''>bring</span> <span m=''193410''>anything</span>
  <span m=''193820''>newer</span> <span m=''194090''>because</span> <span m=''194430''>those</span>
  <span m=''195650''>chips</span> <span m=''195910''>are</span> <span m=''195980''>darn</span>
  <span m=''196260''>expensive,</span> <span m=''197030''>and</span> <span m=''197200''>if</span>
  <span m=''197290''>you</span> <span m=''197400''>touch</span> <span m=''197610''>it,</span>
  <span m=''198100''>basically</span> <span m=''198760''>just</span> <span m=''199300''>static</span>
  <span m=''199740''>will basically</span> <span m=''200190''>destroy</span> <span
  m=''200530''>the</span> <span m=''200610''>process.</span> <span m=''201580''>So</span>
  <span m=''203080''>these</span> <span m=''203270''>are</span> <span m=''203460''>something</span>
  <span m=''203850''>that</span> <span m=''204560''>came</span> <span m=''204840''>out</span>
  <span m=''204950''>of</span> <span m=''205790''>things</span> <span m=''206010''>that</span>
  <span m=''206160''>doesn''t</span> <span m=''206410''>work.</span> </p><p><span
  m=''207640''>The</span> <span m=''207730''>next</span> <span m=''208030''>two</span>
  <span m=''208170''>things.</span> <span m=''208500''>These</span> <span m=''208660''>are--</span>
  <span m=''209370''>I</span> <span m=''209510''>really</span> <span m=''209770''>need</span>
  <span m=''209920''>to</span> <span m=''209970''>get</span> <span m=''210140''>this</span>
  <span m=''210280''>[UNINTELLIGIBLE]</span> <span m=''210680''>because these</span>
  <span m=''210860''>are</span> <span m=''210940''>like</span> <span m=''211400''>the</span>
  <span m=''211650''>only</span> <span m=''211840''>thing</span> <span m=''212950''>that''s</span>
  <span m=''213710''>the</span> <span m=''214230''>one</span> <span m=''214950''>available</span>
  <span m=''215330''>in</span> <span m=''215440''>this</span> <span m=''215900''>world.</span>
  <span m=''216350''>Basically</span> <span m=''216460''>there''s</span> <span m=''216500''>only</span>
  <span m=''216880''>one</span> <span m=''217220''>of</span> <span m=''217350''>item.</span>
  <span m=''218020''>So</span> <span m=''218470''>at</span> <span m=''218720''>MIT,</span>
  <span m=''219941''>we</span> <span m=''220350''>build</span> <span m=''220520''>a</span>
  <span m=''220720''>process</span> <span m=''221150''>a</span> <span m=''221260''>couple</span>
  <span m=''221500''>of</span> <span m=''221620''>years</span> <span m=''221880''>ago</span>
  <span m=''222070''>called</span> <span m=''222280''>a</span> <span m=''222370''>row</span>
  <span m=''222580''>processor.</span> <span m=''223540''>So</span> <span m=''223760''>here''s</span>
  <span m=''224410''>a</span> <span m=''224480''>row</span> <span m=''224840''>dye</span>
  <span m=''225190''>before</span> <span m=''225540''>it''s</span> <span m=''225640''>being</span>
  <span m=''225800''>mounted.</span> <span m=''226760''>So</span> <span m=''226910''>this</span>
  <span m=''227120''>is</span> <span m=''227430''>what</span> <span m=''227770''>comes</span>
  <span m=''228130''>out</span> <span m=''228520''>after</span> <span m=''228950''>all</span>
  <span m=''229210''>the</span> <span m=''229300''>fabrication,</span> <span m=''229920''>before</span>
  <span m=''230260''>it</span> <span m=''230390''>goes</span> <span m=''230700''>into</span>
  <span m=''230870''>this</span> <span m=''231050''>mounting</span> <span m=''231620''>with</span>
  <span m=''231780''>all</span> <span m=''231900''>the</span> <span m=''232020''>pins.</span>
  </p><p><span m=''233010''>If</span> <span m=''233210''>you</span> <span m=''233300''>look</span>
  <span m=''233480''>at</span> <span m=''233600''>the</span> <span m=''233740''>top</span>
  <span m=''234030''>of</span> <span m=''234320''>this</span> <span m=''234570''>one,</span>
  <span m=''235340''>what</span> <span m=''235590''>do</span> <span m=''235740''>you</span>
  <span m=''235890''>see?</span> <span m=''236450''>It''s</span> <span m=''236790''>all
  these dots,</span> <span m=''237170''>which</span> <span m=''237410''>are</span>
  <span m=''237745''>basically</span> <span m=''238080''>where</span> <span m=''238410''>all</span>
  <span m=''238550''>the</span> <span m=''238740''>pins</span> <span m=''239120''>go.</span>
  <span m=''239880''>So</span> <span m=''240010''>you</span> <span m=''240140''>don''t</span>
  <span m=''240270''>actually</span> <span m=''240540''>even</span> <span m=''240750''>see</span>
  <span m=''240920''>inside</span> <span m=''241290''>the</span> <span m=''241380''>dye</span>
  <span m=''241600''>in</span> <span m=''241740''>this</span> <span m=''242170''>one.</span>
  <span m=''242620''>However,</span> <span m=''243070''>then</span> <span m=''243290''>you</span>
  <span m=''243730''>pay</span> <span m=''243870''>a</span> <span m=''243930''>bunch</span>
  <span m=''244180''>of</span> <span m=''244260''>money</span> <span m=''244520''>to</span>
  <span m=''244610''>these</span> <span m=''244830''>people</span> <span m=''245100''>who</span>
  <span m=''245370''>go</span> <span m=''245650''>and</span> <span m=''245890''>grind</span>
  <span m=''246320''>that</span> <span m=''246550''>chip.</span> <span m=''247670''>You</span>
  <span m=''247810''>take</span> <span m=''247930''>a real</span> <span m=''248220''>working</span>
  <span m=''248650''>chip</span> <span m=''248810''>and</span> <span m=''248930''>you</span>
  <span m=''249080''>grind it,</span> <span m=''250560''>and</span> <span m=''250940''>expose</span>
  <span m=''252010''>insides</span> <span m=''252510''>of</span> <span m=''252590''>the</span>
  <span m=''252680''>chip.</span> </p><p><span m=''252860''>So</span> <span m=''252990''>this</span>
  <span m=''253200''>is</span> <span m=''253350''>a</span> <span m=''253380''>ground</span>
  <span m=''253705''>chip</span> <span m=''254030''>that''s</span> <span m=''254250''>exposed</span>
  <span m=''254710''>the</span> <span m=''254890''>metal</span> <span m=''255000''>layering.</span>
  <span m=''255380''>In</span> <span m=''255580''>fact,</span> <span m=''256019''>this</span>
  <span m=''256320''>you</span> <span m=''256470''>can</span> <span m=''256630''>see</span>
  <span m=''256910''>real</span> <span m=''257190''>circuits</span> <span m=''257500''>in</span>
  <span m=''257600''>the</span> <span m=''257700''>chip.</span> <span m=''258200''>So</span>
  <span m=''259130''>I</span> <span m=''259260''>don''t</span> <span m=''259560''>think</span>
  <span m=''259890''>anybody</span> <span m=''260240''>has</span> <span m=''260579''>the</span>
  <span m=''261060''>mission</span> <span m=''261480''>that''s</span> <span m=''261700''>required</span>
  <span m=''262089''>to</span> <span m=''262170''>see</span> <span m=''262870''>the</span>
  <span m=''263100''>transistors</span> <span m=''263800''>or</span> <span m=''264070''>even</span>
  <span m=''264290''>the</span> <span m=''264520''>circuits.</span> <span m=''265020''>But</span>
  <span m=''265590''>it''s</span> <span m=''265740''>kind</span> <span m=''265910''>of</span>
  <span m=''265990''>interesting</span> <span m=''266370''>to</span> <span m=''266430''>see.</span>
  <span m=''266690''>So</span> <span m=''266950''>here are</span> <span m=''267390''>these</span>
  <span m=''267590''>two</span> <span m=''267740''>things,</span> <span m=''268460''>so</span>
  <span m=''269540''>some</span> <span m=''269890''>show and tell</span> <span m=''270200''>like</span>
  <span m=''270290''>that.</span> </p><p><span m=''271354''>Ah-ha.</span> <span m=''272250''>And</span>
  <span m=''272870''>this.</span> <span m=''273080''>This</span> <span m=''273210''>is</span>
  <span m=''273280''>entire</span> <span m=''273590''>reason</span> <span m=''274070''>that</span>
  <span m=''274850''>microprocessor</span> <span m=''275670''>not</span> <span m=''275720''>getting</span>
  <span m=''275970''>faster</span> <span m=''276380''>anymore.</span> <span m=''277280''>Because</span>
  <span m=''277610''>this</span> <span m=''277940''>is</span> <span m=''278370''>one</span>
  <span m=''278640''>humongo</span> <span m=''281190''>heap</span> <span m=''281440''>thing</span>
  <span m=''282000''>that</span> <span m=''282210''>you</span> <span m=''282330''>put</span>
  <span m=''282530''>in</span> <span m=''282640''>the</span> <span m=''282720''>modern</span>
  <span m=''283040''>machines,</span> <span m=''283370''>and</span> <span m=''283470''>there''s</span>
  <span m=''283610''>a</span> <span m=''283650''>huge</span> <span m=''283980''>fan</span>
  <span m=''284230''>that</span> <span m=''284360''>goes</span> <span m=''284600''>above</span>
  <span m=''284840''>that.</span> <span m=''285350''>And</span> <span m=''285770''>you</span>
  <span m=''285870''>can''t</span> <span m=''286140''>keep</span> <span m=''286360''>building</span>
  <span m=''286770''>larger</span> <span m=''287050''>and</span> <span m=''287300''>larger</span>
  <span m=''287540''>heat</span> <span m=''287710''>things</span> <span m=''287920''>to</span>
  <span m=''288000''>get</span> <span m=''288190''>the</span> <span m=''288250''>heat
  out.</span> <span m=''290230''>And</span> <span m=''290480''>so</span> <span m=''290850''>that</span>
  <span m=''291050''>this</span> <span m=''291270''>why</span> <span m=''292050''>the</span>
  <span m=''292220''>heat</span> <span m=''293760''>is</span> <span m=''293960''>paramount,</span>
  <span m=''294430''>and</span> <span m=''294520''>that''s</span> <span m=''294700''>why</span>
  <span m=''294810''>we</span> <span m=''294940''>can''t</span> <span m=''295220''>run</span>
  <span m=''296020''>4</span> <span m=''296230''>gigahertz,</span> <span m=''296740''>10</span>
  <span m=''296930''>gigahertz</span> <span m=''297340''>process.</span> <span m=''297820''>We</span>
  <span m=''297980''>are</span> <span m=''298320''>thick</span> <span m=''298950''>into</span>
  <span m=''299180''>the</span> <span m=''299410''>current</span> <span m=''300150''>kind</span>
  <span m=''300340''>of</span> <span m=''300430''>gigahertz</span> <span m=''301030''>train,</span>
  <span m=''301500''>and</span> <span m=''301760''>then</span> <span m=''302040''>we</span>
  <span m=''302130''>[UNINTELLIGIBLE]</span> <span m=''302360''>multiple</span> <span
  m=''302570''>cores.</span> <span m=''304080''>So</span> <span m=''304240''>it''s</span>
  <span m=''304400''>a</span> <span m=''304440''>big,</span> <span m=''304990''>humongo</span>
  <span m=''305400''>block</span> <span m=''305690''>in</span> <span m=''305820''>there,</span>
  <span m=''306100''>and</span> <span m=''306280''>then</span> <span m=''307090''>some</span>
  <span m=''307370''>actually might</span> <span m=''307640''>even</span> <span m=''307860''>have
  a</span> <span m=''308020''>bigger</span> <span m=''308290''>block.</span> </p><p><span
  m=''310570''>So</span> <span m=''311540''>while</span> <span m=''312020''>this</span>
  <span m=''312190''>go</span> <span m=''312330''>around,</span> <span m=''312890''>let''s</span>
  <span m=''313130''>start</span> <span m=''313340''>the</span> <span m=''313410''>lecture.</span>
  </p><p><span m=''315840''>So</span> <span m=''317070''>computer</span> <span m=''317410''>architecting</span>
  <span m=''317890''>includes</span> <span m=''318530''>many</span> <span m=''318760''>different</span>
  <span m=''319130''>things.</span> <span m=''319380''>You are</span> <span m=''319550''>doing</span>
  <span m=''319940''>instructions,</span> <span m=''320650''>memory,</span> <span
  m=''321030''>IEO</span> <span m=''321730''>Bus,</span> <span m=''322200''>disk</span>
  <span m=''322570''>systems,</span> <span m=''323220''>GPU,</span> <span m=''324030''>graphics,</span>
  <span m=''324550''>all</span> <span m=''324720''>of</span> <span m=''324840''>those</span>
  <span m=''324960''>things.</span> <span m=''325420''>But</span> <span m=''325670''>we
  are not</span> <span m=''325880''>getting</span> <span m=''326260''>into</span>
  <span m=''326560''>beyond</span> <span m=''327070''>instruction</span> <span m=''327560''>and
  memory</span> <span m=''327890''>system.</span> <span m=''328210''>So</span> <span
  m=''328650''>we are</span> <span m=''328730''>going</span> <span m=''328930''>to</span>
  <span m=''328970''>focus</span> <span m=''329350''>on</span> <span m=''329470''>that,</span>
  <span m=''330110''>but</span> <span m=''330620''>if</span> <span m=''330980''>you</span>
  <span m=''331140''>really</span> <span m=''331430''>want</span> <span m=''331550''>to</span>
  <span m=''331670''>understand</span> <span m=''332080''>the</span> <span m=''332150''>full</span>
  <span m=''332450''>end to end</span> <span m=''332760''>performance,</span> <span
  m=''333220''>you have</span> <span m=''333350''>to</span> <span m=''333430''>worry</span>
  <span m=''333650''>about</span> <span m=''333860''>all</span> <span m=''334030''>those</span>
  <span m=''334210''>other</span> <span m=''334400''>things.</span> </p><p><span m=''335110''>So</span>
  <span m=''335240''>that</span> <span m=''335480''>said,</span> <span m=''335920''>let''s</span>
  <span m=''336150''>go</span> <span m=''336340''>into</span> <span m=''337440''>instructions</span>
  <span m=''337780''>and memory.</span> <span m=''339590''>So</span> <span m=''339760''>here</span>
  <span m=''340300''>is</span> <span m=''340650''>the</span> <span m=''341210''>Nehalem</span>
  <span m=''341760''>processor.</span> <span m=''342670''>And</span> <span m=''342950''>there''s</span>
  <span m=''343110''>a</span> <span m=''343170''>beautiful</span> <span m=''344160''>picture</span>
  <span m=''344470''>of</span> <span m=''344610''>the</span> <span m=''344700''>processor</span>
  <span m=''345020''>in</span> <span m=''345140''>the</span> <span m=''345230''>left.</span>
  <span m=''346000''>This</span> <span m=''346290''>as</span> <span m=''346400''>kind</span>
  <span m=''346540''>of</span> <span m=''346690''>the</span> <span m=''346800''>role</span>
  <span m=''348890''>chip that</span> <span m=''349140''>I''m</span> <span m=''349280''>showing.</span>
  <span m=''349770''>They</span> <span m=''350050''>have</span> <span m=''351030''>ground</span>
  <span m=''351365''>out</span> <span m=''351700''>the</span> <span m=''352210''>upper</span>
  <span m=''352540''>layers</span> <span m=''352940''>and</span> <span m=''353150''>showed</span>
  <span m=''353390''>some of</span> <span m=''353690''>the</span> <span m=''353790''>layers</span>
  <span m=''354080''>in</span> <span m=''354310''>there.</span> <span m=''355570''>So</span>
  <span m=''355700''>that''s</span> <span m=''355970''>what</span> <span m=''356120''>you</span>
  <span m=''356280''>get</span> <span m=''357200''>when</span> <span m=''357430''>you</span>
  <span m=''357510''>buy</span> <span m=''357620''>the</span> <span m=''357915''>Nehalem.</span>
  <span m=''358440''>And</span> <span m=''358740''>this</span> <span m=''358970''>very</span>
  <span m=''359370''>complicated</span> <span m=''359960''>diagram</span> <span m=''360480''>in</span>
  <span m=''360560''>the</span> <span m=''360650''>right</span> <span m=''360920''>side,</span>
  <span m=''362330''>it''s</span> <span m=''362970''>an</span> <span m=''363240''>abstract</span>
  <span m=''363880''>notion</span> <span m=''364190''>of</span> <span m=''364290''>what''s</span>
  <span m=''364470''>happening</span> <span m=''364800''>inside.</span> </p><p><span
  m=''365160''>So</span> <span m=''365280''>what</span> <span m=''365450''>you</span>
  <span m=''365630''>do</span> <span m=''365860''>is</span> <span m=''366340''>go
  a</span> <span m=''366580''>little bit</span> <span m=''366980''>into</span> <span
  m=''367230''>this</span> <span m=''367480''>[UNINTELLIGIBLE]</span> <span m=''367820''>diagram,</span>
  <span m=''368620''>and</span> <span m=''369270''>trying</span> <span m=''369400''>to</span>
  <span m=''369540''>understand</span> <span m=''370210''>what</span> <span m=''370480''>impact</span>
  <span m=''370940''>it would</span> <span m=''371110''>have</span> <span m=''371290''>on</span>
  <span m=''371460''>you.</span> <span m=''371820''>This</span> <span m=''371990''>is</span>
  <span m=''372110''>not</span> <span m=''372240''>architecture</span> <span m=''372760''>class,</span>
  <span m=''373500''>but</span> <span m=''374330''>you,</span> <span m=''374660''>as</span>
  <span m=''375800''>trying</span> <span m=''376050''>to</span> <span m=''376090''>get</span>
  <span m=''376250''>performance,</span> <span m=''376800''>has</span> <span m=''376940''>to</span>
  <span m=''377020''>make</span> <span m=''377200''>sure</span> <span m=''377530''>all
  these</span> <span m=''377730''>components</span> <span m=''378290''>works</span>
  <span m=''378530''>pretty well.</span> </p><p><span m=''380000''>That</span> <span
  m=''380240''>said,</span> <span m=''381670''>it''s</span> <span m=''381950''>very</span>
  <span m=''382220''>hard</span> <span m=''382640''>to</span> <span m=''382750''>understand</span>
  <span m=''383195''>in</span> <span m=''383640''>a</span> <span m=''383730''>modern</span>
  <span m=''384250''>microprocessor</span> <span m=''384780''>exactly</span> <span
  m=''385380''>what''s</span> <span m=''385620''>going</span> <span m=''385860''>on.</span>
  <span m=''387150''>Not</span> <span m=''387370''>even</span> <span m=''387600''>Intel</span>
  <span m=''388030''>understand</span> <span m=''388530''>what''s</span> <span m=''388750''>going</span>
  <span m=''388980''>on</span> <span m=''389100''>most</span> <span m=''389330''>of</span>
  <span m=''389380''>the</span> <span m=''389440''>time.</span> <span m=''390070''>And</span>
  <span m=''390390''>so</span> <span m=''390890''>a</span> <span m=''391070''>lot</span>
  <span m=''391420''>of</span> <span m=''391540''>things</span> <span m=''392270''>[UNINTELLIGIBLE].</span>
  <span m=''393210''>So</span> <span m=''393660''>you</span> <span m=''393800''>can''t</span>
  <span m=''394050''>ask</span> <span m=''394850''>tell me</span> <span m=''395230''>exactly</span>
  <span m=''395670''>what</span> <span m=''395850''>happened</span> <span m=''396230''>or</span>
  <span m=''396310''>get</span> <span m=''396600''>there.</span> <span m=''397910''>So</span>
  <span m=''398520''>you</span> <span m=''398590''>can</span> <span m=''398850''>be</span>
  <span m=''399000''>fussy.</span> </p><p><span m=''400130''>On</span> <span m=''400250''>the</span>
  <span m=''400350''>other</span> <span m=''400460''>hand,</span> <span m=''400770''>being</span>
  <span m=''401000''>fussy</span> <span m=''401380''>means</span> <span m=''403230''>there''s</span>
  <span m=''403420''>a level</span> <span m=''403570''>of</span> <span m=''405640''>abstraction</span>
  <span m=''406310''>that</span> <span m=''406680''>you</span> <span m=''406950''>have</span>
  <span m=''407130''>to live</span> <span m=''407330''>with.</span> <span m=''407840''>And</span>
  <span m=''408270''>what</span> <span m=''408430''>that</span> <span m=''408640''>means</span>
  <span m=''408970''>is</span> <span m=''409850''>when</span> <span m=''410030''>something</span>
  <span m=''410490''>hit</span> <span m=''410870''>their</span> <span m=''411040''>head</span>
  <span m=''411330''>very</span> <span m=''411550''>hard,</span> <span m=''412150''>and</span>
  <span m=''412300''>have</span> <span m=''412370''>a</span> <span m=''412440''>really</span>
  <span m=''412670''>bad</span> <span m=''412910''>situation</span> <span m=''413390''>you</span>
  <span m=''413490''>can</span> <span m=''413650''>see</span> <span m=''413860''>that</span>
  <span m=''414145''>and</span> <span m=''414430''>you</span> <span m=''414520''>can</span>
  <span m=''414910''>react</span> <span m=''415130''>to that.</span> <span m=''415530''>But</span>
  <span m=''415830''>there</span> <span m=''416010''>are a</span> <span m=''416080''>lot</span>
  <span m=''416430''>of</span> <span m=''416530''>small</span> <span m=''416870''>things</span>
  <span m=''417080''>that</span> <span m=''417250''>happen.</span> <span m=''417530''>These</span>
  <span m=''417720''>things</span> <span m=''417900''>interact</span> <span m=''418380''>in</span>
  <span m=''418580''>very</span> <span m=''418920''>complex</span> <span m=''419320''>ways.</span>
  <span m=''419850''>So</span> <span m=''420050''>you</span> <span m=''420130''>don''t</span>
  <span m=''420290''>understand</span> <span m=''420750''>exactly</span> <span m=''422340''>the</span>
  <span m=''422630''>minor</span> <span m=''422820''>detail</span> <span m=''423250''>what''s</span>
  <span m=''423460''>going</span> <span m=''423690''>on</span> <span m=''423850''>in</span>
  <span m=''423940''>these</span> <span m=''424120''>microprocessor</span> <span m=''425310''>for</span>
  <span m=''425660''>a</span> <span m=''425720''>given</span> <span m=''425990''>application.</span>
  <span m=''426880''>A</span> <span m=''426900''>lot</span> <span m=''427140''>of</span>
  <span m=''427220''>different</span> <span m=''427530''>things</span> <span m=''427720''>might</span>
  <span m=''427980''>work</span> <span m=''428120''>different</span> <span m=''428270''>ways.</span>
  <span m=''428850''>So</span> <span m=''428990''>that''s</span> <span m=''429310''>it.</span>
  </p><p><span m=''429840''>So</span> <span m=''430270''>if</span> <span m=''430440''>we</span>
  <span m=''430500''>look</span> <span m=''430670''>at</span> <span m=''431690''>what</span>
  <span m=''431940''>you</span> <span m=''432010''>learn</span> <span m=''432250''>from</span>
  <span m=''432360''>004,</span> <span m=''433850''>so</span> <span m=''434030''>what</span>
  <span m=''434200''>that</span> <span m=''434380''>means</span> <span m=''434600''>is</span>
  <span m=''434780''>instruction.</span> <span m=''435085''>You</span> <span m=''435390''>have
  here</span> <span m=''435880''>two</span> <span m=''436010''>instructions.</span>
  <span m=''436640''>One</span> <span m=''436920''>after</span> <span m=''437170''>the</span>
  <span m=''437400''>other.</span> <span m=''437890''>So</span> <span m=''438060''>if
  the</span> <span m=''438210''>instructions</span> <span m=''438610''>take</span>
  <span m=''438980''>[UNINTELLIGIBLE]</span> <span m=''439540''>cycle.</span> <span
  m=''439870''>So</span> <span m=''440040''>we</span> <span m=''440440''>see</span>
  <span m=''440670''>the</span> <span m=''441250''>non-[UNINTELLIGIBLE]</span> <span
  m=''442150''>method.</span> </p><p><span m=''443340''>So you</span> <span m=''443550''>look</span>
  <span m=''443820''>at</span> <span m=''444010''>why</span> <span m=''444520''>it''s</span>
  <span m=''444730''>probably</span> <span m=''444880''>taking</span> <span m=''445060''>five
  cycles.</span> <span m=''446170''>So</span> <span m=''446420''>that''s</span> <span
  m=''446720''>because</span> <span m=''447110''>it''s</span> <span m=''447270''>doing</span>
  <span m=''447440''>different</span> <span m=''447820''>things.</span> <span m=''448130''>You
  are</span> <span m=''448280''>doing</span> <span m=''448450''>instruction</span>
  <span m=''448890''>fetch,</span> <span m=''449640''>instruction</span> <span m=''450100''>decode,</span>
  <span m=''450870''>after</span> <span m=''451270''>that</span> <span m=''451520''>execute.</span>
  <span m=''452250''>Then</span> <span m=''452440''>you</span> <span m=''452580''>do</span>
  <span m=''452720''>some</span> <span m=''452880''>memory</span> <span m=''453180''>[UNINTELLIGIBLE]</span>
  <span m=''453590''>and</span> <span m=''453750''>then</span> <span m=''453890''>find</span>
  <span m=''454260''>the</span> <span m=''454350''>right</span> <span m=''454630''>packet</span>
  <span m=''454860''>in</span> <span m=''454960''>there.</span> </p><p><span m=''456070''>So</span>
  <span m=''456400''>you do</span> <span m=''456680''>all those</span> <span m=''456940''>things</span>
  <span m=''457310''>[UNINTELLIGIBLE]</span> <span m=''457820''>instruction,</span>
  <span m=''458360''>and</span> <span m=''458550''>then</span> <span m=''458720''>you</span>
  <span m=''458840''>start</span> <span m=''459070''>the</span> <span m=''459140''>next</span>
  <span m=''459520''>[UNINTELLIGIBLE]</span> <span m=''459856''>cycle.</span> <span
  m=''460530''>Of</span> <span m=''460820''>course, this is</span> <span m=''461090''>very</span>
  <span m=''461260''>necessary.</span> <span m=''462320''>So</span> <span m=''462470''>the</span>
  <span m=''462640''>first</span> <span m=''462960''>two</span> <span m=''463090''>people</span>
  <span m=''463270''>[UNINTELLIGIBLE].</span> <span m=''464410''>After</span> <span
  m=''464810''>I</span> <span m=''464960''>do</span> <span m=''465110''>instruction</span>
  <span m=''465590''>fetch,</span> <span m=''466600''>that</span> <span m=''467050''>logic</span>
  <span m=''467580''>that''s</span> <span m=''467810''>doing</span> <span m=''468065''>instruction</span>
  <span m=''468320''>fetch</span> <span m=''468510''>is</span> <span m=''468610''>not</span>
  <span m=''468770''>doing</span> <span m=''468950''>anything</span> <span m=''469270''>for</span>
  <span m=''469370''>a</span> <span m=''469470''>while.</span> <span m=''470370''>Why</span>
  <span m=''470540''>don''t I</span> <span m=''470930''>start</span> <span m=''471270''>the</span>
  <span m=''471430''>next</span> <span m=''471600''>instruction</span> <span m=''472080''>phase</span>
  <span m=''472350''>immediately</span> <span m=''472740''>because</span> <span m=''473000''>you</span>
  <span m=''473140''>are</span> <span m=''473180''>doing</span> <span m=''473340''>the</span>
  <span m=''473420''>same</span> <span m=''473660''>circuit,</span> <span m=''474420''>and</span>
  <span m=''474810''>then</span> <span m=''475390''>recycle,</span> <span m=''475720''>that''s</span>
  <span m=''476050''>so</span> <span m=''476220''>it</span> <span m=''476360''>can</span>
  <span m=''476540''>go</span> <span m=''476750''>do</span> <span m=''476900''>the</span>
  <span m=''477010''>next</span> <span m=''477230''>thing,</span> <span m=''477400''>and</span>
  <span m=''477520''>next thing,</span> <span m=''477840''>and</span> <span m=''477970''>next</span>
  <span m=''478150''>thing.</span> </p><p><span m=''478660''>And</span> <span m=''479180''>by</span>
  <span m=''479320''>doing</span> <span m=''479600''>that,</span> <span m=''479810''>well</span>
  <span m=''479990''>I</span> <span m=''480140''>can</span> <span m=''480860''>basically</span>
  <span m=''481320''>recycle,</span> <span m=''482020''>I</span> <span m=''482090''>can</span>
  <span m=''482320''>get</span> <span m=''483120''>the</span> <span m=''483200''>instruction</span>
  <span m=''483680''>through</span> <span m=''483810''>the</span> <span m=''483910''>system.</span>
  <span m=''485730''>So</span> <span m=''485920''>this</span> <span m=''486140''>looks</span>
  <span m=''486360''>very</span> <span m=''486570''>nice</span> <span m=''486940''>and</span>
  <span m=''487240''>simple</span> <span m=''487630''>and</span> <span m=''487780''>you</span>
  <span m=''487930''>can</span> <span m=''488140''>get.</span> <span m=''488470''>So</span>
  <span m=''489440''>what</span> <span m=''489710''>are</span> <span m=''489800''>they</span>
  <span m=''489950''>choosing</span> <span m=''490235''>here?</span> <span m=''492060''>Is</span>
  <span m=''492200''>the</span> <span m=''492290''>world</span> <span m=''492580''>this</span>
  <span m=''492830''>nice</span> <span m=''493120''>and</span> <span m=''493230''>simple?</span>
  <span m=''495400''>No.</span> <span m=''496360''>OK,</span> <span m=''496680''>what</span>
  <span m=''497050''>might</span> <span m=''497230''>happen?</span> </p><p><span m=''498586''>AUDIENCE:</span>
  <span m=''498832''>[INAUDIBLE PHRASE]</span> </p><p><span m=''501930''>SAMAN AMARASINGHE:
  You</span> <span m=''502150''>have</span> <span m=''502370''>a lot</span> <span
  m=''502680''>of</span> <span m=''502990''>issues</span> <span m=''503590''>that</span>
  <span m=''504110''>normally</span> <span m=''504590''>cause</span> <span m=''505410''>hazards.</span>
  <span m=''506520''>So</span> <span m=''507120''>there</span> <span m=''507290''>could</span>
  <span m=''507460''>be</span> <span m=''507620''>three</span> <span m=''507840''>different</span>
  <span m=''508160''>type</span> <span m=''508360''>of</span> <span m=''508480''>hazard.</span>
  <span m=''509180''>There''s a thing</span> <span m=''509400''>called</span> <span
  m=''509750''>structural</span> <span m=''510270''>hazard.</span> <span m=''512630''>What</span>
  <span m=''512940''>you are</span> <span m=''513080''>trying</span> <span m=''513210''>to</span>
  <span m=''513350''>do</span> <span m=''513580''>is</span> <span m=''514120''>attempt</span>
  <span m=''514360''>to</span> <span m=''514520''>use the</span> <span m=''514630''>same</span>
  <span m=''515030''>hardware,</span> <span m=''515370''>do</span> <span m=''515570''>two</span>
  <span m=''515740''>things,</span> <span m=''516020''>but</span> <span m=''516169''>there''s</span>
  <span m=''516360''>only</span> <span m=''516820''>one</span> <span m=''517010''>hardware.</span>
  <span m=''517760''>You</span> <span m=''517860''>can''t</span> <span m=''518080''>get</span>
  <span m=''518250''>two</span> <span m=''518409''>things</span> <span m=''518659''>done.</span>
  <span m=''518960''>One</span> <span m=''519179''>has to</span> <span m=''519580''>be
  after</span> <span m=''519919''>another.</span> </p><p><span m=''520960''>And</span>
  <span m=''521200''>there''s</span> <span m=''521309''>a</span> <span m=''521520''>thing
  called</span> <span m=''521650''>data hazards.</span> <span m=''522760''>That</span>
  <span m=''523049''>means</span> <span m=''523380''>you''re</span> <span m=''523590''>trying</span>
  <span m=''523860''>to</span> <span m=''523950''>run</span> <span m=''524240''>these</span>
  <span m=''524530''>things,</span> <span m=''526050''>one</span> <span m=''526490''>now</span>
  <span m=''526700''>another,</span> <span m=''527390''>but</span> <span m=''527700''>in</span>
  <span m=''527970''>logically.</span> <span m=''528500''>They</span> <span m=''528770''>have
  to</span> <span m=''529020''>run</span> <span m=''529240''>sequence</span> <span
  m=''529750''>serially.</span> <span m=''530590''>So</span> <span m=''530710''>that</span>
  <span m=''530980''>means</span> <span m=''531260''>that''s</span> <span m=''531440''>a</span>
  <span m=''531620''>data</span> <span m=''532130''>dependence,</span> <span m=''532760''>I''ll</span>
  <span m=''532850''>get</span> <span m=''533190''>into,</span> <span m=''533740''>that</span>
  <span m=''534070''>makes</span> <span m=''534370''>it</span> <span m=''534500''>impossible</span>
  <span m=''535080''>to</span> <span m=''535200''>make</span> <span m=''535590''>these</span>
  <span m=''535820''>things</span> <span m=''536140''>run</span> <span m=''536670''>in</span>
  <span m=''536770''>the</span> <span m=''536850''>pipeline</span> <span m=''537280''>fashion.</span>
  </p><p><span m=''537910''>And</span> <span m=''538080''>finally,</span> <span m=''538350''>this</span>
  <span m=''538550''>control</span> <span m=''538940''>has</span> <span m=''539250''>things</span>
  <span m=''539480''>like</span> <span m=''539740''>branches</span> <span m=''540340''>and</span>
  <span m=''540460''>things</span> <span m=''540690''>like</span> <span m=''540880''>that,</span>
  <span m=''541330''>[UNINTELLIGIBLE]</span> <span m=''541800''>interfere</span> <span
  m=''542190''>with</span> <span m=''542340''>that.</span> <span m=''542700''>So</span>
  <span m=''542870''>let</span> <span m=''543110''>me</span> <span m=''543880''>get</span>
  <span m=''544100''>a</span> <span m=''544300''>little bit</span> <span m=''544400''>detail</span>
  <span m=''544640''>down here.</span> </p><p><span m=''547040''>So</span> <span m=''547200''>the</span>
  <span m=''547410''>first</span> <span m=''547630''>thing</span> <span m=''547950''>we
  have</span> <span m=''548340''>is</span> <span m=''548580''>what</span> <span m=''548790''>we</span>
  <span m=''548990''>call</span> <span m=''549720''>data</span> <span m=''550040''>hazard.</span>
  <span m=''550460''>I will</span> <span m=''550590''>talk</span> <span m=''550800''>about
  two</span> <span m=''551250''>different</span> <span m=''551650''>hazards.</span>
  <span m=''552160''>So</span> <span m=''552330''>before</span> <span m=''552635''>I
  go there,</span> <span m=''553120''>I</span> <span m=''553210''>will</span> <span
  m=''553520''>share</span> <span m=''553730''>a</span> <span m=''553750''>little</span>
  <span m=''554050''>bit</span> <span m=''554220''>about</span> <span m=''554650''>this</span>
  <span m=''554940''>assembly</span> <span m=''555340''>representation.</span> <span
  m=''556240''>In two</span> <span m=''556350''>lectures,</span> <span m=''556760''>you''re</span>
  <span m=''557100''>going</span> <span m=''557260''>to</span> <span m=''557330''>get</span>
  <span m=''557460''>a</span> <span m=''557590''>more</span> <span m=''559620''>deep
  drilling</span> <span m=''560060''>into</span> <span m=''561620''>the</span> <span
  m=''561800''>how</span> <span m=''561980''>to</span> <span m=''562080''>go</span>
  <span m=''562250''>from</span> <span m=''562600''>C</span> <span m=''562700''>to</span>
  <span m=''562935''>Assembly.</span> <span m=''563710''>But</span> <span m=''563990''>before</span>
  <span m=''564260''>that,</span> <span m=''564680''>so</span> <span m=''564840''>what</span>
  <span m=''565120''>this</span> <span m=''565350''>instruction</span> <span m=''565910''>says,</span>
  <span m=''566120''>this</span> <span m=''566310''>is</span> <span m=''566440''>the</span>
  <span m=''566520''>normal</span> <span m=''566770''>x86</span> <span m=''567250''>form.</span>
  <span m=''567690''>We</span> <span m=''567830''>are</span> <span m=''568010''>doing
  add</span> <span m=''568580''>long.</span> <span m=''570650''>Add</span> <span m=''570780''>in</span>
  <span m=''571650''>to the</span> <span m=''571970''>values</span> <span m=''572430''>in</span>
  <span m=''572550''>this</span> <span m=''572740''>rbx</span> <span m=''573230''>and
  rax</span> <span m=''574240''>and</span> <span m=''574490''>put</span> <span m=''574620''>the</span>
  <span m=''574720''>results</span> <span m=''574830''>back</span> <span m=''574970''>into</span>
  <span m=''575750''>rax.</span> <span m=''576720''>So</span> <span m=''577010''>you</span>
  <span m=''577180''>are</span> <span m=''577240''>doing</span> <span m=''577520''>rbx</span>
  <span m=''577940''>plus</span> <span m=''578360''>rax</span> <span m=''578930''>and</span>
  <span m=''579040''>get</span> <span m=''579140''>the</span> <span m=''579220''>result</span>
  <span m=''579535''>into</span> <span m=''579850''>rax.</span> <span m=''580410''>You
  are</span> <span m=''581270''>subjecting</span> <span m=''582350''>rax</span> <span
  m=''583320''>with</span> <span m=''583635''>rcx</span> <span m=''584170''>and put</span>
  <span m=''584560''>the</span> <span m=''584710''>results</span> <span m=''584840''>into</span>
  <span m=''584990''>rcx.</span> </p><p><span m=''586100''>So</span> <span m=''586300''>basically</span>
  <span m=''586840''>all the</span> <span m=''587040''>rest of the</span> <span m=''587250''>results</span>
  <span m=''587480''>are</span> <span m=''587960''>in</span> <span m=''588050''>the</span>
  <span m=''588110''>right-hand</span> <span m=''588560''>side.</span> <span m=''589640''>Two</span>
  <span m=''589810''>[UNINTELLIGIBLE]</span> <span m=''590250''>are</span> <span m=''590400''>basically</span>
  <span m=''590890''>the</span> <span m=''591250''>first</span> <span m=''591550''>and</span>
  <span m=''591850''>second.</span> <span m=''592250''>So</span> <span m=''592580''>the</span>
  <span m=''592700''>last</span> <span m=''592990''>one</span> <span m=''593130''>gets</span>
  <span m=''594260''>read</span> <span m=''594590''>and</span> <span m=''594740''>modified.</span>
  <span m=''595830''>So</span> <span m=''595930''>that''s</span> <span m=''596180''>the
  way</span> <span m=''596290''>it''s weighted.</span> <span m=''596930''>So</span>
  <span m=''597120''>while</span> <span m=''597300''>you have</span> <span m=''597480''>two</span>
  <span m=''597700''>is--</span> <span m=''598130''>question?</span> </p><p><span
  m=''599910''>AUDIENCE:</span> <span m=''600130''>[INAUDIBLE PHRASE]</span> </p><p><span
  m=''603630''>SAMAN AMARASINGHE:</span> <span m=''603840''>Instruction,</span> <span
  m=''604920''>yeah.</span> <span m=''605600''>It''s</span> <span m=''605800''>different</span>
  <span m=''606150''>concept.</span> <span m=''606470''>The</span> <span m=''606690''>second</span>
  <span m=''606920''>instruction</span> <span m=''607920''>is</span> <span m=''608210''>data</span>
  <span m=''608550''>dependent,</span> <span m=''608650''>of</span> <span m=''608750''>course.</span>
  <span m=''609540''>What''s</span> <span m=''609780''>happening</span> <span m=''610240''>is</span>
  <span m=''610360''>I</span> <span m=''610450''>am</span> <span m=''610590''>writing</span>
  <span m=''610990''>this</span> <span m=''611190''>value</span> <span m=''611540''>here,</span>
  <span m=''612620''>which</span> <span m=''612720''>will be</span> <span m=''612830''>read</span>
  <span m=''613300''>by</span> <span m=''613460''>this</span> <span m=''613680''>guy</span>
  <span m=''613850''>here.</span> <span m=''614830''>So</span> <span m=''614990''>I</span>
  <span m=''615270''>write</span> <span m=''615480''>something</span> <span m=''615920''>and</span>
  <span m=''616030''>the</span> <span m=''616090''>next</span> <span m=''616390''>instruction</span>
  <span m=''616690''>is</span> <span m=''616770''>reading</span> <span m=''617080''>that.</span>
  <span m=''617530''>The</span> <span m=''617640''>problem</span> <span m=''618110''>is</span>
  <span m=''618680''>it''s</span> <span m=''618910''>the</span> <span m=''619040''>right</span>
  <span m=''619420''>thing</span> <span m=''619710''>must</span> <span m=''619920''>not</span>
  <span m=''620120''>be</span> <span m=''620330''>available</span> <span m=''621920''>until</span>
  <span m=''622100''>very</span> <span m=''622270''>late</span> <span m=''622500''>in</span>
  <span m=''622560''>the</span> <span m=''622640''>pipeline.</span> <span m=''624100''>So</span>
  <span m=''625570''>they</span> <span m=''625820''>cannot</span> <span m=''626230''>execute</span>
  <span m=''626680''>simultaneously</span> <span m=''628430''>and</span> <span m=''628870''>all</span>
  <span m=''628960''>that</span> <span m=''629270''>thing</span> <span m=''629390''>basically</span>
  <span m=''630100''>of</span> <span m=''630890''>this</span> <span m=''631130''>dependence.</span>
  </p><p><span m=''631580''>This</span> <span m=''631760''>is</span> <span m=''631940''>called</span>
  <span m=''632240''>basically</span> <span m=''632850''>read</span> <span m=''633120''>after</span>
  <span m=''633500''>write,</span> <span m=''634600''>because</span> <span m=''634900''>I''m</span>
  <span m=''635070''>going</span> <span m=''635270''>to</span> <span m=''635480''>read</span>
  <span m=''635960''>after it''s</span> <span m=''636430''>been</span> <span m=''636630''>written.</span>
  <span m=''637260''>And</span> <span m=''637440''>if</span> <span m=''637560''>you</span>
  <span m=''637690''>look</span> <span m=''637850''>at</span> <span m=''638020''>the</span>
  <span m=''638100''>pipeline</span> <span m=''638580''>here,</span> <span m=''638850''>what</span>
  <span m=''639050''>happens</span> <span m=''639430''>is</span> <span m=''640190''>the</span>
  <span m=''641360''>write</span> <span m=''641820''>happens</span> <span m=''642230''>here,</span>
  <span m=''643780''>and</span> <span m=''644540''>the</span> <span m=''644640''>next</span>
  <span m=''644900''>feed</span> <span m=''645310''>has</span> <span m=''645430''>to</span>
  <span m=''645530''>happen</span> <span m=''645980''>somewhere down</span> <span
  m=''646330''>here.</span> <span m=''647720''>So</span> <span m=''647910''>until</span>
  <span m=''648260''>this</span> <span m=''648530''>one,</span> <span m=''648910''>this</span>
  <span m=''649290''>slide</span> <span m=''649770''>[UNINTELLIGIBLE]</span> <span
  m=''650740''>so</span> <span m=''650840''>this</span> <span m=''651450''>status</span>
  <span m=''651870''>has</span> <span m=''652050''>to</span> <span m=''652140''>get</span>
  <span m=''652250''>delayed</span> <span m=''652880''>after</span> <span m=''653060''>this</span>
  <span m=''653300''>point.</span> <span m=''653910''>This</span> <span m=''654090''>make</span>
  <span m=''654290''>sense?</span> <span m=''656210''>Because</span> <span m=''656550''>I''m</span>
  <span m=''656700''>trying</span> <span m=''656810''>to</span> <span m=''658190''>in</span>
  <span m=''658360''>here</span> <span m=''658480''>read</span> <span m=''658800''>something</span>
  <span m=''659700''>that''s</span> <span m=''659920''>not</span> <span m=''660140''>going</span>
  <span m=''660260''>to</span> <span m=''660380''>be</span> <span m=''660510''>produced</span>
  <span m=''661000''>for two</span> <span m=''661350''>more</span> <span m=''661810''>clock
  cycles.</span> <span m=''662690''>So</span> <span m=''662860''>that''s</span> <span
  m=''663080''>not</span> <span m=''663250''>available</span> <span m=''663710''>and</span>
  <span m=''663850''>I</span> <span m=''663910''>can''t</span> <span m=''664120''>do</span>
  <span m=''664240''>that.</span> <span m=''665340''>Make</span> <span m=''665520''>sense?</span>
  <span m=''666990''>OK.</span> </p><p><span m=''671530''>So</span> <span m=''671730''>this</span>
  <span m=''671950''>next</span> <span m=''672250''>cycle</span> <span m=''672490''>dependence</span>
  <span m=''673140''>is</span> <span m=''673330''>called</span> <span m=''673760''>name</span>
  <span m=''674200''>dependence.</span> <span m=''675730''>That''s</span> <span m=''676040''>the</span>
  <span m=''676230''>dependence</span> <span m=''676530''>and</span> <span m=''676830''>anti-dependence.</span>
  <span m=''678610''>Basically</span> <span m=''679220''>what</span> <span m=''679440''>it''s</span>
  <span m=''679590''>doing</span> <span m=''679950''>is</span> <span m=''681190''>two</span>
  <span m=''681440''>instructions</span> <span m=''682100''>are</span> <span m=''682170''>using</span>
  <span m=''682470''>the</span> <span m=''682550''>same</span> <span m=''683010''>register.</span>
  <span m=''684180''>And</span> <span m=''684410''>because</span> <span m=''684850''>of</span>
  <span m=''685010''>that</span> <span m=''685310''>I can''t</span> <span m=''686090''>start</span>
  <span m=''686470''>to see</span> <span m=''686730''>the</span> <span m=''686830''>radius</span>
  <span m=''687300''>there</span> <span m=''687760''>until the other</span> <span
  m=''688150''>one</span> <span m=''688350''>switches</span> <span m=''688930''>off</span>
  <span m=''689100''>with</span> <span m=''689270''>the</span> <span m=''689380''>register.</span>
  <span m=''689760''>So</span> <span m=''689910''>in</span> <span m=''690130''>here,</span>
  <span m=''691360''>what''s</span> <span m=''691620''>happening</span> <span m=''692240''>here
  is</span> <span m=''693580''>I am</span> <span m=''694460''>subtracting</span> <span
  m=''697350''>rax</span> <span m=''698360''>and</span> <span m=''698620''>rbx.</span>
  <span m=''698850''>I''m</span> <span m=''699350''>putting</span> <span m=''699590''>the</span>
  <span m=''699680''>value</span> <span m=''699940''>in</span> <span m=''700080''>rbx.</span>
  <span m=''701400''>And</span> <span m=''701630''>here</span> <span m=''701950''>I
  am</span> <span m=''702440''>adding</span> <span m=''702920''>rcx</span> <span m=''703520''>to</span>
  <span m=''703780''>rax,</span> <span m=''705820''>and</span> <span m=''706080''>basically</span>
  <span m=''706330''>start</span> <span m=''706500''>putting</span> <span m=''706680''>the</span>
  <span m=''706780''>value</span> <span m=''706900''>in</span> <span m=''707220''>rax.</span>
  </p><p><span m=''708240''>The</span> <span m=''708330''>problem</span> <span m=''708640''>here</span>
  <span m=''708950''>is</span> <span m=''709510''>I</span> <span m=''709680''>cannot</span>
  <span m=''710230''>modify</span> <span m=''710850''>rax</span> <span m=''711780''>before</span>
  <span m=''712390''>this</span> <span m=''712710''>guy</span> <span m=''712890''>has</span>
  <span m=''713150''>[UNINTELLIGIBLE]</span> <span m=''713670''>the</span> <span m=''713890''>value</span>
  <span m=''714165''>in</span> <span m=''714440''>here.</span> <span m=''716040''>So</span>
  <span m=''716200''>that</span> <span m=''716440''>means</span> <span m=''716660''>I''m</span>
  <span m=''716800''>trying to</span> <span m=''717050''>go</span> <span m=''717260''>modify</span>
  <span m=''717630''>it,</span> <span m=''717760''>and say no, no,</span> <span m=''717920''>no.</span>
  <span m=''718150''>You</span> <span m=''718380''>can''t</span> <span m=''718675''>touch
  it</span> <span m=''718970''>because</span> <span m=''719150''>somebody will</span>
  <span m=''719500''>still</span> <span m=''719890''>want</span> <span m=''720150''>to</span>
  <span m=''720210''>get</span> <span m=''720380''>the</span> <span m=''720460''>value,</span>
  <span m=''720850''>and</span> <span m=''721010''>I</span> <span m=''721090''>can''t</span>
  <span m=''721360''>go</span> <span m=''721480''>destroy</span> <span m=''721820''>the</span>
  <span m=''721970''>value.</span> <span m=''722650''>And</span> <span m=''723100''>I</span>
  <span m=''723180''>had</span> <span m=''723330''>to</span> <span m=''723640''>[UNINTELLIGIBLE].</span>
  <span m=''724940''>That''s</span> <span m=''725260''>the</span> <span m=''725370''>first</span>
  <span m=''725620''>type</span> <span m=''725820''>of</span> <span m=''726050''>what
  you</span> <span m=''726320''>call</span> <span m=''726590''>anti-dependence.</span>
  <span m=''727760''>And</span> <span m=''728930''>because</span> <span m=''729210''>of</span>
  <span m=''729430''>this, you</span> <span m=''729640''>both</span> <span m=''729960''>are</span>
  <span m=''730150''>using</span> <span m=''730270''>rax.</span> <span m=''730780''>There''s</span>
  <span m=''730950''>no real</span> <span m=''731320''>data</span> <span m=''731650''>movement,</span>
  <span m=''732100''>but</span> <span m=''732530''>it</span> <span m=''732810''>basically</span>
  <span m=''733060''>has</span> <span m=''733450''>the</span> <span m=''733530''>same</span>
  <span m=''733860''>space.</span> <span m=''734440''>I had to</span> <span m=''734730''>wait</span>
  <span m=''735160''>till</span> <span m=''735720''>the</span> <span m=''735850''>other</span>
  <span m=''736090''>person</span> <span m=''737130''>can</span> <span m=''737300''>be</span>
  <span m=''737480''>evicted</span> <span m=''737900''>before</span> <span m=''738130''>I</span>
  <span m=''738180''>can</span> <span m=''738890''>read</span> <span m=''739170''>that</span>
  <span m=''739320''>register.</span> </p><p><span m=''740790''>So</span> <span m=''741010''>these</span>
  <span m=''741340''>are</span> <span m=''741520''>called</span> <span m=''742380''>write</span>
  <span m=''742640''>after</span> <span m=''742900''>read</span> <span m=''743230''>hazard.</span>
  <span m=''744680''>The</span> <span m=''744830''>other</span> <span m=''745420''>type</span>
  <span m=''745710''>of</span> <span m=''746360''>dependence is</span> <span m=''746670''>called  output</span>
  <span m=''747010''>dependence.</span> <span m=''748020''>So</span> <span m=''748220''>I
  am</span> <span m=''748440''>updating</span> <span m=''749110''>rax</span> <span
  m=''749510''>twice,</span> <span m=''750570''>and</span> <span m=''751910''>of</span>
  <span m=''752160''>course</span> <span m=''752410''>in</span> <span m=''752560''>this</span>
  <span m=''752760''>simple</span> <span m=''753060''>example</span> <span m=''753480''>we</span>
  <span m=''753580''>can</span> <span m=''753740''>probably</span> <span m=''754020''>even</span>
  <span m=''754210''>drop</span> <span m=''754330''>this</span> <span m=''754580''>instruction</span>
  <span m=''755100''>because</span> <span m=''755270''>it</span> <span m=''755340''>doesn''t</span>
  <span m=''755540''>matter</span> <span m=''755850''>because</span> <span m=''756110''>I''m</span>
  <span m=''756310''>re-writing</span> <span m=''757020''>it.</span> <span m=''757180''>But</span>
  <span m=''757350''>if</span> <span m=''757540''>there''s</span> <span m=''757690''>something</span>
  <span m=''758140''>in</span> <span m=''758310''>between</span> <span m=''758620''>also</span>
  <span m=''758870''>reading,</span> <span m=''759900''>what</span> <span m=''760040''>happens</span>
  <span m=''760430''>is</span> <span m=''760780''>I</span> <span m=''760900''>can''t</span>
  <span m=''761240''>do</span> <span m=''761350''>this</span> <span m=''761530''>in</span>
  <span m=''761610''>wrong</span> <span m=''761690''>order.</span> <span m=''763000''>The</span>
  <span m=''763130''>last</span> <span m=''763570''>value</span> <span m=''763870''>that</span>
  <span m=''764020''>updated</span> <span m=''764500''>has</span> <span m=''764660''>to</span>
  <span m=''764750''>be</span> <span m=''764840''>this</span> <span m=''765030''>instruction.</span>
  <span m=''766010''>So</span> <span m=''766220''>we</span> <span m=''766340''>had</span>
  <span m=''766450''>to</span> <span m=''766570''>make</span> <span m=''766740''>sure</span>
  <span m=''766850''>this</span> <span m=''767100''>instruction</span> <span m=''767600''>happens</span>
  <span m=''768220''>after</span> <span m=''768770''>this</span> <span m=''768970''>instruction.</span>
  <span m=''769930''>So</span> <span m=''770630''>we</span> <span m=''770750''>have</span>
  <span m=''770960''>a</span> <span m=''771170''>dependence,</span> <span m=''771770''>so</span>
  <span m=''771870''>there''s</span> <span m=''772050''>some</span> <span m=''772260''>ordering</span>
  <span m=''772760''>in here</span> <span m=''773140''>that</span> <span m=''773260''>has
  to be</span> <span m=''773550''>maintained.</span> <span m=''776030''>And</span>
  <span m=''776760''>this</span> <span m=''777000''>is call</span> <span m=''777220''>write</span>
  <span m=''777370''>after</span> <span m=''777530''>write</span> <span m=''777890''>hazard.</span>
  </p><p><span m=''780440''>So</span> <span m=''780680''>instructions</span> <span
  m=''781390''>that</span> <span m=''781660''>have</span> <span m=''781950''>medium</span>
  <span m=''782310''>dependence,</span> <span m=''782970''>we</span> <span m=''783120''>can</span>
  <span m=''783320''>actually</span> <span m=''783740''>get</span> <span m=''784230''>rid</span>
  <span m=''784440''>of</span> <span m=''784550''>the</span> <span m=''784640''>dependent</span>
  <span m=''785510''>by</span> <span m=''786030''>what</span> <span m=''786250''>we</span>
  <span m=''786370''>call</span> <span m=''786650''>register</span> <span m=''787080''>renaming.</span>
  <span m=''788510''>So</span> <span m=''789150''>everybody</span> <span m=''789700''>uses</span>
  <span m=''789830''>rax,</span> <span m=''790330''>so</span> <span m=''791840''>that''s</span>
  <span m=''792300''>kind</span> <span m=''792560''>of</span> <span m=''792650''>artifact</span>
  <span m=''793310''>of</span> <span m=''793520''>good</span> <span m=''793680''>old</span>
  <span m=''794390''>inter</span> <span m=''794700''>[UNINTELLIGIBLE]</span> <span
  m=''795030''>architecture</span> <span m=''795330''>sometimes</span> <span m=''795440''>[UNINTELLIGIBLE]</span>
  <span m=''796160''>when</span> <span m=''796310''>register,</span> <span m=''796920''>so
  you</span> <span m=''797120''>have</span> <span m=''797260''>to</span> <span m=''797430''>use</span>
  <span m=''797610''>the same</span> <span m=''797890''>register</span> <span m=''798310''>for</span>
  <span m=''798440''>many,</span> <span m=''798660''>many</span> <span m=''798880''>things.</span>
  </p><p><span m=''799540''>So</span> <span m=''799780''>in a</span> <span m=''800050''>modern--</span>
  <span m=''801060''>inside</span> <span m=''801510''>the hardware</span> <span m=''802130''>there''s</span>
  <span m=''802430''>what</span> <span m=''802640''>we</span> <span m=''802760''>call</span>
  <span m=''803010''>a</span> <span m=''803290''>register</span> <span m=''803610''>renaming.</span>
  <span m=''804560''>You</span> <span m=''804710''>have</span> <span m=''804860''>lots</span>
  <span m=''804930''>more</span> <span m=''806210''>slots</span> <span m=''806980''>for</span>
  <span m=''807080''>the</span> <span m=''807180''>same</span> <span m=''807470''>registers,</span>
  <span m=''807610''>and</span> <span m=''808790''>even</span> <span m=''809140''>when
  you''re</span> <span m=''809310''>using</span> <span m=''809600''>rax,</span> <span
  m=''809770''>this is</span> <span m=''810180''>an old</span> <span m=''810590''>one,</span>
  <span m=''810810''>this is</span> <span m=''810950''>a</span> <span m=''811080''>new</span>
  <span m=''811230''>one,</span> <span m=''811680''>use a</span> <span m=''811790''>different</span>
  <span m=''812370''>location</span> <span m=''813020''>for</span> <span m=''813120''>the</span>
  <span m=''813210''>new</span> <span m=''813340''>one.</span> <span m=''813790''>So</span>
  <span m=''813950''>I</span> <span m=''814040''>can</span> <span m=''814300''>do</span>
  <span m=''814400''>renaming.</span> <span m=''815330''>And</span> <span m=''815600''>then</span>
  <span m=''815780''>basically</span> <span m=''816310''>hardware</span> <span m=''816800''>can</span>
  <span m=''816960''>get</span> <span m=''817110''>rid</span> <span m=''817250''>of</span>
  <span m=''817360''>that.</span> </p><p><span m=''819350''>The</span> <span m=''819550''>next</span>
  <span m=''819750''>interesting</span> <span m=''820170''>thing</span> <span m=''820320''>is</span>
  <span m=''820440''>control</span> <span m=''820850''>hazard.</span> <span m=''821480''>So</span>
  <span m=''821670''>here</span> <span m=''822180''>what</span> <span m=''822360''>we</span>
  <span m=''822490''>see,</span> <span m=''823430''>if</span> <span m=''823600''>you</span>
  <span m=''823670''>had</span> <span m=''823800''>this</span> <span m=''823960''>kind</span>
  <span m=''824210''>of</span> <span m=''824340''>a loop,</span> <span m=''825040''>s1,</span>
  <span m=''825930''>it''s</span> <span m=''826210''>control</span> <span m=''826610''>dependent</span>
  <span m=''827160''>on</span> <span m=''827270''>p1.</span> <span m=''828950''>So</span>
  <span m=''829480''>we</span> <span m=''829630''>can''t</span> <span m=''829870''>do</span>
  <span m=''829960''>s1</span> <span m=''830720''>until</span> <span m=''830940''>p1</span>
  <span m=''831290''>is</span> <span m=''831440''>done.</span> <span m=''832670''>Or</span>
  <span m=''832760''>s2</span> <span m=''832990''>until</span> <span m=''833330''>p2
  is</span> <span m=''833670''>done.</span> <span m=''835210''>So</span> <span m=''835870''>we
  are</span> <span m=''835970''>[UNINTELLIGIBLE]</span> <span m=''836610''>the</span>
  <span m=''836700''>p1</span> <span m=''837180''>condition</span> <span m=''837670''>is</span>
  <span m=''838190''>[UNINTELLIGIBLE]</span> <span m=''838620''>before</span> <span
  m=''838850''>you</span> <span m=''838890''>can</span> <span m=''839080''>do</span>
  <span m=''839210''>s1</span> <span m=''839600''>and</span> <span m=''840420''>[UNINTELLIGIBLE]</span>
  <span m=''840640''>for</span> <span m=''840790''>the</span> <span m=''840890''>next
  one.</span> </p><p><span m=''841920''>So</span> <span m=''842900''>the</span> <span
  m=''843350''>interesting</span> <span m=''843510''>thing</span> <span m=''843680''>is</span>
  <span m=''843820''>control</span> <span m=''844220''>dependence</span> <span m=''845090''>also</span>
  <span m=''845890''>we</span> <span m=''846050''>can</span> <span m=''846870''>get</span>
  <span m=''847060''>rid</span> <span m=''847260''>of</span> <span m=''847430''>it</span>
  <span m=''847900''>by</span> <span m=''848140''>doing</span> <span m=''848810''>speculation.</span>
  <span m=''849920''>So the</span> <span m=''850110''>idea</span> <span m=''850220''>there</span>
  <span m=''850460''>what</span> <span m=''850730''>hardware</span> <span m=''850910''>does</span>
  <span m=''851470''>is</span> <span m=''852230''>it will say</span> <span m=''852320''>wait</span>
  <span m=''852410''>a</span> <span m=''852500''>minute.</span> <span m=''853200''>I</span>
  <span m=''853370''>know</span> <span m=''853600''>I</span> <span m=''853750''>have</span>
  <span m=''854015''>to</span> <span m=''854280''>wait</span> <span m=''854560''>till</span>
  <span m=''854840''>p1</span> <span m=''855030''>is</span> <span m=''855400''>[UNINTELLIGIBLE]</span>
  <span m=''855640''>to</span> <span m=''855740''>do</span> <span m=''855890''>s1.</span>
  <span m=''856660''>But</span> <span m=''856930''>I''m</span> <span m=''857100''>going</span>
  <span m=''857200''>to</span> <span m=''857310''>do</span> <span m=''857380''>s1</span>
  <span m=''857950''>anyway.</span> <span m=''859170''>I will</span> <span m=''859350''>just</span>
  <span m=''859510''>go</span> <span m=''859630''>to</span> <span m=''859750''>s1,</span>
  <span m=''860900''>speculatively.</span> <span m=''862180''>And</span> <span m=''862960''>then</span>
  <span m=''863630''>at</span> <span m=''863960''>the</span> <span m=''864470''>end
  of</span> <span m=''864660''>doing</span> <span m=''865130''>that,</span> <span
  m=''865370''>at</span> <span m=''865570''>some time</span> <span m=''866090''>when</span>
  <span m=''866250''>p1</span> <span m=''866650''>is</span> <span m=''866780''>calculated,</span>
  <span m=''867330''>and</span> <span m=''867450''>I</span> <span m=''867520''>know</span>
  <span m=''867660''>what</span> <span m=''867830''>the</span> <span m=''867910''>p1,</span>
  <span m=''868300''>I</span> <span m=''868370''>said</span> <span m=''868760''>did</span>
  <span m=''868860''>I</span> <span m=''869030''>do it</span> <span m=''869270''>right?</span>
  <span m=''870510''>If</span> <span m=''870600''>I</span> <span m=''870890''>did</span>
  <span m=''870980''>it</span> <span m=''871130''>right,</span> <span m=''871630''>I''m</span>
  <span m=''871940''>good.</span> <span m=''872960''>If I</span> <span m=''873050''>did</span>
  <span m=''873530''>something</span> <span m=''873810''>wrong,</span> <span m=''874140''>I</span>
  <span m=''874230''>have</span> <span m=''874390''>done</span> <span m=''874560''>some</span>
  <span m=''874710''>[UNINTELLIGIBLE]</span> <span m=''875340''>that</span> <span
  m=''875520''>is</span> <span m=''875660''>not</span> <span m=''875810''>useful</span>
  <span m=''876340''>for</span> <span m=''876480''>that.</span> </p><p><span m=''877130''>Question?</span>
  </p><p><span m=''877450''>AUDIENCE:</span> <span m=''877925''>[INAUDIBLE PHRASE]</span>
  </p><p><span m=''883160''>SAMAN AMARASINGHE: So</span> <span m=''883445''>what</span>
  <span m=''883730''>happens</span> <span m=''884520''>is</span> <span m=''886040''>there''s</span>
  <span m=''886350''>this</span> <span m=''886470''>thing</span> <span m=''886630''>called
  a</span> <span m=''886720''>write</span> <span m=''887040''>buffer.</span> <span
  m=''888380''>The</span> <span m=''888610''>complex</span> <span m=''889060''>thing</span>
  <span m=''889290''>is</span> <span m=''890070''>at</span> <span m=''890310''>the</span>
  <span m=''890400''>end</span> <span m=''890730''>of</span> <span m=''890920''>the</span>
  <span m=''891060''>day,</span> <span m=''891470''>the</span> <span m=''891940''>instructions</span>
  <span m=''892740''>have</span> <span m=''892940''>to</span> <span m=''893040''>be</span>
  <span m=''893610''>get</span> <span m=''893990''>committed</span> <span m=''894520''>in
  the</span> <span m=''894850''>order</span> <span m=''895380''>they</span> <span
  m=''895450''>arrive.</span> <span m=''897340''>So</span> <span m=''897550''>before</span>
  <span m=''898120''>committing,</span> <span m=''899010''>you</span> <span m=''899300''>keep</span>
  <span m=''899670''>the</span> <span m=''899920''>state</span> <span m=''900900''>in</span>
  <span m=''901390''>buffers</span> <span m=''902040''>without</span> <span m=''902295''>[UNINTELLIGIBLE]</span>
  <span m=''902990''>into the</span> <span m=''903140''>main one.</span> </p><p><span
  m=''903240''>AUDIENCE:</span> <span m=''903668''>[INAUDIBLE PHRASE]</span> </p><p><span
  m=''905380''>SAMAN AMARASINGHE:</span> <span m=''905495''>So</span> <span m=''905610''>right</span>
  <span m=''906010''>back</span> <span m=''906400''>into</span> <span m=''906760''>memory</span>
  <span m=''907120''>doesn''t</span> <span m=''907460''>happen</span> <span m=''908050''>until</span>
  <span m=''908790''>the</span> <span m=''909060''>commit</span> <span m=''909170''>point.</span>
  <span m=''910570''>But</span> <span m=''911200''>when</span> <span m=''911330''>you</span>
  <span m=''911440''>read</span> <span m=''911730''>something,</span> <span m=''912100''>before</span>
  <span m=''912410''>reading</span> <span m=''912540''>the</span> <span m=''912630''>memory,</span>
  <span m=''912940''>say</span> <span m=''913570''>OK,</span> <span m=''913810''>I</span>
  <span m=''913960''>have</span> <span m=''914110''>updated</span> <span m=''914360''>something,</span>
  <span m=''914810''>is it</span> <span m=''914930''>in the</span> <span m=''915000''>right</span>
  <span m=''915240''>buffer?</span> <span m=''915650''>So</span> <span m=''915860''>I</span>
  <span m=''915950''>read</span> <span m=''916260''>things</span> <span m=''916450''>from</span>
  <span m=''916570''>the</span> <span m=''916710''>right</span> <span m=''916930''>buffer</span>
  <span m=''917570''>in</span> <span m=''917710''>there.</span> <span m=''918170''>So</span>
  <span m=''918830''>you</span> <span m=''919300''>had</span> <span m=''919400''>to</span>
  <span m=''919500''>go</span> <span m=''919610''>in</span> <span m=''919910''>order</span>
  <span m=''920310''>commitment.</span> <span m=''921590''>Because you</span> <span
  m=''921690''>can''t</span> <span m=''921890''>do</span> <span m=''922040''>out of</span>
  <span m=''922200''>order</span> <span m=''922440''>commitment,</span> <span m=''922830''>that</span>
  <span m=''922980''>can</span> <span m=''923130''>do</span> <span m=''923250''>crazy</span>
  <span m=''923560''>things.</span> <span m=''924290''>You</span> <span m=''924440''>do</span>
  <span m=''924670''>in order</span> <span m=''924810''>commitment,</span> <span m=''925580''>but</span>
  <span m=''926190''>inside</span> <span m=''926610''>the</span> <span m=''926690''>metrics</span>
  <span m=''927000''>things</span> <span m=''927250''>can</span> <span m=''927450''>go</span>
  <span m=''928315''>easier.</span> <span m=''929250''>I''m</span> <span m=''929470''>just</span>
  <span m=''929620''>kind</span> <span m=''929750''>of</span> <span m=''929830''>jumping</span>
  <span m=''930170''>the</span> <span m=''930250''>gun a</span> <span m=''930410''>little
  bit.</span> </p><p><span m=''932400''>So</span> <span m=''932680''>in a</span> <span
  m=''932960''>modern</span> <span m=''933560''>Nehalem</span> <span m=''934070''>processor,</span>
  <span m=''936670''>these</span> <span m=''937100''>are</span> <span m=''937360''>kind</span>
  <span m=''937500''>of</span> <span m=''937660''>Intel</span> <span m=''937990''>[UNINTELLIGIBLE],</span>
  <span m=''938420''>so</span> <span m=''938550''>you</span> <span m=''938700''>don''t
  know</span> <span m=''938850''>exactly</span> <span m=''939410''>what</span> <span
  m=''939600''>it is.</span> <span m=''940290''>In</span> <span m=''940410''>some
  place</span> <span m=''940900''>it</span> <span m=''941050''>says</span> <span m=''941350''>it
  has</span> <span m=''941610''>16</span> <span m=''942270''>clock</span> <span m=''942530''>cycles.</span>
  <span m=''942870''>So it</span> <span m=''943080''>says</span> <span m=''943340''>it</span>
  <span m=''943510''>might</span> <span m=''943730''>be</span> <span m=''943830''>16</span>
  <span m=''944340''>stages</span> <span m=''944770''>of</span> <span m=''944870''>pipeline.</span>
  <span m=''945770''>And</span> <span m=''946320''>another</span> <span m=''946530''>place
  it</span> <span m=''946960''>says</span> <span m=''947400''>20</span> <span m=''947490''>to</span>
  <span m=''947590''>24</span> <span m=''948110''>stages</span> <span m=''948660''>of
  pipeline.</span> <span m=''950600''>OK,</span> <span m=''950910''>if</span> <span
  m=''951040''>you</span> <span m=''951160''>work</span> <span m=''951380''>for</span>
  <span m=''951530''>Intel</span> <span m=''951830''>and sign</span> <span m=''952230''>the</span>
  <span m=''952290''>NDA</span> <span m=''952700''>you will</span> <span m=''952930''>get</span>
  <span m=''953120''>the</span> <span m=''953170''>exact</span> <span m=''953460''>number.</span>
  <span m=''955050''>But</span> <span m=''955310''>it</span> <span m=''955400''>doesn''t</span>
  <span m=''955630''>matter.</span> <span m=''955840''>It''s</span> <span m=''956120''>a</span>
  <span m=''956240''>lot of</span> <span m=''956370''>pipeline</span> <span m=''956860''>stages,</span>
  <span m=''957230''>so</span> <span m=''957340''>that''s</span> <span m=''957580''>all</span>
  <span m=''957700''>you</span> <span m=''957780''>need</span> <span m=''957900''>to</span>
  <span m=''958020''>know.</span> </p><p><span m=''958450''>So</span> <span m=''958720''>what</span>
  <span m=''958930''>happens</span> <span m=''959490''>is</span> <span m=''960000''>if</span>
  <span m=''960090''>you are</span> <span m=''960380''>doing this</span> <span m=''960640''>in
  sort</span> <span m=''960860''>of</span> <span m=''961070''>five stage,</span> <span
  m=''962300''>like</span> <span m=''962580''>what</span> <span m=''962730''>you</span>
  <span m=''962840''>did</span> <span m=''962990''>in</span> <span m=''963120''>probably</span>
  <span m=''963280''>beta.</span> <span m=''964020''>You</span> <span m=''964460''>do</span>
  <span m=''965000''>instruction</span> <span m=''965500''>decode,</span> <span m=''966170''>instruction</span>
  <span m=''967120''>queue,</span> <span m=''968860''>pre-record</span> <span m=''969590''>queue,</span>
  <span m=''970160''>decode,</span> <span m=''972260''>register</span> <span m=''972580''>rename,</span>
  <span m=''973090''>and</span> <span m=''973290''>allocate</span> <span m=''973380''>registers.</span>
  <span m=''974490''>And</span> <span m=''974980''>then</span> <span m=''975120''>there''s</span>
  <span m=''975370''>thing</span> <span m=''975610''>called</span> <span m=''976240''>reservation</span>
  <span m=''976690''>and stations</span> <span m=''976980''>that wait</span> <span
  m=''977200''>for</span> <span m=''979330''>when</span> <span m=''979470''>data''s</span>
  <span m=''979880''>available</span> <span m=''980320''>to</span> <span m=''980390''>execute</span>
  <span m=''980820''>that</span> <span m=''980970''>instruction.</span> <span m=''981490''>And</span>
  <span m=''981590''>then</span> <span m=''981740''>execute,</span> <span m=''982650''>and</span>
  <span m=''982790''>then</span> <span m=''982920''>basically</span> <span m=''983320''>go</span>
  <span m=''983490''>there.</span> <span m=''983730''>This</span> <span m=''983840''>is</span>
  <span m=''983970''>what</span> <span m=''984180''>normally</span> <span m=''984590''>instruction</span>
  <span m=''985040''>life</span> <span m=''985290''>would</span> <span m=''985480''>be,</span>
  <span m=''986200''>if</span> <span m=''986430''>everything</span> <span m=''986850''>goes</span>
  <span m=''987650''>one</span> <span m=''987830''>after</span> <span m=''987990''>another</span>
  <span m=''988350''>after another.</span> </p><p><span m=''990060''>So</span> <span
  m=''991490''>what</span> <span m=''991780''>to</span> <span m=''991860''>get</span>
  <span m=''992020''>out</span> <span m=''992180''>of</span> <span m=''992300''>this</span>
  <span m=''992520''>is</span> <span m=''993150''>the</span> <span m=''993270''>pipelines</span>
  <span m=''993660''>are long.</span> <span m=''996260''>So</span> <span m=''996430''>pipeline</span>
  <span m=''996860''>stores</span> <span m=''997380''>and</span> <span m=''997490''>stuff</span>
  <span m=''997770''>can</span> <span m=''997930''>be</span> <span m=''998020''>expensive.</span>
  </p><p><span m=''999620''>So</span> <span m=''999940''>the</span> <span m=''1000150''>other</span>
  <span m=''1000360''>thing</span> <span m=''1000530''>you</span> <span m=''1000700''>can</span>
  <span m=''1000860''>do</span> <span m=''1001510''>in</span> <span m=''1001960''>abstract</span>
  <span m=''1002225''>way</span> <span m=''1002490''>is</span> <span m=''1003170''>do</span>
  <span m=''1003380''>multiple</span> <span m=''1003630''>issue.</span> <span m=''1004870''>So</span>
  <span m=''1005010''>if</span> <span m=''1005120''>you</span> <span m=''1005220''>do</span>
  <span m=''1005330''>pipeline,</span> <span m=''1005830''>what</span> <span m=''1005990''>happens</span>
  <span m=''1006320''>is</span> <span m=''1006430''>you</span> <span m=''1006620''>do</span>
  <span m=''1006990''>one</span> <span m=''1007390''>at</span> <span m=''1007530''>a</span>
  <span m=''1007610''>time</span> <span m=''1008210''>so</span> <span m=''1008310''>you</span>
  <span m=''1008470''>can</span> <span m=''1008620''>use</span> <span m=''1008820''>the</span>
  <span m=''1008870''>pipeline</span> <span m=''1009320''>stages</span> <span m=''1009610''>nicely.</span>
  <span m=''1010620''>How</span> <span m=''1010840''>about</span> <span m=''1011160''>instead</span>
  <span m=''1011480''>of</span> <span m=''1011620''>having</span> <span m=''1012520''>one</span>
  <span m=''1012850''>unit,</span> <span m=''1013150''>if</span> <span m=''1013280''>you</span>
  <span m=''1013400''>have</span> <span m=''1013530''>integer</span> <span m=''1014000''>unit</span>
  <span m=''1014320''>and a</span> <span m=''1014490''>floating</span> <span m=''1014800''>point</span>
  <span m=''1015080''>unit.</span> <span m=''1015640''>And</span> <span m=''1015830''>every</span>
  <span m=''1016090''>clock</span> <span m=''1016360''>cycle</span> <span m=''1016730''>you</span>
  <span m=''1016890''>can</span> <span m=''1017120''>basically</span> <span m=''1017660''>abstract.</span>
  <span m=''1018120''>You</span> <span m=''1018240''>could</span> <span m=''1018410''>say</span>
  <span m=''1018670''>look,</span> <span m=''1018930''>I''m</span> <span m=''1019090''>taking</span>
  <span m=''1019470''>interger</span> <span m=''1019865''>instruction,</span> <span
  m=''1020460''>I''m</span> <span m=''1020600''>taking</span> <span m=''1020870''>floating</span>
  <span m=''1021210''>point</span> <span m=''1021450''>instruction,</span> <span m=''1021850''>and</span>
  <span m=''1021990''>take them</span> <span m=''1022300''>both</span> <span m=''1022720''>together</span>
  <span m=''1023090''>[UNINTELLIGIBLE].</span> <span m=''1023910''>And</span> <span
  m=''1024170''>then</span> <span m=''1024500''>whala, at</span> <span m=''1024810''>the</span>
  <span m=''1024880''>end</span> <span m=''1025030''>of</span> <span m=''1025109''>the</span>
  <span m=''1025200''>day</span> <span m=''1025810''>in</span> <span m=''1026030''>one</span>
  <span m=''1026339''>clock</span> <span m=''1026530''>cycle</span> <span m=''1026730''>I</span>
  <span m=''1026859''>can</span> <span m=''1027540''>[UNINTELLIGIBLE]</span> <span
  m=''1027930''>two</span> <span m=''1028060''>instructions,</span> <span m=''1028579''>one</span>
  <span m=''1028890''>integer,</span> <span m=''1029390''>one</span> <span m=''1029550''>floating</span>
  <span m=''1029859''>point,</span> <span m=''1030319''>if</span> <span m=''1030460''>you</span>
  <span m=''1030579''>have</span> <span m=''1030780''>two</span> <span m=''1030930''>different</span>
  <span m=''1031390''>sets</span> <span m=''1031579''>in</span> <span m=''1031859''>there.</span>
  </p><p><span m=''1032329''>So</span> <span m=''1033500''>this</span> <span m=''1033700''>is</span>
  <span m=''1033849''>also</span> <span m=''1034060''>very</span> <span m=''1034260''>nice.</span>
  <span m=''1034660''>You</span> <span m=''1034819''>can</span> <span m=''1034970''>get</span>
  <span m=''1035180''>a</span> <span m=''1035619''>lot</span> <span m=''1035849''>of</span>
  <span m=''1036119''>what</span> <span m=''1036380''>we</span> <span m=''1036490''>call</span>
  <span m=''1037190''>super</span> <span m=''1037450''>scaler</span> <span m=''1037630''>performance.</span>
  <span m=''1039050''>However,</span> <span m=''1039440''>it''s</span> <span m=''1039599''>called</span>
  <span m=''1039829''>instruction</span> <span m=''1040229''>level</span> <span m=''1040630''>parallelism.</span>
  <span m=''1042085''>There''s</span> <span m=''1042470''>a</span> <span m=''1042619''>lot</span>
  <span m=''1042760''>of</span> <span m=''1042900''>problems,</span> <span m=''1043490''>also</span>
  <span m=''1043800''>things</span> <span m=''1044010''>that you</span> <span m=''1044250''>worry.</span>
  <span m=''1044530''>Well</span> <span m=''1044670''>first of all,</span> <span m=''1045000''>you</span>
  <span m=''1045160''>have to  have</span> <span m=''1045319''>enough</span> <span
  m=''1045599''>instruction</span> <span m=''1046060''>in level</span> <span m=''1046170''>parallel.</span>
  <span m=''1046740''>Because</span> <span m=''1047940''>the</span> <span m=''1048260''>instruction</span>
  <span m=''1048620''>you</span> <span m=''1048760''>get</span> <span m=''1049150''>is</span>
  <span m=''1049330''>the</span> <span m=''1049400''>sequence</span> <span m=''1049830''>history,</span>
  <span m=''1050230''>and you see</span> <span m=''1050580''>one</span> <span m=''1050840''>after</span>
  <span m=''1051510''>another.</span> <span m=''1051890''>I</span> <span m=''1052120''>mean</span>
  <span m=''1052300''>you</span> <span m=''1052420''>write</span> <span m=''1052710''>your</span>
  <span m=''1052820''>program</span> <span m=''1053350''>and</span> <span m=''1053480''>compile.</span>
  <span m=''1054310''>It</span> <span m=''1054550''>looks</span> <span m=''1054820''>like</span>
  <span m=''1055050''>you</span> <span m=''1055340''>run</span> <span m=''1055500''>one</span>
  <span m=''1055890''>instruction,</span> <span m=''1056210''>finish</span> <span
  m=''1056320''>it,</span> <span m=''1056620''>run</span> <span m=''1056840''>another,</span>
  <span m=''1057050''>run</span> <span m=''1057290''>another.</span> <span m=''1057590''>So</span>
  <span m=''1057740''>in order</span> <span m=''1057880''>to  form</span> <span m=''1058120''>parallely,</span>
  <span m=''1059080''>you''re</span> <span m=''1059390''>to</span> <span m=''1059460''>find</span>
  <span m=''1059980''>things.</span> <span m=''1060240''>You</span> <span m=''1060360''>can
  actually</span> <span m=''1060810''>do</span> <span m=''1061060''>parallel.</span>
  <span m=''1061760''>That</span> <span m=''1061970''>takes</span> <span m=''1062190''>time.</span>
  </p><p><span m=''1064950''>And</span> <span m=''1066000''>of</span> <span m=''1066190''>course,</span>
  <span m=''1066390''>between</span> <span m=''1066520''>hardware</span> <span m=''1066930''>and</span>
  <span m=''1067120''>software</span> <span m=''1067420''>you</span> <span m=''1067500''>are
  to</span> <span m=''1067580''>maintain</span> <span m=''1069470''>that</span> <span
  m=''1069750''>preserve</span> <span m=''1070050''>order</span> <span m=''1070390''>of</span>
  <span m=''1070460''>instructions,</span> <span m=''1071050''>because</span> <span
  m=''1071300''>you</span> <span m=''1071460''>want</span> <span m=''1071760''>to</span>
  <span m=''1071830''>make</span> <span m=''1072060''>sure</span> <span m=''1072250''>that</span>
  <span m=''1072400''>it</span> <span m=''1072540''>looks</span> <span m=''1072810''>like</span>
  <span m=''1073130''>and</span> <span m=''1073320''>it feels</span> <span m=''1073640''>like
  you</span> <span m=''1073930''>ran</span> <span m=''1074200''>one</span> <span m=''1074440''>after</span>
  <span m=''1074650''>another</span> <span m=''1074960''>after another.</span> <span
  m=''1075730''>You</span> <span m=''1075870''>don''t</span> <span m=''1076010''>want</span>
  <span m=''1076300''>things</span> <span m=''1076500''>to</span> <span m=''1076620''>run
  in</span> <span m=''1076940''>a</span> <span m=''1077010''>haphazard</span> <span
  m=''1077340''>way</span> <span m=''1077670''>and</span> <span m=''1077930''>create</span>
  <span m=''1078310''>arbitrary</span> <span m=''1078565''>result.</span> <span m=''1079590''>And</span>
  <span m=''1079790''>so</span> <span m=''1079860''>you</span> <span m=''1080060''>have</span>
  <span m=''1080260''>to,</span> <span m=''1080460''>again,</span> <span m=''1080870''>things</span>
  <span m=''1081160''>like</span> <span m=''1081380''>this,</span> <span m=''1082060''>data</span>
  <span m=''1082880''>dependences,</span> <span m=''1083020''>control</span> <span
  m=''1083350''>dependences</span> <span m=''1083900''>have</span> <span m=''1084060''>to</span>
  <span m=''1084130''>be</span> <span m=''1084210''>satisfied</span> <span m=''1085150''>when</span>
  <span m=''1085300''>you''re</span> <span m=''1085410''>getting</span> <span m=''1085650''>this</span>
  <span m=''1085850''>parallelism.</span> </p><p><span m=''1088440''>So</span> <span
  m=''1090530''>data</span> <span m=''1090820''>dependency,</span> <span m=''1091230''>there''s</span>
  <span m=''1091440''>a</span> <span m=''1091710''>hazard,</span> <span m=''1092500''>and</span>
  <span m=''1093390''>determining</span> <span m=''1093710''>which</span> <span m=''1094070''>order
  you</span> <span m=''1094260''>can</span> <span m=''1094450''>run</span> <span m=''1094600''>things.</span>
  <span m=''1094910''>So</span> <span m=''1095060''>for</span> <span m=''1095160''>example,</span>
  <span m=''1095550''>output</span> <span m=''1095880''>dependence.</span> <span m=''1096600''>Say</span>
  <span m=''1096810''>look,</span> <span m=''1097230''>I</span> <span m=''1097350''>can''t</span>
  <span m=''1097690''>just</span> <span m=''1097890''>run</span> <span m=''1098020''>them</span>
  <span m=''1098200''>parallel.</span> <span m=''1098580''>I</span> <span m=''1098630''>have</span>
  <span m=''1098750''>to</span> <span m=''1098810''>make</span> <span m=''1099100''>one</span>
  <span m=''1099340''>after</span> <span m=''1099590''>another</span> <span m=''1099740''>after</span>
  <span m=''1100040''>another.</span> <span m=''1100480''>You''re</span> <span m=''1100780''>to</span>
  <span m=''1100820''>get</span> <span m=''1101010''>all</span> <span m=''1101150''>those</span>
  <span m=''1101340''>things</span> <span m=''1101550''>done.</span> <span m=''1102110''>And</span>
  <span m=''1102300''>also</span> <span m=''1102590''>if</span> <span m=''1102750''>you''re</span>
  <span m=''1102870''>lot</span> <span m=''1103080''>of</span> <span m=''1103150''>dependency</span>
  <span m=''1103850''>kind</span> <span m=''1104010''>of</span> <span m=''1104160''>gives</span>
  <span m=''1104360''>you</span> <span m=''1104470''>bounds,</span> <span m=''1105170''>how</span>
  <span m=''1105390''>much</span> <span m=''1105560''>parallelism</span> <span m=''1106140''>you</span>
  <span m=''1106220''>can</span> <span m=''1106420''>get.</span> <span m=''1106910''>If</span>
  <span m=''1107080''>things</span> <span m=''1107330''>are</span> <span m=''1107730''>all
  one</span> <span m=''1107920''>dependent</span> <span m=''1108400''>against</span>
  <span m=''1108730''>one</span> <span m=''1108920''>after</span> <span m=''1109230''>another,
  you</span> <span m=''1109400''>can''t</span> <span m=''1109600''>run</span> <span
  m=''1109710''>them</span> <span m=''1109870''>parallel.</span> <span m=''1110140''>You</span>
  <span m=''1110280''>have</span> <span m=''1110390''>to</span> <span m=''1110510''>wait</span>
  <span m=''1110630''>to</span> <span m=''1110790''>run</span> <span m=''1111110''>things
  to</span> <span m=''1111440''>another one.</span> </p><p><span m=''1112390''>So</span>
  <span m=''1112630''>by</span> <span m=''1112810''>looking</span> <span m=''1113150''>at</span>
  <span m=''1113250''>data</span> <span m=''1113440''>dependence,</span> <span m=''1113960''>as</span>
  <span m=''1114060''>you</span> <span m=''1114200''>can</span> <span m=''1114360''>figure</span>
  <span m=''1114670''>out,</span> <span m=''1114850''>OK</span> <span m=''1115050''>look,</span>
  <span m=''1115280''>did</span> <span m=''1115430''>I</span> <span m=''1115780''>get
  good</span> <span m=''1116010''>performance,</span> <span m=''1116520''>good</span>
  <span m=''1117600''>ILT</span> <span m=''1117740''>or</span> <span m=''1117850''>not?</span>
  <span m=''1120080''>So</span> <span m=''1120390''>what</span> <span m=''1120590''>we</span>
  <span m=''1120670''>want</span> <span m=''1120900''>to</span> <span m=''1120950''>do</span>
  <span m=''1121140''>is</span> <span m=''1121270''>exploit</span> <span m=''1121780''>this</span>
  <span m=''1123070''>parallelism</span> <span m=''1123550''>like</span> <span m=''1123750''>we
  see</span> <span m=''1123920''>in</span> <span m=''1124090''>the</span> <span m=''1124160''>program</span>
  <span m=''1124540''>order.</span> <span m=''1125900''>And</span> <span m=''1126140''>basically</span>
  <span m=''1128850''>make</span> <span m=''1129330''>sure</span> <span m=''1129440''>that</span>
  <span m=''1129620''>you</span> <span m=''1129850''>always</span> <span m=''1130170''>get</span>
  <span m=''1130300''>the</span> <span m=''1130370''>same</span> <span m=''1130590''>result</span>
  <span m=''1131010''>on that.</span> </p><p><span m=''1132410''>One</span> <span
  m=''1132810''>way</span> <span m=''1132910''>of</span> <span m=''1133240''>getting</span>
  <span m=''1133380''>parallelism</span> <span m=''1133970''>that</span> <span m=''1134550''>is</span>
  <span m=''1134960''>in</span> <span m=''1135390''>modern</span> <span m=''1135940''>process</span>
  <span m=''1136480''>is</span> <span m=''1136680''>called</span> <span m=''1137420''>multimedia</span>
  <span m=''1138010''>instruction.</span> <span m=''1139120''>It''s called</span>
  <span m=''1139410''>SIMD</span> <span m=''1140355''>in</span> <span m=''1140800''>academic</span>
  <span m=''1141220''>circle,</span> <span m=''1141660''>something</span> <span m=''1141920''>like</span>
  <span m=''1142160''>Single</span> <span m=''1142460''>Instruction</span> <span m=''1142930''>Multiple</span>
  <span m=''1143360''>Data,</span> <span m=''1144560''>and</span> <span m=''1145740''>it''s</span>
  <span m=''1145940''>called</span> <span m=''1146100''>data level</span> <span m=''1146540''>parallelism,</span>
  <span m=''1146970''>and</span> <span m=''1147240''>Intel,</span> <span m=''1147420''>of</span>
  <span m=''1147540''>course,</span> <span m=''1147730''>has</span> <span m=''1147860''>to</span>
  <span m=''1147950''>give</span> <span m=''1148190''>the</span> <span m=''1148320''>[UNINTELLIGIBLE]</span>
  <span m=''1148570''>name</span> <span m=''1148620''>they call</span> <span m=''1149080''>SSE,</span>
  <span m=''1149890''>they just</span> <span m=''1150170''>call it</span> <span m=''1150540''>MMX.</span>
  <span m=''1151870''>So</span> <span m=''1152070''>the idea</span> <span m=''1152520''>there</span>
  <span m=''1152790''>is</span> <span m=''1153690''>look,</span> <span m=''1154160''>they</span>
  <span m=''1154440''>are</span> <span m=''1154670''>building this</span> <span m=''1154820''>wide</span>
  <span m=''1155140''>measure.</span> <span m=''1156000''>They</span> <span m=''1156160''>can</span>
  <span m=''1156320''>easily</span> <span m=''1156760''>build</span> <span m=''1157020''>128</span>
  <span m=''1157940''>bit</span> <span m=''1158400''>wide</span> <span m=''1159180''>register.</span>
  <span m=''1160810''>But</span> <span m=''1161180''>you</span> <span m=''1161300''>most</span>
  <span m=''1161870''>probably</span> <span m=''1162210''>don''t</span> <span m=''1162340''>need</span>
  <span m=''1162500''>128</span> <span m=''1163260''>bit</span> <span m=''1163930''>data,</span>
  <span m=''1164440''>because</span> <span m=''1164710''>that''s</span> <span m=''1164920''>too</span>
  <span m=''1165060''>big.</span> <span m=''1165710''>But</span> <span m=''1165910''>they</span>
  <span m=''1166010''>can</span> <span m=''1166170''>build</span> <span m=''1166280''>this</span>
  <span m=''1166510''>large.</span> </p><p><span m=''1167740''>And</span> <span m=''1167970''>most
  will</span> <span m=''1168200''>tell</span> <span m=''1168340''>you</span> <span
  m=''1168440''>about</span> <span m=''1168680''>happy</span> <span m=''1169000''>with</span>
  <span m=''1169100''>about</span> <span m=''1169340''>32</span> <span m=''1169680''>bit</span>
  <span m=''1169810''>data.</span> <span m=''1170200''>So</span> <span m=''1170410''>what?</span>
  <span m=''1170950''>[UNINTELLIGIBLE]</span> <span m=''1171680''>wait</span> <span
  m=''1171790''>a</span> <span m=''1172020''>minute. You</span> <span m=''1172150''>build
  this</span> <span m=''1172600''>wide</span> <span m=''1172925''>thing.</span> <span
  m=''1173550''>But</span> <span m=''1173860''>you</span> <span m=''1173970''>can</span>
  <span m=''1174180''>chop</span> <span m=''1174420''>it</span> <span m=''1174590''>into</span>
  <span m=''1175590''>four</span> <span m=''1175880''>pieces</span> <span m=''1176250''>or</span>
  <span m=''1176400''>eight</span> <span m=''1176610''>pieces</span> <span m=''1176910''>or</span>
  <span m=''1177030''>two</span> <span m=''1177200''>pieces,</span> <span m=''1177570''>what</span>
  <span m=''1177720''>you want.</span> <span m=''1178340''>So</span> <span m=''1178500''>here</span>
  <span m=''1178720''>we</span> <span m=''1179020''>chop</span> <span m=''1179300''>that</span>
  <span m=''1179590''>large</span> <span m=''1179855''>thing</span> <span m=''1180120''>into</span>
  <span m=''1180460''>four</span> <span m=''1180650''>pieces.</span> </p><p><span
  m=''1181830''>And</span> <span m=''1182080''>then</span> <span m=''1182430''>what</span>
  <span m=''1182610''>you</span> <span m=''1182790''>can</span> <span m=''1182970''>do</span>
  <span m=''1183120''>is</span> <span m=''1183360''>in</span> <span m=''1183470''>a</span>
  <span m=''1183520''>single</span> <span m=''1184080''>instruction,</span> <span
  m=''1185480''>you</span> <span m=''1185730''>can</span> <span m=''1185980''>instead</span>
  <span m=''1186190''>of</span> <span m=''1186310''>doing</span> <span m=''1186530''>one</span>
  <span m=''1186800''>large</span> <span m=''1187150''>add,</span> <span m=''1188180''>the</span>
  <span m=''1188370''>same</span> <span m=''1188830''>type</span> <span m=''1189040''>of</span>
  <span m=''1189130''>adder,</span> <span m=''1189610''>you can</span> <span m=''1189810''>add</span>
  <span m=''1190010''>four</span> <span m=''1190290''>separate</span> <span m=''1190750''>things.</span>
  <span m=''1191000''>Four</span> <span m=''1191270''>small</span> <span m=''1191460''>parts.</span>
  <span m=''1192370''>So</span> <span m=''1192560''>you''re</span> <span m=''1192810''>assuring</span>
  <span m=''1193140''>add,</span> <span m=''1193760''>but</span> <span m=''1193920''>instead</span>
  <span m=''1194240''>of</span> <span m=''1194380''>adding</span> <span m=''1194790''>228</span>
  <span m=''1195910''>bit</span> <span m=''1196030''>data,</span> <span m=''1196530''>what</span>
  <span m=''1196680''>you are</span> <span m=''1196820''>doing</span> <span m=''1197180''>is</span>
  <span m=''1197350''>adding</span> <span m=''1197750''>here,</span> <span m=''1198530''>four</span>
  <span m=''1199440''>32</span> <span m=''1199770''>bit</span> <span m=''1199910''>data.</span>
  </p><p><span m=''1201590''>The</span> <span m=''1201900''>entire</span> <span m=''1202350''>architecture</span>
  <span m=''1202880''>looks</span> <span m=''1203310''>very</span> <span m=''1203610''>identical</span>
  <span m=''1204230''>to</span> <span m=''1204330''>an</span> <span m=''1204540''>228</span>
  <span m=''1204890''>bit</span> <span m=''1205410''>data.</span> <span m=''1205665''>It''s</span>
  <span m=''1205920''>basically</span> <span m=''1206510''>to</span> <span m=''1207120''>remember</span>
  <span m=''1207700''>your</span> <span m=''1208480''>double</span> <span m=''1208720''>004,</span>
  <span m=''1209075''>it''s like</span> <span m=''1209340''>a carry.</span> <span
  m=''1209640''>Then just</span> <span m=''1209940''>have</span> <span m=''1210050''>to</span>
  <span m=''1210150''>come</span> <span m=''1210460''>the carry.</span> <span m=''1211160''>You</span>
  <span m=''1211840''>don''t</span> <span m=''1212040''>carry</span> <span m=''1212360''>from</span>
  <span m=''1212560''>here</span> <span m=''1212750''>to</span> <span m=''1212840''>here,</span>
  <span m=''1213540''>and</span> <span m=''1214110''>do</span> <span m=''1214240''>that.</span>
  <span m=''1214460''>So</span> <span m=''1215040''>this</span> <span m=''1215320''>is</span>
  <span m=''1215500''>you''re</span> <span m=''1215720''>loading</span> <span m=''1216130''>this</span>
  <span m=''1216320''>large</span> <span m=''1216690''>chunk,</span> <span m=''1217310''>and</span>
  <span m=''1217460''>you are</span> <span m=''1217620''>just</span> <span m=''1217840''>working</span>
  <span m=''1218200''>on</span> <span m=''1218290''>these</span> <span m=''1218560''>things.</span>
  <span m=''1219050''>And</span> <span m=''1219370''>whala,</span> <span m=''1219760''>by</span>
  <span m=''1219890''>doing</span> <span m=''1220200''>that,</span> <span m=''1220820''>having</span>
  <span m=''1221020''>the</span> <span m=''1221100''>same</span> <span m=''1221520''>kind</span>
  <span m=''1221730''>of</span> <span m=''1221800''>circuitry,</span> <span m=''1222710''>you</span>
  <span m=''1222920''>get</span> <span m=''1223410''>much</span> <span m=''1223680''>better</span>
  <span m=''1223900''>parallelism.</span> <span m=''1224770''>And</span> <span m=''1224970''>if</span>
  <span m=''1225090''>you</span> <span m=''1225170''>have</span> <span m=''1225340''>like</span>
  <span m=''1225620''>8</span> <span m=''1225750''>bit</span> <span m=''1225990''>data,</span>
  <span m=''1226530''>boy,</span> <span m=''1226730''>you</span> <span m=''1226800''>can</span>
  <span m=''1227060''>get</span> <span m=''1227290''>lots of</span> <span m=''1227570''>parallelism.</span>
  </p><p><span m=''1228830''>So</span> <span m=''1230290''>there''s</span> <span m=''1230540''>all</span>
  <span m=''1230660''>these</span> <span m=''1230850''>multiple</span> <span m=''1230980''>instructions</span>
  <span m=''1231690''>in</span> <span m=''1231890''>there.</span> <span m=''1234380''>And</span>
  <span m=''1235000''>so</span> <span m=''1235390''>what</span> <span m=''1235530''>you</span>
  <span m=''1235650''>can</span> <span m=''1235780''>do</span> <span m=''1235910''>is</span>
  <span m=''1236060''>you</span> <span m=''1236150''>can have</span> <span m=''1236390''>a
  loop</span> <span m=''1236630''>like</span> <span m=''1236890''>this.</span> <span
  m=''1237560''>So</span> <span m=''1237850''>you can,</span> <span m=''1238550''>in</span>
  <span m=''1238855''>every situation,</span> <span m=''1239160''>you</span> <span
  m=''1239260''>can</span> <span m=''1239530''>add</span> <span m=''1239930''>the</span>
  <span m=''1240110''>I to</span> <span m=''1240370''>BI,</span> <span m=''1241470''>and</span>
  <span m=''1241900''>create</span> <span m=''1242330''>pretty</span> <span m=''1242440''>good</span>
  <span m=''1242550''>[UNINTELLIGIBLE].</span> <span m=''1242890''>So</span> <span
  m=''1243220''>you</span> <span m=''1243400''>can</span> <span m=''1243590''>do</span>
  <span m=''1243680''>one</span> <span m=''1244010''>at</span> <span m=''1244110''>a</span>
  <span m=''1244200''>time.</span> </p><p><span m=''1245160''>But</span> <span m=''1245940''>assume</span>
  <span m=''1246270''>you have</span> <span m=''1246520''>32 bit</span> <span m=''1246910''>values.</span>
  <span m=''1248700''>Instead of doing--</span> <span m=''1248950''>single</span>
  <span m=''1249140''>instruction</span> <span m=''1249780''>you</span> <span m=''1249940''>can</span>
  <span m=''1250110''>load</span> <span m=''1250690''>0</span> <span m=''1250860''>to</span>
  <span m=''1251110''>8</span> <span m=''1251420''>3</span> <span m=''1252070''>in</span>
  <span m=''1252210''>one</span> <span m=''1252490''>go.</span> <span m=''1253360''>B0</span>
  <span m=''1253710''>to</span> <span m=''1253800''>BC</span> <span m=''1254260''>in</span>
  <span m=''1254470''>one</span> <span m=''1254720''>go.</span> <span m=''1255000''>Just</span>
  <span m=''1255200''>do the</span> <span m=''1255430''>add</span> <span m=''1255840''>of
  all</span> <span m=''1256305''>four in</span> <span m=''1256770''>one,</span> <span
  m=''1257210''>go</span> <span m=''1257650''>[UNINTELLIGIBLE].</span> <span m=''1258990''>So</span>
  <span m=''1259650''>in</span> <span m=''1259920''>single</span> <span m=''1260070''>time</span>
  <span m=''1260520''>you get four</span> <span m=''1260860''>things</span> <span
  m=''1261090''>done.</span> <span m=''1261520''>So</span> <span m=''1261660''>this
  is really</span> <span m=''1261890''>cool.</span> <span m=''1262680''>And</span>
  <span m=''1262890''>if</span> <span m=''1263000''>you</span> <span m=''1263080''>remember</span>
  <span m=''1263530''>my</span> <span m=''1263820''>first</span> <span m=''1265920''>lecture,</span>
  <span m=''1266740''>we</span> <span m=''1266930''>showed</span> <span m=''1268020''>this</span>
  <span m=''1268500''>matrix</span> <span m=''1268870''>multiplier.</span> <span m=''1269790''>If</span>
  <span m=''1269900''>you</span> <span m=''1270020''>get</span> <span m=''1270180''>[UNINTELLIGIBLE]</span>
  <span m=''1270725''>in</span> <span m=''1271000''>there,</span> <span m=''1271220''>you</span>
  <span m=''1271330''>get</span> <span m=''1271580''>a lot</span> <span m=''1271870''>less</span>
  <span m=''1272080''>instructions</span> <span m=''1272650''>executed.</span> <span
  m=''1273280''>We</span> <span m=''1273410''>got</span> <span m=''1273490''>a</span>
  <span m=''1273580''>nice</span> <span m=''1273890''>[UNINTELLIGIBLE].</span> </p><p><span
  m=''1276420''>So</span> <span m=''1276710''>I''m</span> <span m=''1277050''>going</span>
  <span m=''1277390''>down,</span> <span m=''1277670''>so</span> <span m=''1277820''>the</span>
  <span m=''1278010''>top</span> <span m=''1278340''>path</span> <span m=''1278580''>I''m</span>
  <span m=''1278740''>showing,</span> <span m=''1279150''>the</span> <span m=''1279720''>C</span>
  <span m=''1279980''>code--</span> <span m=''1281270''>for</span> <span m=''1281380''>that</span>
  <span m=''1281560''>loop,</span> <span m=''1281980''>and</span> <span m=''1282230''>then</span>
  <span m=''1282500''>the</span> <span m=''1283280''>bottom</span> <span m=''1284250''>half</span>
  <span m=''1284560''>in</span> <span m=''1284710''>there,</span> <span m=''1284810''>I''m</span>
  <span m=''1285030''>showing</span> <span m=''1285520''>the</span> <span m=''1286010''>normal</span>
  <span m=''1286440''>assembly</span> <span m=''1286920''>that</span> <span m=''1287080''>we</span>
  <span m=''1287240''>[UNINTELLIGIBLE],</span> <span m=''1288240''>what</span> <span
  m=''1288450''>you</span> <span m=''1288650''>see.</span> <span m=''1289380''>And</span>
  <span m=''1290150''>once</span> <span m=''1290440''>you</span> <span m=''1290710''>start</span>
  <span m=''1291450''>understanding</span> <span m=''1291970''>assembly</span> <span
  m=''1292360''>a little</span> <span m=''1292460''>bit</span> <span m=''1292650''>more,</span>
  <span m=''1292840''>you</span> <span m=''1292910''>can</span> <span m=''1293100''>go
  ahead</span> <span m=''1293555''>and</span> <span m=''1294010''>read</span> <span
  m=''1294240''>this</span> <span m=''1294400''>and</span> <span m=''1294520''>see</span>
  <span m=''1294630''>what''s</span> <span m=''1294860''>going</span> <span m=''1295080''>on.</span>
  <span m=''1296210''>And</span> <span m=''1296440''>then</span> <span m=''1296580''>if</span>
  <span m=''1296700''>you</span> <span m=''1296810''>[UNINTELLIGIBLE],</span> <span
  m=''1297940''>you</span> <span m=''1298130''>get</span> <span m=''1298300''>a</span>
  <span m=''1298360''>humongous</span> <span m=''1298840''>beast</span> <span m=''1299130''>like</span>
  <span m=''1299400''>this.</span> <span m=''1300030''>This</span> <span m=''1300200''>has</span>
  <span m=''1300400''>unrolled</span> <span m=''1300980''>[UNINTELLIGIBLE],</span>
  <span m=''1301530''>whatever.</span> <span m=''1303250''>And</span> <span m=''1303900''>this</span>
  <span m=''1304060''>is</span> <span m=''1304230''>the</span> <span m=''1304330''>kind</span>
  <span m=''1304530''>of</span> <span m=''1304630''>code</span> <span m=''1305650''>that</span>
  <span m=''1306200''>we</span> <span m=''1306280''>generated</span> <span m=''1306770''>by</span>
  <span m=''1308150''>[UNINTELLIGIBLE].</span> <span m=''1309490''>And</span> <span
  m=''1310460''>that''s</span> <span m=''1310640''>just</span> <span m=''1310910''>much,</span>
  <span m=''1311170''>much</span> <span m=''1311360''>faster</span> <span m=''1311780''>than</span>
  <span m=''1312140''>the</span> <span m=''1312230''>one on the left.</span> <span
  m=''1315870''>Any questions</span> <span m=''1316380''>so far?</span> <span m=''1318520''>OK.</span>
  </p><p><span m=''1321140''>So</span> <span m=''1322070''>when</span> <span m=''1322290''>we</span>
  <span m=''1322440''>have</span> <span m=''1322590''>this</span> <span m=''1322980''>superscalar</span>
  <span m=''1323750''>[UNINTELLIGIBLE],</span> <span m=''1323980''>with</span> <span
  m=''1324130''>multiple</span> <span m=''1324560''>execution,</span> <span m=''1325750''>so</span>
  <span m=''1325990''>what</span> <span m=''1326280''>you</span> <span m=''1326570''>can</span>
  <span m=''1326790''>do</span> <span m=''1326940''>is</span> <span m=''1327100''>in</span>
  <span m=''1327260''>a clock</span> <span m=''1327690''>cycle,</span> <span m=''1328220''>you</span>
  <span m=''1328360''>can</span> <span m=''1328530''>do</span> <span m=''1328650''>a
  lot</span> <span m=''1328790''>of</span> <span m=''1328930''>things.</span> <span
  m=''1329940''>So</span> <span m=''1330460''>in</span> <span m=''1330890''>the</span>
  <span m=''1331390''>[UNINTELLIGIBLE]</span> <span m=''1331490''>processor,</span>
  <span m=''1331930''>you</span> <span m=''1332140''>have</span> <span m=''1332450''>basically</span>
  <span m=''1333550''>six</span> <span m=''1333980''>things,</span> <span m=''1334690''>six</span>
  <span m=''1335080''>execution</span> <span m=''1335680''>things that</span> <span
  m=''1335970''>can</span> <span m=''1336110''>happen</span> <span m=''1336350''>in</span>
  <span m=''1336470''>one clock</span> <span m=''1336860''>cycle.</span> <span m=''1337520''>It''s
  not</span> <span m=''1337660''>the</span> <span m=''1337760''>same</span> <span
  m=''1338100''>thing,</span> <span m=''1338280''>so</span> <span m=''1338390''>you</span>
  <span m=''1338510''>can</span> <span m=''1338730''>do</span> <span m=''1338830''>a</span>
  <span m=''1339380''>data</span> <span m=''1339750''>store.</span> <span m=''1340590''>You</span>
  <span m=''1340770''>can</span> <span m=''1340950''>store</span> <span m=''1341400''>address,</span>
  <span m=''1342360''>load</span> <span m=''1342690''>address</span> <span m=''1344740''>from</span>
  <span m=''1345330''>there,</span> <span m=''1345980''>and</span> <span m=''1346570''>then</span>
  <span m=''1347010''>you</span> <span m=''1347210''>can</span> <span m=''1347400''>do</span>
  <span m=''1347790''>three</span> <span m=''1348060''>different</span> <span m=''1348410''>type</span>
  <span m=''1348610''>of</span> <span m=''1348710''>executions.</span> <span m=''1350330''>There
  are</span> <span m=''1350640''>three</span> <span m=''1350720''>units</span> <span
  m=''1352294''>in</span> <span m=''1352722''>here.</span> <span m=''1353760''>In</span>
  <span m=''1353970''>here</span> <span m=''1354230''>you</span> <span m=''1354350''>can</span>
  <span m=''1354600''>do</span> <span m=''1354990''>either</span> <span m=''1355410''>integer</span>
  <span m=''1356370''>or</span> <span m=''1356750''>SSE,</span> <span m=''1357880''>add</span>
  <span m=''1358190''>or move</span> <span m=''1358660''>instruction,</span> <span
  m=''1359270''>this</span> <span m=''1359470''>unit</span> <span m=''1359720''>can</span>
  <span m=''1359890''>do</span> <span m=''1360010''>this</span> <span m=''1360410''>kind</span>
  <span m=''1360560''>of</span> <span m=''1360700''>instruction,</span> <span m=''1361190''>you</span>
  <span m=''1361320''>can</span> <span m=''1361440''>have</span> <span m=''1361590''>a</span>
  <span m=''1362120''>floating</span> <span m=''1362650''>point</span> <span m=''1362870''>add-in</span>
  <span m=''1363320''>around</span> <span m=''1363590''>here.</span> <span m=''1364900''>This</span>
  <span m=''1365150''>one needs</span> <span m=''1365450''>to also</span> <span m=''1365860''>have</span>
  <span m=''1366120''>this</span> <span m=''1366310''>bunch</span> <span m=''1366640''>of</span>
  <span m=''1366720''>different</span> <span m=''1367050''>things</span> <span m=''1367240''>you</span>
  <span m=''1367390''>can</span> <span m=''1367540''>do.</span> <span m=''1368010''>So</span>
  <span m=''1368470''>this</span> <span m=''1368980''>complex</span> <span m=''1369360''>hardware,</span>
  <span m=''1369860''>we''ll</span> <span m=''1370130''>kind</span> <span m=''1370400''>of</span>
  <span m=''1370490''>figure</span> <span m=''1370800''>out,</span> <span m=''1371020''>OK,</span>
  <span m=''1371280''>if</span> <span m=''1371400''>you</span> <span m=''1371480''>have</span>
  <span m=''1371830''>these</span> <span m=''1372030''>instructions,</span> <span
  m=''1372800''>figure</span> <span m=''1373050''>out</span> <span m=''1373730''>what</span>
  <span m=''1373990''>of</span> <span m=''1374150''>these</span> <span m=''1374300''>[UNINTELLIGIBLE]</span>
  <span m=''1375270''>are</span> <span m=''1375360''>available.</span> <span m=''1376100''>If</span>
  <span m=''1376310''>the</span> <span m=''1376400''>instruction</span> <span m=''1376950''>is</span>
  <span m=''1377100''>able</span> <span m=''1377210''>to</span> <span m=''1377440''>execute,</span>
  <span m=''1377980''>it will</span> <span m=''1378090''>put</span> <span m=''1378260''>it</span>
  <span m=''1378350''>into</span> <span m=''1378560''>one</span> <span m=''1378730''>of</span>
  <span m=''1378830''>these</span> <span m=''1379180''>and het</span> <span m=''1379350''>the
  results</span> <span m=''1379440''>out.</span> </p><p><span m=''1380310''>So</span>
  <span m=''1380830''>if</span> <span m=''1381020''>you''re</span> <span m=''1381250''>lucky,</span>
  <span m=''1383260''>what</span> <span m=''1383510''>you</span> <span m=''1383630''>can</span>
  <span m=''1383850''>see</span> <span m=''1384180''>is,</span> <span m=''1384670''>you</span>
  <span m=''1384830''>might</span> <span m=''1385230''>get</span> <span m=''1385420''>about</span>
  <span m=''1385670''>six</span> <span m=''1386050''>instructions</span> <span m=''1387100''>going</span>
  <span m=''1387480''>each</span> <span m=''1387690''>cycle.</span> <span m=''1389320''>So</span>
  <span m=''1389550''>if</span> <span m=''1389660''>you</span> <span m=''1389770''>look</span>
  <span m=''1389920''>at</span> <span m=''1391240''>the</span> <span m=''1391440''>mesh
  here,</span> <span m=''1391800''>what</span> <span m=''1391960''>we</span> <span
  m=''1392090''>call</span> <span m=''1392540''>clock</span> <span m=''1392980''>[UNINTELLIGIBLE]</span>
  <span m=''1393310''>instruction,</span> <span m=''1393960''>it</span> <span m=''1394110''>could</span>
  <span m=''1394200''>be</span> <span m=''1394350''>1/6.</span> <span m=''1395350''>If</span>
  <span m=''1395510''>you''re</span> <span m=''1395710''>lucky.</span> <span m=''1396020''>If</span>
  <span m=''1396110''>you</span> <span m=''1396220''>can</span> <span m=''1396510''>run</span>
  <span m=''1396790''>the</span> <span m=''1396880''>mesh</span> <span m=''1397110''>into</span>
  <span m=''1397280''>the</span> <span m=''1397430''>metal,</span> <span m=''1398070''>that</span>
  <span m=''1398260''>means</span> <span m=''1398600''>everything</span> <span m=''1399140''>is</span>
  <span m=''1399270''>working</span> <span m=''1399630''>all</span> <span m=''1399770''>the</span>
  <span m=''1399910''>time.</span> <span m=''1401340''>It''s</span> <span m=''1401540''>very</span>
  <span m=''1401740''>hard</span> <span m=''1401950''>to</span> <span m=''1402030''>find</span>
  <span m=''1402300''>that</span> <span m=''1402440''>kind</span> <span m=''1402640''>of</span>
  <span m=''1402710''>program,</span> <span m=''1403200''>but</span> <span m=''1404904''>[UNINTELLIGIBLE]</span>
  <span m=''1405860''>can</span> <span m=''1406260''>get</span> <span m=''1406450''>something</span>
  <span m=''1406900''>like that.  That''s</span> <span m=''1407210''>really</span>
  <span m=''1407580''>cool.</span> </p><p><span m=''1410570''>So</span> <span m=''1411110''>what</span>
  <span m=''1411330''>happens</span> <span m=''1411700''>is</span> <span m=''1411840''>to</span>
  <span m=''1411930''>get</span> <span m=''1412250''>this</span> <span m=''1412470''>thing,</span>
  <span m=''1412940''>they</span> <span m=''1413120''>do</span> <span m=''1413280''>things</span>
  <span m=''1413520''>called</span> <span m=''1413750''>out-of-order</span> <span
  m=''1414230''>instruction.</span> <span m=''1414860''>So</span> <span m=''1414980''>what</span>
  <span m=''1415150''>that</span> <span m=''1415330''>means</span> <span m=''1415730''>is,</span>
  <span m=''1417570''>issuing</span> <span m=''1418180''>this</span> <span m=''1418350''>varying</span>
  <span m=''1418700''>number</span> <span m=''1418950''>of</span> <span m=''1419050''>instructions</span>
  <span m=''1419660''>in the</span> <span m=''1419780''>clock,</span> <span m=''1420240''>in</span>
  <span m=''1420480''>here,</span> <span m=''1421340''>in</span> <span m=''1421840''>the
  Nehalem</span> <span m=''1422120''>processor,</span> <span m=''1422490''>you</span>
  <span m=''1422650''>can</span> <span m=''1422800''>store</span> <span m=''1423250''>128</span>
  <span m=''1424460''>instructions</span> <span m=''1425110''>in</span> <span m=''1425260''>this</span>
  <span m=''1425490''>core</span> <span m=''1426860''>instruction</span> <span m=''1427400''>buffer.</span>
  <span m=''1428630''>[INAUDIBLE]</span> <span m=''1429890''>better</span> <span m=''1430140''>name</span>
  <span m=''1430510''>than instruction</span> <span m=''1431260''>buffer.  If you
  can</span> <span m=''1431710''>see</span> <span m=''1431930''>that,</span> <span
  m=''1432250''>[INAUDIBLE]</span> <span m=''1432680''>very far.</span> <span m=''1433970''>But</span>
  <span m=''1434400''>[INAUDIBLE]</span> <span m=''1434830''>up there, sorry.</span>
  <span m=''1439770''>Here.</span> </p><p><span m=''1440300''>It''s</span> <span m=''1440590''>called</span>
  <span m=''1441310''>reservation</span> <span m=''1441880''>stations.</span> <span
  m=''1444120''>So</span> <span m=''1444390''>when</span> <span m=''1444530''>you</span>
  <span m=''1444820''>put it</span> <span m=''1444890''>in,</span> <span m=''1445200''>all</span>
  <span m=''1445420''>those</span> <span m=''1445610''>[UNINTELLIGIBLE],</span> <span
  m=''1446140''>reformation</span> <span m=''1446460''>[UNINTELLIGIBLE],</span> <span
  m=''1446740''>ready</span> <span m=''1447110''>to</span> <span m=''1447210''>get,</span>
  <span m=''1447990''>and</span> <span m=''1448330''>the</span> <span m=''1448400''>minute</span>
  <span m=''1448550''>it</span> <span m=''1448700''>becomes</span> <span m=''1449020''>available,</span>
  <span m=''1449650''>that</span> <span m=''1449820''>means</span> <span m=''1450000''>all</span>
  <span m=''1450170''>the</span> <span m=''1450280''>data</span> <span m=''1450530''>is</span>
  <span m=''1450630''>ready</span> <span m=''1451070''>for</span> <span m=''1451250''>it
  to</span> <span m=''1451420''>run,</span> <span m=''1452230''>you</span> <span m=''1452380''>can</span>
  <span m=''1452520''>basically</span> <span m=''1453010''>issue</span> <span m=''1453250''>that</span>
  <span m=''1453520''>and</span> <span m=''1453770''>run.</span> </p><p><span m=''1456800''>So</span>
  <span m=''1458990''>what</span> <span m=''1459220''>they''re</span> <span m=''1459370''>doing</span>
  <span m=''1459640''>is,</span> <span m=''1459780''>in</span> <span m=''1459920''>these</span>
  <span m=''1460090''>hundreds of</span> <span m=''1460590''>instructions,</span>
  <span m=''1461040''>you''re</span> <span m=''1461140''>figuring</span> <span m=''1461660''>out</span>
  <span m=''1461770''>the</span> <span m=''1461850''>patterns</span> <span m=''1462190''>you</span>
  <span m=''1462320''>can</span> <span m=''1462510''>run.</span> <span m=''1462780''>And</span>
  <span m=''1462900''>a</span> <span m=''1462950''>minute</span> <span m=''1463260''>some</span>
  <span m=''1463520''>part</span> <span m=''1463930''>is</span> <span m=''1464050''>available,</span>
  <span m=''1464370''>the</span> <span m=''1464530''>data</span> <span m=''1464880''>becomes</span>
  <span m=''1465200''>available,</span> <span m=''1466630''>you</span> <span m=''1466820''>can</span>
  <span m=''1467040''>run</span> <span m=''1467200''>that.</span> <span m=''1468010''>And</span>
  <span m=''1468270''>so</span> <span m=''1468360''>that</span> <span m=''1468590''>means</span>
  <span m=''1468830''>the</span> <span m=''1468960''>program</span> <span m=''1469690''>might</span>
  <span m=''1469830''>have</span> <span m=''1470240''>instructions</span> <span m=''1470760''>in</span>
  <span m=''1470910''>certain</span> <span m=''1471260''>order.</span> <span m=''1471720''>It</span>
  <span m=''1471820''>gets</span> <span m=''1472130''>executed</span> <span m=''1472700''>in</span>
  <span m=''1473290''>very</span> <span m=''1473480''>different</span> <span m=''1473820''>orders</span>
  <span m=''1474190''>than</span> <span m=''1474470''>what</span> <span m=''1474620''>the</span>
  <span m=''1474690''>program</span> <span m=''1475070''>has.</span> <span m=''1475660''>So</span>
  <span m=''1476050''>that''s</span> <span m=''1476270''>what</span> <span m=''1476500''>call</span>
  <span m=''1476770''>you</span> <span m=''1476870''>can</span> <span m=''1477170''>give</span>
  <span m=''1477460''>things</span> <span m=''1477570''>like</span> <span m=''1477770''>[UNINTELLIGIBLE]</span>
  <span m=''1478170''>register,</span> <span m=''1478735''>[UNINTELLIGIBLE]</span>
  <span m=''1479030''>dependencies,</span> <span m=''1480460''>[UNINTELLIGIBLE]</span>
  <span m=''1480940''>execution.</span> <span m=''1481550''>And</span> <span m=''1481660''>sometimes</span>
  <span m=''1482020''>you might run</span> <span m=''1482380''>speculator.</span>
  <span m=''1482910''>You</span> <span m=''1483180''>might</span> <span m=''1483550''>not</span>
  <span m=''1483790''>know.</span> <span m=''1484250''>You might</span> <span m=''1484560''>have</span>
  <span m=''1484690''>the</span> <span m=''1484780''>data,</span> <span m=''1485100''>but</span>
  <span m=''1485470''>there</span> <span m=''1485750''>might</span> <span m=''1485910''>be</span>
  <span m=''1486020''>controlled</span> <span m=''1486390''>dependence.</span> <span
  m=''1486830''>You</span> <span m=''1486970''>might</span> <span m=''1487190''>not</span>
  <span m=''1487420''>know</span> <span m=''1487550''>that</span> <span m=''1487700''>it''s</span>
  <span m=''1487860''>actually</span> <span m=''1488260''>is</span> <span m=''1488590''>supposed</span>
  <span m=''1488960''>to</span> <span m=''1489010''>happen,</span> <span m=''1489400''>but</span>
  <span m=''1489540''>it says</span> <span m=''1489670''>wait a minute,</span> <span
  m=''1490470''>I have</span> <span m=''1491210''>execution</span> <span m=''1491940''>available.</span>
  <span m=''1492430''>It''s</span> <span m=''1492560''>not</span> <span m=''1492700''>doing</span>
  <span m=''1492920''>anything.</span> <span m=''1493380''>OK,</span> <span m=''1493860''>let''s</span>
  <span m=''1494050''>run it</span> <span m=''1494740''>and</span> <span m=''1495150''>keep</span>
  <span m=''1495360''>the results,</span> <span m=''1495960''>and</span> <span m=''1496150''>if</span>
  <span m=''1496270''>it</span> <span m=''1496380''>is</span> <span m=''1496450''>actually</span>
  <span m=''1497250''>useful,</span> <span m=''1497760''>we''ll</span> <span m=''1498250''>use</span>
  <span m=''1498480''>it.</span> <span m=''1498830''>Otherwise,</span> <span m=''1499090''>we''ll</span>
  <span m=''1499230''>throw it</span> <span m=''1499550''>away.</span> <span m=''1500280''>You</span>
  <span m=''1500400''>can</span> <span m=''1500530''>do</span> <span m=''1500650''>things</span>
  <span m=''1500870''>like</span> <span m=''1501040''>that.</span> <span m=''1502290''>And</span>
  <span m=''1502430''>that''s</span> <span m=''1502600''>a</span> <span m=''1502660''>speculation.</span>
  </p><p><span m=''1503700''>So</span> <span m=''1504020''>another</span> <span m=''1504270''>type</span>
  <span m=''1504480''>of</span> <span m=''1504580''>speculation--</span> <span m=''1506580''>speculation</span>
  <span m=''1507220''>mostly</span> <span m=''1507680''>means,</span> <span m=''1509300''>you</span>
  <span m=''1509440''>want</span> <span m=''1509650''>to</span> <span m=''1509710''>do</span>
  <span m=''1509860''>something,</span> <span m=''1510220''>but</span> <span m=''1510470''>you</span>
  <span m=''1510580''>don''t</span> <span m=''1510710''>know</span> <span m=''1510840''>whether</span>
  <span m=''1510990''>you</span> <span m=''1511100''>can</span> <span m=''1511280''>do</span>
  <span m=''1511530''>it.</span> <span m=''1512520''>So</span> <span m=''1512990''>how</span>
  <span m=''1513170''>do</span> <span m=''1513260''>you</span> <span m=''1513340''>go</span>
  <span m=''1513450''>about</span> <span m=''1513700''>doing</span> <span m=''1513940''>that?</span>
  <span m=''1514180''>The</span> <span m=''1514280''>way</span> <span m=''1514680''>that</span>
  <span m=''1515020''>interprocess</span> <span m=''1516090''>and</span> <span m=''1516340''>modern</span>
  <span m=''1516450''>processor</span> <span m=''1517060''>do,</span> <span m=''1517270''>is</span>
  <span m=''1517400''>they do</span> <span m=''1517560''>a</span> <span m=''1517620''>lot</span>
  <span m=''1517770''>of</span> <span m=''1517910''>predictions.</span> <span m=''1519230''>It</span>
  <span m=''1519410''>has</span> <span m=''1519810''>like</span> <span m=''1520080''>this</span>
  <span m=''1520360''>is</span> <span m=''1520690''>[UNINTELLIGIBLE]</span> <span
  m=''1520900''>say,</span> <span m=''1521210''>look</span> <span m=''1521360''>at</span>
  <span m=''1521510''>the</span> <span m=''1521910''>crystal</span> <span m=''1522230''>ball</span>
  <span m=''1522550''>and</span> <span m=''1522660''>say,</span> <span m=''1522780''>aha,</span>
  <span m=''1523110''>this</span> <span m=''1523300''>is</span> <span m=''1523430''>the</span>
  <span m=''1523510''>future.</span> <span m=''1524360''>And</span> <span m=''1524510''>it</span>
  <span m=''1525240''>does</span> <span m=''1525460''>that</span> <span m=''1525590''>[UNINTELLIGIBLE]</span>
  <span m=''1525960''>really</span> <span m=''1526290''>many</span> <span m=''1526610''>things.</span>
  <span m=''1527210''>So</span> <span m=''1527740''>it</span> <span m=''1528040''>does</span>
  <span m=''1528240''>things</span> <span m=''1528450''>like</span> <span m=''1528510''>branch</span>
  <span m=''1528950''>prediction,</span> <span m=''1529930''>value</span> <span m=''1530310''>prediction,</span>
  <span m=''1531030''>prefetching.</span> </p><p><span m=''1532050''>So</span> <span
  m=''1532180''>it</span> <span m=''1532350''>says,</span> <span m=''1532720''>aha,</span>
  <span m=''1533750''>I</span> <span m=''1533890''>don''t</span> <span m=''1534040''>know</span>
  <span m=''1534180''>where you''re going,</span> <span m=''1534780''>but</span> <span
  m=''1535010''>I</span> <span m=''1535100''>think</span> <span m=''1535820''>you</span>
  <span m=''1536000''>are going</span> <span m=''1537290''>home</span> <span m=''1537790''>after</span>
  <span m=''1537840''>the</span> <span m=''1537920''>class.</span> <span m=''1538260''>And</span>
  <span m=''1538390''>then</span> <span m=''1538550''>probably</span> <span m=''1538920''>if
  I said</span> <span m=''1539190''>something</span> <span m=''1539480''>like</span>
  <span m=''1539650''>this, it''s</span> <span m=''1539840''>probably right</span>
  <span m=''1540220''>for</span> <span m=''1540330''>most</span> <span m=''1540570''>of</span>
  <span m=''1540710''>the people.</span> <span m=''1541480''>And actually,</span>
  <span m=''1541925''>no,</span> <span m=''1542620''>in</span> <span m=''1542720''>this</span>
  <span m=''1542920''>class,</span> <span m=''1543380''>most of you,</span> <span
  m=''1543600''>again,</span> <span m=''1543860''>will probably</span> <span m=''1544190''>go</span>
  <span m=''1544340''>to</span> <span m=''1544420''>sleep</span> <span m=''1544800''>after</span>
  <span m=''1544920''>the</span> <span m=''1545260''>class,</span> <span m=''1546330''>because</span>
  <span m=''1546610''>of</span> <span m=''1546660''>the</span> <span m=''1546740''>project.</span>
  <span m=''1547930''>So</span> <span m=''1548200''>if</span> <span m=''1548380''>I</span>
  <span m=''1548440''>do</span> <span m=''1548580''>that</span> <span m=''1548810''>probably</span>
  <span m=''1548970''>I</span> <span m=''1549890''>do</span> <span m=''1550090''>a</span>
  <span m=''1550130''>very</span> <span m=''1550360''>good</span> <span m=''1550520''>prediction.</span>
  <span m=''1552160''>How</span> <span m=''1552320''>many</span> <span m=''1552470''>of</span>
  <span m=''1552580''>you</span> <span m=''1552680''>are going to</span> <span m=''1552860''>go
  to</span> <span m=''1552980''>sleep</span> <span m=''1553260''>after the</span>
  <span m=''1553705''>class?</span> <span m=''1556380''>Huh,</span> <span m=''1556750''>my
  prediction</span> <span m=''1557120''>is</span> <span m=''1557230''>not</span> <span
  m=''1557410''>that</span> <span m=''1557570''>good.</span> <span m=''1557910''>OK.</span>
  <span m=''1558910''>We''ll see.</span> </p><p><span m=''1563540''>So</span> <span
  m=''1563930''>you</span> <span m=''1564080''>can</span> <span m=''1564300''>go</span>
  <span m=''1564870''>all</span> <span m=''1565280''>these</span> <span m=''1566120''>kinds</span>
  <span m=''1566290''>of</span> <span m=''1566360''>things,</span> <span m=''1566560''>identify</span>
  <span m=''1567300''>normal</span> <span m=''1567800''>behavior</span> <span m=''1568320''>programs</span>
  <span m=''1568840''>to</span> <span m=''1568920''>deal</span> <span m=''1569120''>with</span>
  <span m=''1569290''>that.</span> <span m=''1569900''>Ad</span> <span m=''1570330''>what
  prefetching</span> <span m=''1571040''>says</span> <span m=''1571360''>is,</span>
  <span m=''1571610''>if</span> <span m=''1571810''>I</span> <span m=''1571930''>look</span>
  <span m=''1572170''>at</span> <span m=''1572380''>what</span> <span m=''1572680''>you</span>
  <span m=''1572810''>have</span> <span m=''1573000''>been</span> <span m=''1573330''>taking</span>
  <span m=''1573650''>from</span> <span m=''1573840''>the</span> <span m=''1573960''>money,</span>
  <span m=''1575030''>there are</span> <span m=''1575190''>some</span> <span m=''1575420''>patterns,</span>
  <span m=''1576410''>and</span> <span m=''1576610''>I''m</span> <span m=''1576790''>expecting</span>
  <span m=''1577230''>you to</span> <span m=''1577410''>[UNINTELLIGIBLE]</span> <span
  m=''1577780''>that</span> <span m=''1577990''>pattern,</span> <span m=''1578380''>and</span>
  <span m=''1578530''>I</span> <span m=''1578600''>will</span> <span m=''1578820''>basically</span>
  <span m=''1579530''>get</span> <span m=''1579890''>the</span> <span m=''1579990''>data,</span>
  <span m=''1580390''>even though</span> <span m=''1580870''>you don''t</span> <span
  m=''1581060''>ask for it,</span> <span m=''1581570''>because</span> <span m=''1582050''>I''m</span>
  <span m=''1582210''>expecting</span> <span m=''1583170''>you</span> <span m=''1583330''>to</span>
  <span m=''1583480''>be</span> <span m=''1584690''>doing</span> <span m=''1585060''>that.</span>
  <span m=''1586210''>It''s</span> <span m=''1586390''>like</span> <span m=''1586550''>a</span>
  <span m=''1586620''>very</span> <span m=''1587070''>good</span> <span m=''1587260''>butler</span>
  <span m=''1587750''>who</span> <span m=''1587970''>can</span> <span m=''1589080''>really</span>
  <span m=''1591290''>think,</span> <span m=''1592290''>you</span> <span m=''1593100''>ask</span>
  <span m=''1593260''>something,</span> <span m=''1593660''>have</span> <span m=''1593810''>that</span>
  <span m=''1593960''>ready</span> <span m=''1594250''>for</span> <span m=''1594370''>you,</span>
  <span m=''1594980''>basically.</span> </p><p><span m=''1596500''>So</span> <span
  m=''1597480''>by</span> <span m=''1597630''>doing</span> <span m=''1597910''>that,</span>
  <span m=''1598060''>you</span> <span m=''1598200''>can</span> <span m=''1598340''>get</span>
  <span m=''1598510''>much</span> <span m=''1598810''>better</span> <span m=''1599010''>parallelism,</span>
  <span m=''1599880''>because</span> <span m=''1600200''>now</span> <span m=''1600760''>you''re</span>
  <span m=''1600970''>not waiting</span> <span m=''1601340''>for</span> <span m=''1601460''>that</span>
  <span m=''1602570''>to</span> <span m=''1602860''>be</span> <span m=''1603030''>sure</span>
  <span m=''1603230''>that</span> <span m=''1603380''>you</span> <span m=''1603490''>can</span>
  <span m=''1603660''>do</span> <span m=''1603820''>it.</span> <span m=''1604110''>You''re
  just</span> <span m=''1604230''>kind</span> <span m=''1604440''>of</span> <span
  m=''1604550''>doing</span> <span m=''1604860''>this,</span> <span m=''1605430''>assuming</span>
  <span m=''1605950''>you</span> <span m=''1606060''>might</span> <span m=''1606240''>be</span>
  <span m=''1606350''>using</span> <span m=''1606790''>it,</span> <span m=''1607190''>and</span>
  <span m=''1607700''>if</span> <span m=''1607810''>you do</span> <span m=''1607920''>it</span>
  <span m=''1608240''>really</span> <span m=''1608520''>well,</span> <span m=''1609170''>you''re</span>
  <span m=''1609320''>actually</span> <span m=''1609620''>going to</span> <span m=''1609790''>use</span>
  <span m=''1610020''>it.</span> <span m=''1610230''>And</span> <span m=''1610380''>that</span>
  <span m=''1610490''>will</span> <span m=''1610590''>be</span> <span m=''1610690''>useful.</span>
  </p><p><span m=''1613210''>So</span> <span m=''1614070''>for</span> <span m=''1614170''>example,</span>
  <span m=''1614480''>even</span> <span m=''1614690''>things</span> <span m=''1614870''>like</span>
  <span m=''1614970''>value</span> <span m=''1615250''>prediction.</span> <span m=''1615640''>Value</span>
  <span m=''1615860''>prediction</span> <span m=''1616350''>says,</span> <span m=''1617170''>[UNINTELLIGIBLE]</span>
  <span m=''1617660''>to</span> <span m=''1617750''>get</span> <span m=''1617930''>out,</span>
  <span m=''1618620''>you</span> <span m=''1618720''>know</span> <span m=''1619000''>when
  you</span> <span m=''1619220''>do</span> <span m=''1619380''>this</span> <span m=''1619530''>complex</span>
  <span m=''1619980''>calculation,</span> <span m=''1620740''>most</span> <span m=''1621130''>of</span>
  <span m=''1621200''>the</span> <span m=''1621270''>time,</span> <span m=''1621530''>data</span>
  <span m=''1621810''>is</span> <span m=''1621900''>zero.</span> <span m=''1623170''>You</span>
  <span m=''1623290''>multiply</span> <span m=''1623530''>and</span> <span m=''1624020''>add</span>
  <span m=''1624260''>a</span> <span m=''1624300''>lot</span> <span m=''1624520''>of</span>
  <span m=''1624600''>zeroes,</span> <span m=''1625100''>and</span> <span m=''1625230''>if</span>
  <span m=''1625320''>you''re</span> <span m=''1625420''>doing</span> <span m=''1626670''>spreadsheets,</span>
  <span m=''1627450''>all</span> <span m=''1627700''>it</span> <span m=''1627770''>is</span>
  <span m=''1627880''>[UNINTELLIGIBLE]</span> <span m=''1628270''>calculations.</span>
  <span m=''1628990''>So</span> <span m=''1629210''>if</span> <span m=''1629400''>I</span>
  <span m=''1629480''>don''t</span> <span m=''1629730''>know</span> <span m=''1629840''>the
  value,</span> <span m=''1631190''>let</span> <span m=''1631400''>me</span> <span
  m=''1631610''>assume</span> <span m=''1632130''>it''s</span> <span m=''1632320''>0.</span>
  <span m=''1633440''>And</span> <span m=''1633600''>that</span> <span m=''1633770''>actually</span>
  <span m=''1634030''>works</span> <span m=''1634290''>most of</span> <span m=''1634430''>the</span>
  <span m=''1634560''>time.</span> <span m=''1634810''>Or</span> <span m=''1635310''>you</span>
  <span m=''1635440''>look</span> <span m=''1635600''>at</span> <span m=''1635690''>the</span>
  <span m=''1635730''>last</span> <span m=''1635980''>couple</span> <span m=''1636210''>of</span>
  <span m=''1636310''>times,</span> <span m=''1636620''>what</span> <span m=''1636820''>has</span>
  <span m=''1636960''>happened</span> <span m=''1637230''>to</span> <span m=''1637400''>that</span>
  <span m=''1638080''>[UNINTELLIGIBLE],</span> <span m=''1638440''>and there,</span>
  <span m=''1638940''>let me</span> <span m=''1639225''>predict</span> <span m=''1639510''>something.</span>
  <span m=''1640170''>And</span> <span m=''1640520''>people</span> <span m=''1640750''>to</span>
  <span m=''1640810''>find</span> <span m=''1641230''>these</span> <span m=''1641450''>kind</span>
  <span m=''1641610''>of</span> <span m=''1641760''>things</span> <span m=''1642000''>that</span>
  <span m=''1642130''>are</span> <span m=''1642200''>a lot of</span> <span m=''1642380''>patterns</span>
  <span m=''1642890''>in</span> <span m=''1643000''>[UNINTELLIGIBLE]</span> <span
  m=''1643270''>program.</span> <span m=''1643960''>And</span> <span m=''1644100''>if</span>
  <span m=''1644200''>it</span> <span m=''1644350''>works,</span> <span m=''1645130''>that''s</span>
  <span m=''1645240''>really</span> <span m=''1645610''>great.</span> </p><p><span
  m=''1648130''>So</span> <span m=''1649250''>in</span> <span m=''1649430''>speculation,</span>
  <span m=''1649970''>what</span> <span m=''1650130''>you</span> <span m=''1650280''>do</span>
  <span m=''1650460''>is</span> <span m=''1650950''>first</span> <span m=''1651360''>issue</span>
  <span m=''1651680''>and</span> <span m=''1651800''>execute.</span> <span m=''1652820''>As</span>
  <span m=''1653190''>if</span> <span m=''1653300''>the</span> <span m=''1653410''>branch</span>
  <span m=''1653940''>was--</span> <span m=''1654540''>I</span> <span m=''1654660''>already</span>
  <span m=''1654970''>knew</span> <span m=''1655170''>where it is</span> <span m=''1655555''>going,</span>
  <span m=''1656050''>just</span> <span m=''1656250''>by</span> <span m=''1656380''>using
  the</span> <span m=''1656690''>prediction.</span> <span m=''1657540''>And</span>
  <span m=''1657810''>if</span> <span m=''1657970''>I</span> <span m=''1658060''>just</span>
  <span m=''1658310''>know</span> <span m=''1658410''>dynamic</span> <span m=''1658830''>scheduling,</span>
  <span m=''1659240''>I</span> <span m=''1659350''>am only</span> <span m=''1659740''>doing</span>
  <span m=''1659950''>[UNINTELLIGIBLE]</span> <span m=''1661100''>issues,</span> <span
  m=''1661630''>I am not</span> <span m=''1661880''>going</span> <span m=''1662160''>to</span>
  <span m=''1662200''>execute</span> <span m=''1662580''>until</span> <span m=''1663010''>I</span>
  <span m=''1663170''>know</span> <span m=''1663400''>everything</span> <span m=''1663780''>is</span>
  <span m=''1663880''>[UNINTELLIGIBLE].</span> <span m=''1664100''>So</span> <span
  m=''1664360''>it''s</span> <span m=''1664510''>speculation</span> <span m=''1664990''>goes</span>
  <span m=''1665220''>one</span> <span m=''1665590''>step</span> <span m=''1665700''>beyond.</span>
  </p><p><span m=''1668030''>It''s</span> <span m=''1668210''>what</span> <span m=''1668410''>we</span>
  <span m=''1668520''>call</span> <span m=''1668750''>a</span> <span m=''1668850''>data</span>
  <span m=''1669180''>flow</span> <span m=''1669340''>execution</span> <span m=''1669900''>model,</span>
  <span m=''1670480''>the</span> <span m=''1670920''>dynamic</span> <span m=''1671350''>schedule.</span>
  <span m=''1671480''>And</span> <span m=''1671660''>that</span> <span m=''1671830''>means,</span>
  <span m=''1672160''>the</span> <span m=''1672550''>minute</span> <span m=''1672860''>the</span>
  <span m=''1672950''>data</span> <span m=''1673290''>is</span> <span m=''1673450''>ready</span>
  <span m=''1674170''>and</span> <span m=''1674350''>everything</span> <span m=''1674690''>is</span>
  <span m=''1674770''>ready,</span> <span m=''1674970''>you</span> <span m=''1675170''>can</span>
  <span m=''1675340''>execute,</span> <span m=''1675880''>even</span> <span m=''1676190''>though</span>
  <span m=''1676300''>it</span> <span m=''1676450''>might</span> <span m=''1676630''>not</span>
  <span m=''1676810''>mean</span> <span m=''1676950''>the</span> <span m=''1677060''>same</span>
  <span m=''1677360''>mode</span> <span m=''1677560''>of</span> <span m=''1677670''>the</span>
  <span m=''1677750''>program.</span> <span m=''1678200''>It</span> <span m=''1678320''>might</span>
  <span m=''1678550''>be</span> <span m=''1678690''>much</span> <span m=''1678860''>later</span>
  <span m=''1679190''>instruction.</span> <span m=''1680090''>But</span> <span m=''1680340''>implicitly,</span>
  <span m=''1680730''>you</span> <span m=''1680880''>can</span> <span m=''1681030''>execute</span>
  <span m=''1681390''>that.</span> <span m=''1683340''>So</span> <span m=''1684535''>again,</span>
  <span m=''1684900''>the</span> <span m=''1685110''>[UNINTELLIGIBLE]</span> <span
  m=''1685610''>pipeline,</span> <span m=''1686460''>you</span> <span m=''1686680''>can</span>
  <span m=''1686900''>do</span> <span m=''1687240''>20</span> <span m=''1687495''>to</span>
  <span m=''1687980''>24</span> <span m=''1688220''>stage</span> <span m=''1688985''>or</span>
  <span m=''1689240''>16,</span> <span m=''1689640''>whatever</span> <span m=''1689890''>is</span>
  <span m=''1690290''>correct.</span> </p><p><span m=''1691430''>The</span> <span
  m=''1691810''>other</span> <span m=''1692100''>thing</span> <span m=''1692330''>it
  does</span> <span m=''1692460''>is</span> <span m=''1692830''>this</span> <span
  m=''1693480''>crazy</span> <span m=''1693690''>thing</span> <span m=''1693890''>called</span>
  <span m=''1694060''>micro-ops</span> <span m=''1695090''>that</span> <span m=''1696500''>puts</span>
  <span m=''1696800''>everybody</span> <span m=''1697130''>out</span> <span m=''1697290''>to
  a</span> <span m=''1697510''>loop.</span> <span m=''1697770''>So</span> <span m=''1698170''>what</span>
  <span m=''1698430''>happened</span> <span m=''1698740''>was--</span> <span m=''1699170''>this</span>
  <span m=''1699340''>is</span> <span m=''1699490''>kind</span> <span m=''1699650''>of</span>
  <span m=''1699710''>historical--</span> <span m=''1700920''>Intel,</span> <span
  m=''1701220''>a</span> <span m=''1701540''>long</span> <span m=''1701820''>time</span>
  <span m=''1702040''>ago,</span> <span m=''1702230''>came</span> <span m=''1702480''>up</span>
  <span m=''1702590''>with</span> <span m=''1702680''>the</span> <span m=''1702770''>x86</span>
  <span m=''1703390''>architecture.</span> <span m=''1704262''>They</span> <span m=''1704610''>came</span>
  <span m=''1704850''>up</span> <span m=''1704980''>with</span> <span m=''1705090''>this</span>
  <span m=''1705230''>instruction</span> <span m=''1705720''>set.</span> <span m=''1706810''>That</span>
  <span m=''1706990''>instruction</span> <span m=''1707490''>set</span> <span m=''1707730''>is</span>
  <span m=''1707890''>called</span> <span m=''1708110''>a</span> <span m=''1708620''>CISC</span>
  <span m=''1709300''>instruction</span> <span m=''1709710''>set.</span> <span m=''1709960''>It''s</span>
  <span m=''1710160''>a</span> <span m=''1710270''>complex</span> <span m=''1710780''>instruction</span>
  <span m=''1711035''>set</span> <span m=''1711290''>architecture.</span> <span m=''1713240''>What</span>
  <span m=''1713530''>that</span> <span m=''1713740''>means</span> <span m=''1713940''>is</span>
  <span m=''1714060''>there</span> <span m=''1714220''>are</span> <span m=''1714310''>these</span>
  <span m=''1714370''>instructions</span> <span m=''1715150''>there</span> <span m=''1715310''>are</span>
  <span m=''1715890''>that</span> <span m=''1716270''>are</span> <span m=''1716980''>really,</span>
  <span m=''1717220''>really</span> <span m=''1717480''>complex.</span> <span m=''1717800''>You</span>
  <span m=''1718020''>can</span> <span m=''1718240''>move</span> <span m=''1718540''>an</span>
  <span m=''1718840''>entire</span> <span m=''1719470''>string</span> <span m=''1719940''>from</span>
  <span m=''1720110''>one</span> <span m=''1720300''>place</span> <span m=''1720540''>to
  another</span> <span m=''1721700''>in</span> <span m=''1721840''>one</span> <span
  m=''1722060''>instruction.</span> <span m=''1723400''>The</span> <span m=''1723610''>problem</span>
  <span m=''1724100''>is,</span> <span m=''1725580''>most</span> <span m=''1725910''>instructions</span>
  <span m=''1726410''>cannot</span> <span m=''1726690''>be</span> <span m=''1726860''>done</span>
  <span m=''1727450''>in</span> <span m=''1727700''>one</span> <span m=''1727890''>cycle.</span>
  </p><p><span m=''1728750''>So</span> <span m=''1729000''>what</span> <span m=''1729260''>modern</span>
  <span m=''1729590''>[UNINTELLIGIBLE]</span> <span m=''1730420''>did</span> <span
  m=''1730740''>was,</span> <span m=''1730980''>they</span> <span m=''1731270''>built</span>
  <span m=''1731560''>a</span> <span m=''1731830''>[UNINTELLIGIBLE]</span> <span m=''1732150''>compiler</span>
  <span m=''1732750''>into</span> <span m=''1733130''>the</span> <span m=''1733200''>hardware.</span>
  <span m=''1734740''>So</span> <span m=''1734920''>what</span> <span m=''1735130''>happens</span>
  <span m=''1735540''>inside</span> <span m=''1735900''>this</span> <span m=''1736110''>process</span>
  <span m=''1736540''>is,</span> <span m=''1736710''>take</span> <span m=''1737020''>this</span>
  <span m=''1737330''>CISC</span> <span m=''1737690''>instruction</span> <span m=''1738610''>and</span>
  <span m=''1738900''>compile</span> <span m=''1739400''>them</span> <span m=''1739620''>down</span>
  <span m=''1740030''>to</span> <span m=''1740170''>these</span> <span m=''1740410''>particular</span>
  <span m=''1740760''>micro-operations,</span> <span m=''1741990''>that</span> <span
  m=''1742160''>each</span> <span m=''1742390''>operation</span> <span m=''1742920''>is</span>
  <span m=''1743010''>small</span> <span m=''1743490''>can</span> <span m=''1743690''>be</span>
  <span m=''1743820''>done</span> <span m=''1744080''>in</span> <span m=''1744660''>basically</span>
  <span m=''1745170''>one</span> <span m=''1745360''>cycle.</span> <span m=''1746180''>So</span>
  <span m=''1746410''>it''s</span> <span m=''1746800''>doing</span> <span m=''1747180''>this</span>
  <span m=''1747340''>mapping</span> <span m=''1747770''>in</span> <span m=''1747900''>there.</span>
  <span m=''1748080''>And</span> <span m=''1748290''>then</span> <span m=''1748910''>inside</span>
  <span m=''1749400''>the</span> <span m=''1749490''>computer,</span> <span m=''1749930''>it''s</span>
  <span m=''1750340''>basically</span> <span m=''1750780''>dealing</span> <span m=''1750920''>with</span>
  <span m=''1751090''>micro-ops.</span> <span m=''1752060''>So up</span> <span m=''1752370''>to</span>
  <span m=''1752460''>here,</span> <span m=''1757690''>it''s</span> <span m=''1757960''>dealing</span>
  <span m=''1758400''>with</span> <span m=''1759190''>these</span> <span m=''1759610''>long</span>
  <span m=''1759900''>instructions,</span> <span m=''1760420''>and</span> <span m=''1760560''>here</span>
  <span m=''1761160''>it''s</span> <span m=''1761440''>precoding</span> <span m=''1762100''>and</span>
  <span m=''1762760''>decoding</span> <span m=''1763250''>into</span> <span m=''1763420''>micro-ops.</span>
  <span m=''1764270''>So</span> <span m=''1764430''>after</span> <span m=''1764660''>that,</span>
  <span m=''1764840''>so</span> <span m=''1766050''>what</span> <span m=''1766220''>that</span>
  <span m=''1766380''>means,</span> <span m=''1766560''>every</span> <span m=''1766680''>cycle,</span>
  <span m=''1767190''>it</span> <span m=''1767350''>can</span> <span m=''1767510''>issue</span>
  <span m=''1767760''>6</span> <span m=''1768080''>micro-ops.</span> <span m=''1768610''>So</span>
  <span m=''1768730''>there</span> <span m=''1768860''>might</span> <span m=''1769240''>be</span>
  <span m=''1770290''>6</span> <span m=''1771810''>instructions</span> <span m=''1772360''>you
  know,</span> <span m=''1773010''>3,</span> <span m=''1773460''>or even</span> <span
  m=''1773620''>1,</span> <span m=''1774070''>depending</span> <span m=''1774490''>on</span>
  <span m=''1774600''>how</span> <span m=''1774750''>many</span> <span m=''1774900''>micro-ops</span>
  <span m=''1775260''>[UNINTELLIGIBLE].</span> </p><p><span m=''1775700''>So</span>
  <span m=''1776340''>if</span> <span m=''1776520''>you</span> <span m=''1776610''>look</span>
  <span m=''1776750''>at</span> <span m=''1776890''>instruction</span> <span m=''1777390''>manual</span>
  <span m=''1778170''>in</span> <span m=''1778360''>the</span> <span m=''1778490''>[UNINTELLIGIBLE],</span>
  <span m=''1779270''>you</span> <span m=''1779470''>can</span> <span m=''1780110''>see</span>
  <span m=''1780270''>how</span> <span m=''1780430''>many</span> <span m=''1780590''>micro-op</span>
  <span m=''1780970''>[UNINTELLIGIBLE]</span> <span m=''1781280''>instruction it''s</span>
  <span m=''1781780''>going</span> <span m=''1782000''>into,</span> <span m=''1782740''>and</span>
  <span m=''1783090''>if</span> <span m=''1783200''>it''s</span> <span m=''1783410''>large,</span>
  <span m=''1783690''>that means</span> <span m=''1783990''>those</span> <span m=''1784210''>instructions</span>
  <span m=''1784650''>are slow.</span> <span m=''1786000''>And</span> <span m=''1786770''>you</span>
  <span m=''1786920''>can</span> <span m=''1787070''>have</span> <span m=''1787230''>this</span>
  <span m=''1787390''>120</span> <span m=''1788410''>micro-op</span> <span m=''1788860''>waiting</span>
  <span m=''1789280''>to</span> <span m=''1789370''>be</span> <span m=''1789480''>executed,</span>
  <span m=''1789930''>sitting</span> <span m=''1790430''>in</span> <span m=''1790610''>this</span>
  <span m=''1793470''>reservation</span> <span m=''1794020''>station.</span> <span
  m=''1794920''>Basically,</span> <span m=''1795280''>they are</span> <span m=''1795400''>waiting</span>
  <span m=''1795550''>there.</span> <span m=''1795650''>The minute</span> <span m=''1796130''>the</span>
  <span m=''1796240''>data</span> <span m=''1796510''>is available,</span> <span m=''1797780''>and</span>
  <span m=''1797950''>then</span> <span m=''1798070''>a</span> <span m=''1798260''>slot</span>
  <span m=''1798760''>available,</span> <span m=''1799060''>it</span> <span m=''1799180''>will</span>
  <span m=''1799300''>go</span> <span m=''1799470''>down,</span> <span m=''1799730''>get</span>
  <span m=''1799880''>executed,</span> <span m=''1800340''>and</span> <span m=''1800440''>come</span>
  <span m=''1800580''>back.</span> </p><p><span m=''1803740''>So</span> <span m=''1805320''>branch</span>
  <span m=''1805690''>prediction,</span> <span m=''1806140''>basically--</span> <span
  m=''1806750''>the</span> <span m=''1806880''>problem</span> <span m=''1807340''>with</span>
  <span m=''1807430''>branches</span> <span m=''1808000''>is</span> <span m=''1808190''>if</span>
  <span m=''1808380''>you</span> <span m=''1808550''>have</span> <span m=''1808720''>this</span>
  <span m=''1808930''>very</span> <span m=''1809170''>nice</span> <span m=''1809540''>pipeline,</span>
  <span m=''1811350''>what</span> <span m=''1811590''>happens</span> <span m=''1812010''>is,</span>
  <span m=''1812680''>branch</span> <span m=''1812990''>target</span> <span m=''1813780''>is</span>
  <span m=''1814010''>not</span> <span m=''1814310''>known</span> <span m=''1814670''>until</span>
  <span m=''1815080''>this</span> <span m=''1815310''>target</span> <span m=''1815715''>detection</span>
  <span m=''1816120''>time.</span> <span m=''1816480''>Where is</span> <span m=''1816690''>my</span>
  <span m=''1816850''>mouse?</span> <span m=''1817230''>OK.</span> <span m=''1818050''>Until</span>
  <span m=''1818430''>this</span> <span m=''1818650''>point,</span> <span m=''1818950''>I</span>
  <span m=''1819050''>don''t</span> <span m=''1819200''>know</span> <span m=''1819350''>whether</span>
  <span m=''1819530''>the</span> <span m=''1819630''>branch,</span> <span m=''1820130''>where</span>
  <span m=''1820410''>I</span> <span m=''1820690''>am</span> <span m=''1820960''>supposed</span>
  <span m=''1821130''>to</span> <span m=''1821300''>go.</span> <span m=''1822910''>And</span>
  <span m=''1823310''>so</span> <span m=''1823470''>how</span> <span m=''1823660''>do
  I</span> <span m=''1823980''>go ahead and</span> <span m=''1824420''>get the</span>
  <span m=''1824690''>instruction,</span> <span m=''1825260''>because</span> <span
  m=''1825470''>I don''t know</span> <span m=''1825560''>where</span> <span m=''1825770''>I''m</span>
  <span m=''1825990''>going until</span> <span m=''1826480''>this</span> <span m=''1826690''>point.</span>
  <span m=''1827290''>Even</span> <span m=''1827480''>worse,</span> <span m=''1827820''>I</span>
  <span m=''1827940''>might</span> <span m=''1828180''>not</span> <span m=''1828340''>even</span>
  <span m=''1828700''>know</span> <span m=''1828890''>address.</span> <span m=''1829340''>Some</span>
  <span m=''1829600''>[UNINTELLIGIBLE]</span> <span m=''1830250''>you</span> <span
  m=''1830400''>are going</span> <span m=''1830720''>AOB,</span> <span m=''1831040''>you
  are</span> <span m=''1831310''>taken</span> <span m=''1831890''>or</span> <span
  m=''1831960''>not</span> <span m=''1832180''>taken.</span> <span m=''1832690''>But</span>
  <span m=''1832910''>sometimes</span> <span m=''1833430''>there</span> <span m=''1833560''>might
  be</span> <span m=''1833700''>[UNINTELLIGIBLE]</span> <span m=''1834060''>branches.</span>
  <span m=''1834540''>I</span> <span m=''1834700''>don''t</span> <span m=''1834870''>even,</span>
  <span m=''1835240''>if</span> <span m=''1835370''>I''m</span> <span m=''1835620''>returning</span>
  <span m=''1836630''>the return</span> <span m=''1836820''>address</span> <span m=''1837180''>in</span>
  <span m=''1837280''>the</span> <span m=''1837360''>stack.</span> <span m=''1837990''>Until</span>
  <span m=''1838270''>I</span> <span m=''1838380''>go</span> <span m=''1838730''>fit</span>
  <span m=''1839100''>the</span> <span m=''1839230''>stack</span> <span m=''1839800''>and</span>
  <span m=''1840230''>load</span> <span m=''1840500''>it</span> <span m=''1840670''>and</span>
  <span m=''1840790''>all</span> <span m=''1841010''>those</span> <span m=''1841230''>things,</span>
  <span m=''1841510''>I</span> <span m=''1841680''>don''t</span> <span m=''1841850''>know</span>
  <span m=''1842010''>where I''m going,</span> <span m=''1843970''>so I</span> <span
  m=''1844080''>had</span> <span m=''1844230''>to</span> <span m=''1844320''>wait</span>
  <span m=''1845050''>until</span> <span m=''1845280''>this</span> <span m=''1845510''>point.</span>
  </p><p><span m=''1845710''>So</span> <span m=''1845790''>if</span> <span m=''1845950''>I</span>
  <span m=''1846020''>do</span> <span m=''1846280''>it,</span> <span m=''1847340''>basically</span>
  <span m=''1847730''>I</span> <span m=''1848010''>have</span> <span m=''1848130''>to</span>
  <span m=''1848250''>wait</span> <span m=''1848460''>until</span> <span m=''1848560''>this</span>
  <span m=''1848740''>pipeline.</span> <span m=''1849170''>All</span> <span m=''1849500''>these</span>
  <span m=''1849610''>things</span> <span m=''1849820''>are</span> <span m=''1849910''>going</span>
  <span m=''1850040''>to</span> <span m=''1850190''>stalled.</span> <span m=''1850510''>Nothing</span>
  <span m=''1850820''>happens</span> <span m=''1851130''>in</span> <span m=''1851310''>here.</span>
  <span m=''1851665''>This is</span> <span m=''1852170''>first stage.</span> <span
  m=''1852670''>You can have a</span> <span m=''1853100''>interested</span> <span
  m=''1853550''>pipeline.</span> <span m=''1853820''>You are</span> <span m=''1854130''>waiting</span>
  <span m=''1854500''>20</span> <span m=''1854760''>stages,</span> <span m=''1855310''>just</span>
  <span m=''1855640''>stalled,</span> <span m=''1857120''>doing</span> <span m=''1857340''>nothing.</span>
  <span m=''1857730''>And</span> <span m=''1857840''>then</span> <span m=''1857990''>there''s</span>
  <span m=''1858220''>superscalar</span> <span m=''1858880''>plus 20.</span> <span
  m=''1859730''>So</span> <span m=''1860250''>that</span> <span m=''1860450''>means</span>
  <span m=''1860680''>20</span> <span m=''1861040''>cycles</span> <span m=''1861900''>without</span>
  <span m=''1862320''>the</span> <span m=''1862670''>[? 6 issues ?]</span> <span m=''1863210''>you</span>
  <span m=''1863360''>can</span> <span m=''1863590''>do.</span> <span m=''1864110''>So</span>
  <span m=''1864300''>6</span> <span m=''1864690''>plus</span> <span m=''1864990''>20</span>
  <span m=''1866990''>is</span> <span m=''1867550''>120</span> <span m=''1869060''>possible</span>
  <span m=''1869550''>instructions</span> <span m=''1870080''>wasted,</span> <span
  m=''1870950''>and</span> <span m=''1871090''>it''s</span> <span m=''1871230''>a</span>
  <span m=''1871270''>lot</span> <span m=''1871510''>of</span> <span m=''1871600''>waste.</span>
  <span m=''1872050''>So</span> <span m=''1872150''>you</span> <span m=''1872200''>don''t
  want to</span> <span m=''1872510''>do</span> <span m=''1872610''>that.</span> </p><p><span
  m=''1873710''>So</span> <span m=''1874020''>what</span> <span m=''1874230''>you</span>
  <span m=''1874380''>do</span> <span m=''1874530''>is,</span> <span m=''1874700''>you</span>
  <span m=''1874830''>build</span> <span m=''1875030''>a</span> <span m=''1875090''>predictor</span>
  <span m=''1876120''>to</span> <span m=''1876200''>figure</span> <span m=''1876510''>out</span>
  <span m=''1876670''>which direction</span> <span m=''1877170''>the</span> <span
  m=''1877250''>brand is going.</span> <span m=''1878240''>And</span> <span m=''1878830''>depending</span>
  <span m=''1879130''>on</span> <span m=''1879230''>what the</span> <span m=''1879430''>predictor</span>
  <span m=''1879790''>do,</span> <span m=''1879980''>and</span> <span m=''1880150''>the</span>
  <span m=''1880280''>neat</span> <span m=''1880590''>thing</span> <span m=''1880780''>is,</span>
  <span m=''1880930''>these</span> <span m=''1881210''>days,</span> <span m=''1881560''>these</span>
  <span m=''1881920''>predictions</span> <span m=''1882290''>are</span> <span m=''1882470''>really,</span>
  <span m=''1882810''>really</span> <span m=''1883070''>good.</span> <span m=''1883920''>They</span>
  <span m=''1884050''>can</span> <span m=''1884190''>predict</span> <span m=''1884530''>up
  to</span> <span m=''1884730''>99</span> <span m=''1885370''>points</span> <span
  m=''1886340''>plus</span> <span m=''1886820''>[UNINTELLIGIBLE]</span> <span m=''1887520''>where
  you''re</span> <span m=''1887980''>going.</span> <span m=''1888170''>So</span> <span
  m=''1888270''>it''s</span> <span m=''1888410''>like</span> <span m=''1888850''>me</span>
  <span m=''1888980''>telling</span> <span m=''1889230''>you, you</span> <span m=''1889420''>guys</span>
  <span m=''1889650''>are all</span> <span m=''1889780''>going</span> <span m=''1889890''>to</span>
  <span m=''1890000''>sleep</span> <span m=''1890290''>afterwards,</span> <span m=''1890790''>and
  this</span> <span m=''1891240''>is</span> <span m=''1891460''>going</span> <span
  m=''1891600''>to</span> <span m=''1891730''>sleep</span> <span m=''1892190''>on</span>
  <span m=''1892430''>me.</span> </p><p><span m=''1896000''>So</span> <span m=''1897060''>what</span>
  <span m=''1898220''>you</span> <span m=''1898310''>can</span> <span m=''1898730''>predict,</span>
  <span m=''1898890''>I</span> <span m=''1899310''>will say,</span> <span m=''1899530''>aha!</span>
  <span m=''1900150''>I</span> <span m=''1900320''>tell</span> <span m=''1900530''>you,</span>
  <span m=''1900760''>you are</span> <span m=''1901030''>going</span> <span m=''1901280''>in</span>
  <span m=''1901370''>that</span> <span m=''1901530''>direction.</span> <span m=''1901930''>This</span>
  <span m=''1902070''>is</span> <span m=''1902970''>like</span> <span m=''1903620''>going</span>
  <span m=''1903870''>to</span> <span m=''1903930''>[UNINTELLIGIBLE].</span> <span
  m=''1904600''>I</span> <span m=''1904750''>think</span> <span m=''1904900''>you''re
  going</span> <span m=''1905210''>that</span> <span m=''1905380''>direction,</span>
  <span m=''1905990''>and</span> <span m=''1906300''>then</span> <span m=''1906430''>you</span>
  <span m=''1906530''>just</span> <span m=''1906710''>go</span> <span m=''1906830''>there.</span>
  <span m=''1907690''>And</span> <span m=''1908680''>99%</span> <span m=''1909890''>of
  the</span> <span m=''1910040''>time,</span> <span m=''1910530''>you''re</span> <span
  m=''1910680''>OK,</span> <span m=''1911380''>and when</span> <span m=''1911820''>[UNINTELLIGIBLE]</span>
  <span m=''1912440''>finally</span> <span m=''1912700''>decided,</span> <span m=''1912985''>you
  can</span> <span m=''1913270''>say,</span> <span m=''1913350''>oh,</span> <span
  m=''1913540''>that</span> <span m=''1913760''>was</span> <span m=''1913800''>slight.</span>
  <span m=''1915220''>If</span> <span m=''1915300''>you''re</span> <span m=''1915860''>wrong,</span>
  <span m=''1916250''>you</span> <span m=''1916330''>squash</span> <span m=''1916740''>everything</span>
  <span m=''1917090''>and</span> <span m=''1917170''>restart.</span> </p><p><span
  m=''1918460''>And</span> <span m=''1918710''>so</span> <span m=''1918830''>modern</span>
  <span m=''1919190''>predictors</span> <span m=''1919480''>are</span> <span m=''1919940''>this</span>
  <span m=''1920210''>very</span> <span m=''1920510''>complicated</span> <span m=''1921220''>beast.</span>
  <span m=''1922270''>It</span> <span m=''1922330''>looks</span> <span m=''1922520''>at</span>
  <span m=''1923410''>things</span> <span m=''1923710''>like</span> <span m=''1923890''>what</span>
  <span m=''1924070''>happened</span> <span m=''1924390''>previously.</span> <span
  m=''1925470''>It</span> <span m=''1925710''>looks</span> <span m=''1925910''>at</span>
  <span m=''1926640''>[UNINTELLIGIBLE]</span> <span m=''1926930''>call stack</span>
  <span m=''1927640''>where are</span> <span m=''1927810''>the</span> <span m=''1927970''>call</span>
  <span m=''1928410''>stack,</span> <span m=''1928940''>what</span> <span m=''1929230''>went
  into</span> <span m=''1929500''>the</span> <span m=''1929600''>call</span> <span
  m=''1929830''>stack.</span> <span m=''1930170''>And</span> <span m=''1930280''>then</span>
  <span m=''1930430''>when</span> <span m=''1930450''>you''re</span> <span m=''1930790''>returning,</span>
  <span m=''1931020''>you</span> <span m=''1931270''>can</span> <span m=''1931540''>predict</span>
  <span m=''1931830''>where</span> <span m=''1932010''>we</span> <span m=''1932110''>might</span>
  <span m=''1932330''>be</span> <span m=''1932440''>returning.</span> <span m=''1932870''>A</span>
  <span m=''1933240''>lot</span> <span m=''1933750''>of</span> <span m=''1933890''>different</span>
  <span m=''1934270''>things</span> <span m=''1934470''>go</span> <span m=''1934800''>in</span>
  <span m=''1934900''>there,</span> <span m=''1935380''>and</span> <span m=''1935560''>in</span>
  <span m=''1935680''>fact,</span> <span m=''1935890''>we</span> <span m=''1936010''>see</span>
  <span m=''1936380''>the</span> <span m=''1936520''>core</span> <span m=''1937820''>microarchitecture</span>
  <span m=''1938430''>that</span> <span m=''1938710''>came</span> <span m=''1938870''>before</span>
  <span m=''1939200''>Nehalem''s</span> <span m=''1939600''>predictor,</span> <span
  m=''1940380''>and</span> <span m=''1940540''>Nehalem</span> <span m=''1940690''>[UNINTELLIGIBLE],</span>
  <span m=''1941395''>oh,</span> <span m=''1941690''>it even</span> <span m=''1941800''>has</span>
  <span m=''1942000''>more</span> <span m=''1942180''>things,</span> <span m=''1943230''>and</span>
  <span m=''1943460''>so</span> <span m=''1943560''>it''s</span> <span m=''1943710''>even</span>
  <span m=''1943920''>more</span> <span m=''1944070''>different.</span> </p><p><span
  m=''1944380''>So</span> <span m=''1944690''>these</span> <span m=''1944910''>guys</span>
  <span m=''1945140''>are</span> <span m=''1945200''>doing</span> <span m=''1945490''>these</span>
  <span m=''1945670''>complex</span> <span m=''1945930''>things.</span> <span m=''1946480''>What</span>
  <span m=''1946730''>that</span> <span m=''1946930''>means</span> <span m=''1947260''>is,</span>
  <span m=''1947690''>sometimes</span> <span m=''1949726''>it</span> <span m=''1950130''>affects</span>
  <span m=''1950560''>program</span> <span m=''1951010''>in</span> <span m=''1951220''>a</span>
  <span m=''1951260''>way</span> <span m=''1951790''>that</span> <span m=''1951990''>you</span>
  <span m=''1952190''>think,</span> <span m=''1952470''>oh,</span> <span m=''1952550''>huh,</span>
  <span m=''1952740''>this</span> <span m=''1952940''>is</span> <span m=''1953050''>something</span>
  <span m=''1953780''>that</span> <span m=''1954010''>I</span> <span m=''1954140''>don''t</span>
  <span m=''1954270''>know</span> <span m=''1954360''>what</span> <span m=''1954560''>might</span>
  <span m=''1954750''>happen.</span> <span m=''1955120''>[UNINTELLIGIBLE]</span> <span
  m=''1955440''>this</span> <span m=''1955650''>condition,</span> <span m=''1956100''>I</span>
  <span m=''1956150''>might</span> <span m=''1956380''>not</span> <span m=''1956930''>know</span>
  <span m=''1957000''>what</span> <span m=''1957180''>might</span> <span m=''1957350''>happen.</span>
  <span m=''1957890''>But</span> <span m=''1958530''>model</span> <span m=''1959000''>prediction</span>
  <span m=''1959290''>sometimes</span> <span m=''1959670''>surprises</span> <span
  m=''1960035''>you.</span> <span m=''1960300''>Aha,</span> <span m=''1960440''>I</span>
  <span m=''1960750''>know</span> <span m=''1961000''>there''s</span> <span m=''1961190''>a</span>
  <span m=''1961240''>pattern,</span> <span m=''1961650''>I</span> <span m=''1961720''>recognize</span>
  <span m=''1962220''>that</span> <span m=''1962390''>pattern,</span> <span m=''1963070''>and</span>
  <span m=''1963270''>I</span> <span m=''1963330''>go</span> <span m=''1963550''>about</span>
  <span m=''1963840''>that.</span> <span m=''1964200''>And</span> <span m=''1964410''>every</span>
  <span m=''1964680''>architecture,</span> <span m=''1965070''>I</span> <span m=''1965460''>try</span>
  <span m=''1965700''>different</span> <span m=''1966050''>kinds</span> <span m=''1966240''>of</span>
  <span m=''1966300''>patterns,</span> <span m=''1966670''>and</span> <span m=''1966800''>I</span>
  <span m=''1966870''>find</span> <span m=''1967610''>the</span> <span m=''1967720''>architectures</span>
  <span m=''1968210''>get</span> <span m=''1968370''>better</span> <span m=''1968530''>and</span>
  <span m=''1968730''>better.</span> </p><p><span m=''1969050''>So</span> <span m=''1969180''>for</span>
  <span m=''1969280''>example,</span> <span m=''1970090''>at</span> <span m=''1970270''>some</span>
  <span m=''1970500''>point,</span> <span m=''1970780''>if</span> <span m=''1970930''>you</span>
  <span m=''1971070''>go</span> <span m=''1971610''>odd-even,</span> <span m=''1972240''>odd-even</span>
  <span m=''1972770''>branches,</span> <span m=''1973320''>if you</span> <span m=''1973820''>assume</span>
  <span m=''1974090''>I</span> <span m=''1974140''>have</span> <span m=''1974220''>a</span>
  <span m=''1974290''>loop,</span> <span m=''1974980''>I</span> <span m=''1975100''>say,</span>
  <span m=''1975395''>if</span> <span m=''1975690''>i</span> <span m=''1976130''>is</span>
  <span m=''1977040''>odd,</span> <span m=''1977350''>going</span> <span m=''1977890''>one</span>
  <span m=''1978120''>direction,</span> <span m=''1978480''>otherwise</span> <span
  m=''1978850''>not.</span> <span m=''1980150''>Pentium</span> <span m=''1980450''>3</span>
  <span m=''1980670''>type thing,</span> <span m=''1981240''>OK.</span> <span m=''1981660''>It</span>
  <span m=''1981760''>just</span> <span m=''1982130''>screw up</span> <span m=''1982420''>[UNINTELLIGIBLE]</span>
  <span m=''1983040''>with</span> <span m=''1983220''>every time it''s</span> <span
  m=''1983530''>doing</span> <span m=''1983650''>something</span> <span m=''1983950''>different.</span>
  <span m=''1984240''>I</span> <span m=''1984290''>don''t</span> <span m=''1984400''>know</span>
  <span m=''1984500''>what''s</span> <span m=''1984660''>going</span> <span m=''1984880''>on.</span>
  <span m=''1985912''>[UNINTELLIGIBLE]</span> <span m=''1986035''>Pentium</span> <span
  m=''1986280''>I''d probably</span> <span m=''1986520''>say</span> <span m=''1986590''>aha,</span>
  <span m=''1986960''>there''s</span> <span m=''1987150''>a</span> <span m=''1987260''>pattern,</span>
  <span m=''1987490''>odd-even,</span> <span m=''1988030''>odd-even,</span> <span
  m=''1988670''>it</span> <span m=''1988910''>figure</span> <span m=''1989180''>out.</span>
  <span m=''1989730''>I</span> <span m=''1990130''>core</span> <span m=''1990460''>2</span>
  <span m=''1990660''>figures</span> <span m=''1991160''>out</span> <span m=''1991440''>things</span>
  <span m=''1991710''>like</span> <span m=''1991900''>every</span> <span m=''1992220''>third,</span>
  <span m=''1992610''>every</span> <span m=''1992720''>fourth</span> <span m=''1993140''>type</span>
  <span m=''1993560''>pattern</span> <span m=''1993750''>it</span> <span m=''1993860''>figures</span>
  <span m=''1994170''>out.</span> <span m=''1994630''>And</span> <span m=''1994840''>then</span>
  <span m=''1995240''>things</span> <span m=''1995460''>get</span> <span m=''1995960''>better
  and</span> <span m=''1996120''>better.</span> <span m=''1996510''>There''s</span>
  <span m=''1997020''>very</span> <span m=''1997260''>complicated</span> <span m=''1997810''>patterns</span>
  <span m=''1998210''>you</span> <span m=''1998340''>do,</span> <span m=''1998860''>these</span>
  <span m=''1999140''>guys</span> <span m=''1999580''>manage</span> <span m=''1999820''>to</span>
  <span m=''1999880''>figure</span> <span m=''2000140''>out.</span> <span m=''2000290''>Which</span>
  <span m=''2000520''>is</span> <span m=''2000610''>kind</span> <span m=''2000770''>of</span>
  <span m=''2000840''>fun,</span> <span m=''2001490''>to</span> <span m=''2001560''>see</span>
  <span m=''2001720''>what</span> <span m=''2001970''>it</span> <span m=''2002070''>can</span>
  <span m=''2002290''>figure</span> <span m=''2002600''>out,</span> <span m=''2002770''>what</span>
  <span m=''2002900''>it</span> <span m=''2003040''>can''t.</span> <span m=''2003710''>By</span>
  <span m=''2003880''>writing</span> <span m=''2004230''>a</span> <span m=''2004350''>very</span>
  <span m=''2004390''>small</span> <span m=''2004650''>program,</span> <span m=''2005370''>you</span>
  <span m=''2005670''>can</span> <span m=''2005810''>get</span> <span m=''2005990''>that.</span>
  <span m=''2006660''>I</span> <span m=''2006880''>show</span> <span m=''2007140''>some</span>
  <span m=''2007440''>of that.</span> </p><p><span m=''2008980''>So</span> <span m=''2009890''>the</span>
  <span m=''2010840''>next</span> <span m=''2011150''>thing</span> <span m=''2011470''>that</span>
  <span m=''2011840''>you</span> <span m=''2012010''>have to worry about</span> <span
  m=''2012520''>is</span> <span m=''2012620''>the</span> <span m=''2012700''>memory</span>
  <span m=''2012960''>system.</span> <span m=''2014130''>So</span> <span m=''2014250''>the</span>
  <span m=''2014340''>memory</span> <span m=''2014670''>system,</span> <span m=''2015020''>if</span>
  <span m=''2015140''>you</span> <span m=''2015250''>want to be</span> <span m=''2015520''>the</span>
  <span m=''2015710''>computer,</span> <span m=''2016260''>what</span> <span m=''2016410''>you</span>
  <span m=''2016560''>want</span> <span m=''2016730''>to</span> <span m=''2016890''>do</span>
  <span m=''2017040''>is</span> <span m=''2017190''>have a</span> <span m=''2017310''>lot</span>
  <span m=''2017400''>of</span> <span m=''2018170''>very</span> <span m=''2018510''>fast</span>
  <span m=''2018900''>memory</span> <span m=''2019550''>very</span> <span m=''2020010''>close
  to you.</span> <span m=''2021420''>You</span> <span m=''2021520''>can</span> <span
  m=''2021690''>do</span> <span m=''2021830''>that.</span> <span m=''2022030''>It''s</span>
  <span m=''2022150''>going</span> <span m=''2022260''>to</span> <span m=''2022300''>be</span>
  <span m=''2022360''>very</span> <span m=''2022590''>expensive.</span> <span m=''2023080''>Sometimes</span>
  <span m=''2023520''>through SQL</span> <span m=''2023820''>you</span> <span m=''2024030''>can''t
  even</span> <span m=''2024350''>attain</span> <span m=''2024670''>that,</span> <span
  m=''2025190''>because</span> <span m=''2025730''>by</span> <span m=''2025980''>the</span>
  <span m=''2026090''>time</span> <span m=''2026280''>you</span> <span m=''2026360''>build</span>
  <span m=''2026490''>a</span> <span m=''2026510''>lot</span> <span m=''2026810''>of</span>
  <span m=''2026940''>things,</span> <span m=''2027200''>it''s</span> <span m=''2027570''>actually</span>
  <span m=''2028010''>already</span> <span m=''2028390''>far</span> <span m=''2028650''>away</span>
  <span m=''2028800''>from</span> <span m=''2029010''>you,</span> <span m=''2029150''>because</span>
  <span m=''2029490''>we</span> <span m=''2029630''>are running</span> <span m=''2029720''>very</span>
  <span m=''2029880''>fast</span> <span m=''2030090''>here.</span> </p><p><span m=''2030910''>So</span>
  <span m=''2031060''>the way</span> <span m=''2031360''>you</span> <span m=''2031510''>deal</span>
  <span m=''2031740''>with</span> <span m=''2031870''>that</span> <span m=''2032080''>is</span>
  <span m=''2032190''>building</span> <span m=''2032510''>caches.</span> <span m=''2033610''>That
  means</span> <span m=''2034000''>you</span> <span m=''2034150''>keep a</span> <span
  m=''2034400''>small</span> <span m=''2034770''>amount</span> <span m=''2035090''>of</span>
  <span m=''2035220''>things</span> <span m=''2036040''>close</span> <span m=''2036230''>to
  you in</span> <span m=''2036670''>there,</span> <span m=''2037590''>and</span> <span
  m=''2037870''>you</span> <span m=''2037990''>put</span> <span m=''2038410''>things</span>
  <span m=''2038720''>in</span> <span m=''2038900''>that</span> <span m=''2039190''>cache</span>
  <span m=''2039650''>in</span> <span m=''2039800''>a way</span> <span m=''2040820''>that</span>
  <span m=''2041140''>hopefully,</span> <span m=''2041900''>those</span> <span m=''2042180''>are
  the</span> <span m=''2042350''>things</span> <span m=''2042610''>you</span> <span
  m=''2042720''>will</span> <span m=''2042860''>be</span> <span m=''2043010''>using</span>
  <span m=''2043390''>anyways.</span> <span m=''2043940''>So</span> <span m=''2044110''>it</span>
  <span m=''2044350''>works</span> <span m=''2044630''>very</span> <span m=''2044820''>nicely.</span>
  </p><p><span m=''2046850''>So</span> <span m=''2047490''>the</span> <span m=''2047940''>reason</span>
  <span m=''2048340''>that</span> <span m=''2048500''>can</span> <span m=''2048659''>be</span>
  <span m=''2048810''>done</span> <span m=''2049139''>is</span> <span m=''2049690''>in</span>
  <span m=''2049929''>programming,</span> <span m=''2050900''>when</span> <span m=''2051110''>you
  run</span> <span m=''2051409''>a</span> <span m=''2051449''>program,</span> <span
  m=''2051820''>there are</span> <span m=''2052139''>two</span> <span m=''2052300''>types</span>
  <span m=''2052630''>of</span> <span m=''2052760''>behaviors</span> <span m=''2053440''>that</span>
  <span m=''2053659''>it</span> <span m=''2053949''>[UNINTELLIGIBLE]</span> <span
  m=''2054159''>to</span> <span m=''2054239''>take</span> <span m=''2054489''>advantage</span>
  <span m=''2054989''>of.</span> <span m=''2055480''>One</span> <span m=''2055780''>thing</span>
  <span m=''2055960''>is</span> <span m=''2056110''>called</span> <span m=''2056219''>temporal</span>
  <span m=''2056719''>locality.</span> <span m=''2057940''>What</span> <span m=''2058110''>that</span>
  <span m=''2058320''>means</span> <span m=''2058670''>is,</span> <span m=''2059199''>most</span>
  <span m=''2059580''>programs,</span> <span m=''2060020''>if</span> <span m=''2060150''>you</span>
  <span m=''2060230''>use</span> <span m=''2060670''>you</span> <span m=''2060860''>some</span>
  <span m=''2061120''>data,</span> <span m=''2062070''>there''s</span> <span m=''2062260''>a</span>
  <span m=''2062340''>good</span> <span m=''2062710''>chance</span> <span m=''2063000''>you</span>
  <span m=''2063070''>are going</span> <span m=''2063250''>to</span> <span m=''2063370''>use</span>
  <span m=''2063610''>the</span> <span m=''2063699''>same</span> <span m=''2064150''>data</span>
  <span m=''2064429''>very</span> <span m=''2064620''>soon.</span> <span m=''2066449''>Because</span>
  <span m=''2068040''>normally,</span> <span m=''2068600''>there''s</span> <span m=''2068850''>a
  thing</span> <span m=''2069139''>called a</span> <span m=''2069210''>working</span>
  <span m=''2069380''>set.</span> <span m=''2069800''>I am</span> <span m=''2069969''>working</span>
  <span m=''2070330''>with a</span> <span m=''2070500''>certain</span> <span m=''2070860''>set</span>
  <span m=''2071050''>of</span> <span m=''2071170''>data.</span> <span m=''2071560''>I''m
  basically</span> <span m=''2071870''>touching</span> <span m=''2072250''>these</span>
  <span m=''2072460''>things</span> <span m=''2072639''>again</span> <span m=''2072880''>and</span>
  <span m=''2072989''>again.</span> <span m=''2073590''>So</span> <span m=''2073860''>if</span>
  <span m=''2074100''>I</span> <span m=''2074190''>use</span> <span m=''2074460''>that,</span>
  <span m=''2074620''>I''m</span> <span m=''2074760''>going</span> <span m=''2074900''>to</span>
  <span m=''2075030''>use</span> <span m=''2075250''>that</span> <span m=''2075380''>data</span>
  <span m=''2075600''>again.</span> <span m=''2075840''>So</span> <span m=''2076010''>that</span>
  <span m=''2076270''>means</span> <span m=''2076520''>I</span> <span m=''2076610''>want</span>
  <span m=''2076770''>to</span> <span m=''2076860''>keep</span> <span m=''2077159''>the</span>
  <span m=''2077290''>data</span> <span m=''2077679''>that</span> <span m=''2077850''>I</span>
  <span m=''2078239''>used</span> <span m=''2078710''>close by.</span> </p><p><span
  m=''2080159''>Other</span> <span m=''2080420''>one is</span> <span m=''2080679''>called</span>
  <span m=''2080780''>special</span> <span m=''2081210''>locality.</span> <span m=''2082290''>That</span>
  <span m=''2082460''>means,</span> <span m=''2082860''>if</span> <span m=''2083080''>I</span>
  <span m=''2083150''>use</span> <span m=''2083320''>some</span> <span m=''2083570''>data,</span>
  <span m=''2086100''>I</span> <span m=''2086179''>have</span> <span m=''2086290''>a</span>
  <span m=''2086400''>very</span> <span m=''2086750''>good</span> <span m=''2086960''>chance</span>
  <span m=''2087320''>that</span> <span m=''2087380''>I</span> <span m=''2087650''>might</span>
  <span m=''2087860''>be</span> <span m=''2087949''>using</span> <span m=''2088219''>a
  neighboring</span> <span m=''2088659''>data</span> <span m=''2088900''>item.</span>
  <span m=''2089610''>Because</span> <span m=''2089980''>if</span> <span m=''2090120''>I</span>
  <span m=''2090210''>am</span> <span m=''2090320''>accessing</span> <span m=''2090710''>a</span>
  <span m=''2090880''>structure</span> <span m=''2091219''>or an</span> <span m=''2091480''>array,</span>
  <span m=''2092730''>if I''m</span> <span m=''2092940''>accessing</span> <span m=''2093360''>something,</span>
  <span m=''2093780''>I</span> <span m=''2093909''>might</span> <span m=''2094150''>be</span>
  <span m=''2094219''>accessing</span> <span m=''2094520''>a</span> <span m=''2094630''>[UNINTELLIGIBLE]</span>
  <span m=''2094920''>neighbor</span> <span m=''2095230''>thing</span> <span m=''2095429''>next.</span>
  <span m=''2096139''>So</span> <span m=''2096270''>there''s</span> <span m=''2096550''>what''s</span>
  <span m=''2096889''>called</span> <span m=''2097110''>partial</span> <span m=''2097470''>locality.</span>
  <span m=''2098110''>And</span> <span m=''2099480''>taking</span> <span m=''2099870''>advantage</span>
  <span m=''2100390''>of</span> <span m=''2100520''>these</span> <span m=''2100820''>two,</span>
  <span m=''2101140''>you</span> <span m=''2101260''>can</span> <span m=''2101480''>build</span>
  <span m=''2101700''>this</span> <span m=''2101940''>very</span> <span m=''2102290''>fast</span>
  <span m=''2102680''>memory</span> <span m=''2102900''>system</span> <span m=''2103600''>that</span>
  <span m=''2103660''>feels</span> <span m=''2104040''>like</span> <span m=''2104230''>you</span>
  <span m=''2104330''>have</span> <span m=''2104420''>a</span> <span m=''2104450''>huge</span>
  <span m=''2104850''>amount</span> <span m=''2105110''>of</span> <span m=''2105170''>memory</span>
  <span m=''2105400''>very</span> <span m=''2105490''>close to you.</span> </p><p><span
  m=''2106560''>Of course,</span> <span m=''2106880''>the</span> <span m=''2107030''>opposite</span>
  <span m=''2107410''>is</span> <span m=''2107550''>true.</span> <span m=''2108070''>If</span>
  <span m=''2108390''>your</span> <span m=''2108500''>program</span> <span m=''2108910''>doesn''t</span>
  <span m=''2109170''>behave</span> <span m=''2109360''>like</span> <span m=''2109600''>that,</span>
  <span m=''2109960''>it</span> <span m=''2110140''>looks</span> <span m=''2110370''>like</span>
  <span m=''2110570''>you</span> <span m=''2110830''>have</span> <span m=''2111410''>lots</span>
  <span m=''2111670''>of</span> <span m=''2111760''>memory</span> <span m=''2112150''>very</span>
  <span m=''2112210''>far</span> <span m=''2112430''>from you,</span> <span m=''2113290''>and</span>
  <span m=''2113410''>the</span> <span m=''2113520''>program</span> <span m=''2113900''>becomes</span>
  <span m=''2114240''>very, very slow.</span> <span m=''2120340''>Because</span> <span
  m=''2120720''>memories</span> <span m=''2122510''>didn''t</span> <span m=''2122960''>speed
  up</span> <span m=''2123520''>as</span> <span m=''2123760''>fast as</span> <span
  m=''2124150''>processors.</span> <span m=''2125170''>So</span> <span m=''2125330''>what</span>
  <span m=''2125520''>that</span> <span m=''2125720''>means</span> <span m=''2125950''>is,</span>
  <span m=''2126090''>every</span> <span m=''2126360''>generation,</span> <span m=''2127200''>the</span>
  <span m=''2127360''>memory</span> <span m=''2127660''>[UNINTELLIGIBLE]</span> <span
  m=''2127890''>further</span> <span m=''2128185''>and</span> <span m=''2128740''>further</span>
  <span m=''2128910''>away,</span> <span m=''2129560''>slower</span> <span m=''2129895''>and</span>
  <span m=''2130230''>slower and</span> <span m=''2130550''>slower.</span> <span m=''2131320''>And</span>
  <span m=''2131510''>this</span> <span m=''2131690''>is</span> <span m=''2131900''>how</span>
  <span m=''2132040''>we</span> <span m=''2132190''>manage</span> <span m=''2132780''>to</span>
  <span m=''2132940''>keep</span> <span m=''2133140''>the</span> <span m=''2133220''>machines</span>
  <span m=''2133570''>running</span> <span m=''2133770''>fast.</span> </p><p><span
  m=''2135630''>So</span> <span m=''2136600''>if</span> <span m=''2136760''>you</span>
  <span m=''2136900''>look</span> <span m=''2137130''>at</span> <span m=''2137430''>what''s</span>
  <span m=''2137670''>going</span> <span m=''2137970''>on</span> <span m=''2138180''>every</span>
  <span m=''2138520''>level,</span> <span m=''2139120''>I</span> <span m=''2139270''>just</span>
  <span m=''2139480''>gave</span> <span m=''2139700''>you</span> <span m=''2139820''>a
  diagram.</span> <span m=''2140180''>I</span> <span m=''2140260''>won''t</span> <span
  m=''2140500''>go</span> <span m=''2140730''>through</span> <span m=''2141070''>detail.</span>
  <span m=''2141440''>You</span> <span m=''2141590''>can</span> <span m=''2141750''>look</span>
  <span m=''2141860''>at</span> <span m=''2141960''>it</span> <span m=''2142060''>later.</span>
  <span m=''2142840''>There</span> <span m=''2142990''>are</span> <span m=''2143090''>caches,</span>
  <span m=''2143710''>and</span> <span m=''2145720''>higher</span> <span m=''2146100''>levels</span>
  <span m=''2146350''>you</span> <span m=''2146460''>can</span> <span m=''2146570''>only</span>
  <span m=''2146750''>keep</span> <span m=''2147005''>very</span> <span m=''2147260''>small.</span>
  <span m=''2147400''>And</span> <span m=''2147530''>one</span> <span m=''2147710''>like</span>
  <span m=''2148010''>[UNINTELLIGIBLE],</span> <span m=''2148790''>you</span> <span
  m=''2148920''>can</span> <span m=''2149050''>only keep a</span> <span m=''2149450''>couple</span>
  <span m=''2149680''>of</span> <span m=''2149750''>hundred</span> <span m=''2149990''>bytes</span>
  <span m=''2150300''>in the registers.</span> <span m=''2150910''>But</span> <span
  m=''2151100''>very</span> <span m=''2151530''>fast</span> <span m=''2152020''>exercise.</span>
  <span m=''2153020''>Then</span> <span m=''2153220''>you</span> <span m=''2153330''>go</span>
  <span m=''2153480''>to</span> <span m=''2153570''>cache.</span> <span m=''2153930''>I
  see</span> <span m=''2154290''>on-chip</span> <span m=''2154710''>stuff.</span>
  <span m=''2155750''>We</span> <span m=''2155850''>can</span> <span m=''2156020''>keep</span>
  <span m=''2156210''>a little</span> <span m=''2156340''>bit</span> <span m=''2156570''>more,</span>
  <span m=''2156910''>access</span> <span m=''2157280''>time</span> <span m=''2157450''>go</span>
  <span m=''2157580''>down,</span> <span m=''2158010''>and</span> <span m=''2158200''>then</span>
  <span m=''2158490''>finally</span> <span m=''2158970''>when</span> <span m=''2159110''>you</span>
  <span m=''2159200''>go</span> <span m=''2159330''>to</span> <span m=''2159450''>main</span>
  <span m=''2159760''>memory,</span> <span m=''2160520''>you can</span> <span m=''2160660''>keep
  a</span> <span m=''2160840''>huge</span> <span m=''2161130''>amount,</span> <span
  m=''2161780''>slow</span> <span m=''2162100''>access.</span> <span m=''2162750''>And</span>
  <span m=''2163040''>even</span> <span m=''2163310''>at</span> <span m=''2163430''>the</span>
  <span m=''2163520''>end,</span> <span m=''2164090''>something</span> <span m=''2164340''>like</span>
  <span m=''2164540''>tape,</span> <span m=''2164910''>you</span> <span m=''2165010''>can</span>
  <span m=''2165200''>keep</span> <span m=''2165420''>a</span> <span m=''2165440''>huge</span>
  <span m=''2165950''>amount</span> <span m=''2166210''>of</span> <span m=''2166300''>stuff.</span>
  <span m=''2166940''>Almost</span> <span m=''2167260''>infinite</span> <span m=''2167610''>amount</span>
  <span m=''2167870''>of</span> <span m=''2167960''>stuff.</span> <span m=''2168480''>But</span>
  <span m=''2168950''>it</span> <span m=''2169140''>takes</span> <span m=''2170000''>hours</span>
  <span m=''2170430''>to</span> <span m=''2170560''>get</span> <span m=''2171035''>the</span>
  <span m=''2171350''>tape</span> <span m=''2171590''>access</span> <span m=''2171930''>is</span>
  <span m=''2172040''>not</span> <span m=''2172250''>[UNINTELLIGIBLE].</span> <span
  m=''2172780''>So</span> <span m=''2173510''>there''s</span> <span m=''2173750''>this</span>
  <span m=''2173890''>hierarchy,</span> <span m=''2174630''>and</span> <span m=''2175480''>there
  are</span> <span m=''2175640''>a</span> <span m=''2175710''>certain</span> <span
  m=''2176080''>amount</span> <span m=''2176320''>things</span> <span m=''2176600''>you</span>
  <span m=''2176700''>want.</span> <span m=''2177550''>You are</span> <span m=''2177990''>using</span>
  <span m=''2178190''>[UNINTELLIGIBLE]</span> <span m=''2178750''>very</span> <span
  m=''2178890''>fast.</span> <span m=''2179255''>You don''t want to</span> <span m=''2179510''>put
  it in</span> <span m=''2179880''>tape.</span> <span m=''2180490''>But</span> <span
  m=''2180770''>you know</span> <span m=''2181040''>something</span> <span m=''2181350''>that</span>
  <span m=''2181510''>you</span> <span m=''2181630''>might</span> <span m=''2182020''>access
  in</span> <span m=''2182450''>a year,</span> <span m=''2183130''>that''s</span>
  <span m=''2183410''>probably</span> <span m=''2183660''>a good</span> <span m=''2183780''>place
  to put it.</span> <span m=''2184840''>So</span> <span m=''2184990''>there''s</span>
  <span m=''2185230''>this</span> <span m=''2185380''>hierarchy</span> <span m=''2185720''>there.</span>
  </p><p><span m=''2188070''>And</span> <span m=''2188840''>then</span> <span m=''2189040''>you</span>
  <span m=''2189180''>have</span> <span m=''2189320''>cache,</span> <span m=''2190060''>what</span>
  <span m=''2190260''>happens</span> <span m=''2190640''>is,</span> <span m=''2191870''>you</span>
  <span m=''2192010''>want</span> <span m=''2192200''>to</span> <span m=''2192250''>give</span>
  <span m=''2192390''>the</span> <span m=''2192480''>illusion</span> <span m=''2192950''>everything</span>
  <span m=''2193350''>is</span> <span m=''2193500''>there,</span> <span m=''2193980''>but</span>
  <span m=''2194230''>when</span> <span m=''2194400''>you</span> <span m=''2194500''>go</span>
  <span m=''2194700''>to</span> <span m=''2194790''>access</span> <span m=''2195130''>it,</span>
  <span m=''2195560''>the</span> <span m=''2195650''>data</span> <span m=''2195860''>might</span>
  <span m=''2196050''>not</span> <span m=''2196190''>be</span> <span m=''2196350''>there.</span>
  <span m=''2197430''>There</span> <span m=''2197870''>are</span> <span m=''2197920''>many</span>
  <span m=''2198350''>reasons</span> <span m=''2198870''>it</span> <span m=''2198980''>might</span>
  <span m=''2199160''>not</span> <span m=''2199360''>be</span> <span m=''2199490''>there,</span>
  <span m=''2199680''>so</span> <span m=''2199860''>let''s</span> <span m=''2200110''>go</span>
  <span m=''2200270''>through</span> <span m=''2200420''>some</span> <span m=''2200630''>of</span>
  <span m=''2200710''>the</span> <span m=''2200820''>reasons.</span> </p><p><span
  m=''2201850''>So</span> <span m=''2202010''>one</span> <span m=''2202210''>thing</span>
  <span m=''2202370''>is</span> <span m=''2202490''>called</span> <span m=''2202670''>cold</span>
  <span m=''2202980''>miss.</span> <span m=''2203610''>That</span> <span m=''2203810''>means
  it''s</span> <span m=''2204100''>the</span> <span m=''2204170''>first</span> <span
  m=''2204410''>time</span> <span m=''2204640''>I''ve</span> <span m=''2204780''>seen</span>
  <span m=''2204970''>that</span> <span m=''2205080''>data.</span> <span m=''2206170''>So</span>
  <span m=''2206290''>it</span> <span m=''2206410''>cannot</span> <span m=''2206700''>be
  in</span> <span m=''2206890''>the</span> <span m=''2206990''>cache.</span> <span
  m=''2208240''>If it''s</span> <span m=''2208330''>the</span> <span m=''2208510''>first</span>
  <span m=''2208690''>time</span> <span m=''2208900''>I was</span> <span m=''2209130''>asking</span>
  <span m=''2209420''>the</span> <span m=''2209510''>disk, it''s</span> <span m=''2209800''>probably</span>
  <span m=''2209990''>sitting</span> <span m=''2210260''>very</span> <span m=''2210440''>back</span>
  <span m=''2210740''>in</span> <span m=''2210980''>main</span> <span m=''2211220''>memory,</span>
  <span m=''2211530''>or</span> <span m=''2211610''>somewhere</span> <span m=''2211870''>in</span>
  <span m=''2212030''>the</span> <span m=''2212120''>disk,</span> <span m=''2212740''>and</span>
  <span m=''2213000''>I</span> <span m=''2213060''>have</span> <span m=''2213170''>to</span>
  <span m=''2213220''>go</span> <span m=''2213380''>get</span> <span m=''2213550''>it.</span>
  <span m=''2214520''>One</span> <span m=''2214940''>way</span> <span m=''2215110''>to</span>
  <span m=''2215850''>get</span> <span m=''2216270''>around</span> <span m=''2216490''>this</span>
  <span m=''2216630''>problem</span> <span m=''2216970''>is</span> <span m=''2217090''>prefetching.</span>
  <span m=''2217910''>So</span> <span m=''2218050''>if</span> <span m=''2218240''>I</span>
  <span m=''2218300''>keep</span> <span m=''2218570''>accessing</span> <span m=''2219000''>this</span>
  <span m=''2219110''>I say,</span> <span m=''2219670''>aha.</span> <span m=''2220130''>You''re</span>
  <span m=''2220260''>accessing</span> <span m=''2220570''>this</span> <span m=''2220880''>in</span>
  <span m=''2221100''>this</span> <span m=''2221420''>pattern.</span> <span m=''2222350''>And</span>
  <span m=''2222570''>there''s a</span> <span m=''2222770''>good</span> <span m=''2223020''>probability</span>
  <span m=''2223490''>the</span> <span m=''2223700''>next</span> <span m=''2223900''>pattern</span>
  <span m=''2224240''>is</span> <span m=''2224460''>here,</span> <span m=''2225070''>and</span>
  <span m=''2225250''>OK,</span> <span m=''2225430''>go</span> <span m=''2225600''>get</span>
  <span m=''2225770''>it</span> <span m=''2225900''>very</span> <span m=''2226090''>fast,</span>
  <span m=''2226350''>because</span> <span m=''2226650''>you''re</span> <span m=''2226830''>coming</span>
  <span m=''2227090''>in</span> <span m=''2227170''>that sort of</span> <span m=''2227400''>direction.</span>
  <span m=''2228170''>So</span> <span m=''2228400''>by</span> <span m=''2228620''>doing</span>
  <span m=''2228940''>prefetching,</span> <span m=''2229260''>you</span> <span m=''2229430''>might</span>
  <span m=''2229820''>be</span> <span m=''2229940''>able</span> <span m=''2230200''>to</span>
  <span m=''2230700''>get</span> <span m=''2230880''>rid</span> <span m=''2231100''>of</span>
  <span m=''2231230''>[UNINTELLIGIBLE]</span> <span m=''2231620''>is</span> <span
  m=''2231740''>happening.</span> </p><p><span m=''2233530''>Then</span> <span m=''2233670''>there''s
  a</span> <span m=''2233800''>thing</span> <span m=''2234040''>called</span> <span
  m=''2234180''>capacity</span> <span m=''2234670''>miss.</span> <span m=''2235530''>What</span>
  <span m=''2235740''>that</span> <span m=''2235960''>means</span> <span m=''2236270''>is,</span>
  <span m=''2236770''>you''re</span> <span m=''2236910''>accessing</span> <span m=''2237310''>a</span>
  <span m=''2237330''>lot</span> <span m=''2237570''>of</span> <span m=''2237710''>data.</span>
  <span m=''2238550''>At</span> <span m=''2238740''>some</span> <span m=''2239050''>point,</span>
  <span m=''2239520''>you</span> <span m=''2239650''>have</span> <span m=''2239770''>accessed</span>
  <span m=''2240130''>enough</span> <span m=''2240530''>data,</span> <span m=''2242470''>everything</span>
  <span m=''2242890''>you</span> <span m=''2243040''>accessed</span> <span m=''2243430''>cannot</span>
  <span m=''2243650''>be</span> <span m=''2243790''>fit</span> <span m=''2243900''>in</span>
  <span m=''2244080''>the</span> <span m=''2244160''>cache,</span> <span m=''2244890''>and</span>
  <span m=''2245040''>you</span> <span m=''2245110''>have</span> <span m=''2245180''>to</span>
  <span m=''2245250''>throw</span> <span m=''2245520''>out</span> <span m=''2245690''>some</span>
  <span m=''2245890''>of</span> <span m=''2245970''>the</span> <span m=''2246060''>data</span>
  <span m=''2246370''>to put</span> <span m=''2246490''>the</span> <span m=''2246610''>next</span>
  <span m=''2246850''>one.</span> <span m=''2247720''>So</span> <span m=''2247870''>most</span>
  <span m=''2248360''>caches</span> <span m=''2248830''>use</span> <span m=''2248990''>the</span>
  <span m=''2249130''>a</span> <span m=''2249550''>policy</span> <span m=''2249610''>called</span>
  <span m=''2249900''>least</span> <span m=''2250100''>recently</span> <span m=''2250680''>used.</span>
  <span m=''2250960''>That</span> <span m=''2251160''>means</span> <span m=''2251400''>the</span>
  <span m=''2251480''>data</span> <span m=''2252640''>that</span> <span m=''2252820''>you
  unpacked</span> <span m=''2253520''>for</span> <span m=''2253700''>the</span> <span
  m=''2253740''>longest</span> <span m=''2254010''>time</span> <span m=''2254590''>gets</span>
  <span m=''2254790''>thrown</span> <span m=''2255060''>out</span> <span m=''2255190''>of
  the</span> <span m=''2255370''>cache.</span> <span m=''2256860''>But</span> <span
  m=''2257140''>the</span> <span m=''2257220''>problem</span> <span m=''2257660''>is,</span>
  <span m=''2257790''>at</span> <span m=''2257900''>some</span> <span m=''2258070''>point,</span>
  <span m=''2258240''>you''re going</span> <span m=''2258440''>to</span> <span m=''2258540''>come
  back to it.</span> <span m=''2260340''>And</span> <span m=''2260520''>if</span>
  <span m=''2260630''>you</span> <span m=''2260770''>come</span> <span m=''2261000''>back</span>
  <span m=''2261200''>to</span> <span m=''2261280''>it after</span> <span m=''2261670''>a</span>
  <span m=''2261750''>long</span> <span m=''2262100''>time,</span> <span m=''2262960''>that</span>
  <span m=''2263240''>thing</span> <span m=''2263410''>has</span> <span m=''2263880''>been</span>
  <span m=''2264110''>out</span> <span m=''2264280''>of</span> <span m=''2264380''>that</span>
  <span m=''2264560''>level</span> <span m=''2264750''>of</span> <span m=''2264930''>cache.</span>
  <span m=''2265340''>This</span> <span m=''2265550''>happened at</span> <span m=''2265900''>every
  level.</span> <span m=''2266600''>So</span> <span m=''2266770''>what</span> <span
  m=''2266940''>that</span> <span m=''2267140''>means</span> <span m=''2267340''>is,</span>
  <span m=''2267440''>you</span> <span m=''2267620''>have a thing called a</span>
  <span m=''2267940''>working</span> <span m=''2268210''>set,</span> <span m=''2268800''>that</span>
  <span m=''2268950''>you</span> <span m=''2269070''>keep</span> <span m=''2269290''>working</span>
  <span m=''2269670''>again</span> <span m=''2269940''>and</span> <span m=''2270470''>using.</span>
  <span m=''2270770''>If the</span> <span m=''2270870''>working set is</span> <span
  m=''2271490''>a little</span> <span m=''2271790''>bit larger</span> <span m=''2272310''>than</span>
  <span m=''2272470''>the</span> <span m=''2272570''>cache,</span> <span m=''2273520''>when</span>
  <span m=''2273680''>you</span> <span m=''2273780''>come</span> <span m=''2274010''>back</span>
  <span m=''2274220''>to</span> <span m=''2274300''>that,</span> <span m=''2274720''>the</span>
  <span m=''2274810''>data</span> <span m=''2275020''>is</span> <span m=''2275150''>gone.</span>
  <span m=''2275780''>It''s</span> <span m=''2275850''>not in</span> <span m=''2276140''>the</span>
  <span m=''2276250''>cache.</span> <span m=''2276610''>So</span> <span m=''2276730''>you</span>
  <span m=''2276840''>want</span> <span m=''2276990''>to</span> <span m=''2277070''>kind</span>
  <span m=''2277250''>of</span> <span m=''2277330''>create</span> <span m=''2277630''>a
  working</span> <span m=''2277810''>set</span> <span m=''2278150''>that</span> <span
  m=''2278320''>fits in</span> <span m=''2278580''>the</span> <span m=''2278680''>cache</span>
  <span m=''2278940''>nicely,</span> <span m=''2279460''>at</span> <span m=''2279610''>ever</span>
  <span m=''2279690''>level,</span> <span m=''2280210''>basically.</span> <span m=''2281850''>You</span>
  <span m=''2281960''>can</span> <span m=''2282110''>do</span> <span m=''2282220''>something</span>
  <span m=''2282520''>like</span> <span m=''2282990''>pre-fetching</span> <span m=''2283500''>and</span>
  <span m=''2283710''>gets</span> <span m=''2283900''>around</span> <span m=''2284170''>it,</span>
  <span m=''2284550''>but</span> <span m=''2284980''>if</span> <span m=''2285110''>you</span>
  <span m=''2285200''>can</span> <span m=''2285350''>avoid</span> <span m=''2285650''>[UNINTELLIGIBLE],</span>
  <span m=''2286200''>that''s</span> <span m=''2286290''>really nice.</span> </p><p><span
  m=''2288005''>Then there''s</span> <span m=''2288390''>a</span> <span m=''2288450''>thing</span>
  <span m=''2288700''>called</span> <span m=''2288790''>a</span> <span m=''2288880''>conflict
  miss.</span> <span m=''2291370''>One</span> <span m=''2291670''>way</span> <span
  m=''2291860''>of</span> <span m=''2292080''>cache</span> <span m=''2292550''>work--</span>
  <span m=''2292950''>it</span> <span m=''2294650''>doesn''t</span> <span m=''2296070''>let</span>
  <span m=''2296310''>you</span> <span m=''2296540''>store</span> <span m=''2297640''>everything</span>
  <span m=''2299560''>in</span> <span m=''2299780''>every</span> <span m=''2300020''>location.</span>
  <span m=''2301100''>Sometimes</span> <span m=''2301630''>there</span> <span m=''2301800''>are</span>
  <span m=''2301880''>some</span> <span m=''2302150''>locations</span> <span m=''2302980''>in</span>
  <span m=''2303240''>cache</span> <span m=''2303570''>[UNINTELLIGIBLE]</span> <span
  m=''2304140''>associated</span> <span m=''2304720''>with it.</span> <span m=''2306030''>Did
  you</span> <span m=''2306160''>get</span> <span m=''2306380''>[UNINTELLIGIBLE]</span>
  <span m=''2306510''>associated</span> <span m=''2306835''>in</span> <span m=''2307160''>004??</span>
  <span m=''2310960''>Associativity?</span> <span m=''2312060''>OK.</span> <span m=''2312860''>Again,</span>
  <span m=''2313240''>I</span> <span m=''2313300''>will</span> <span m=''2313470''>talk</span>
  <span m=''2313700''>about</span> <span m=''2313900''>cache</span> <span m=''2314140''>associated</span>
  <span m=''2314465''>[UNINTELLIGIBLE],</span> <span m=''2315140''>but I''m</span>
  <span m=''2315430''>going</span> <span m=''2315560''>to</span> <span m=''2315710''>talk</span>
  <span m=''2315940''>about</span> <span m=''2316140''>memory</span> <span m=''2316390''>system</span>
  <span m=''2316710''>later</span> <span m=''2317290''>and</span> <span m=''2317500''>[UNINTELLIGIBLE]</span>
  <span m=''2317610''>there.</span> </p><p><span m=''2318690''>And</span> <span m=''2319140''>what</span>
  <span m=''2319310''>that</span> <span m=''2319500''>means</span> <span m=''2319840''>is,</span>
  <span m=''2320960''>this is a</span> <span m=''2321180''>really</span> <span m=''2321430''>bad</span>
  <span m=''2321760''>behavior,</span> <span m=''2322140''>because</span> <span m=''2323930''>you
  are</span> <span m=''2324460''>only</span> <span m=''2324640''>accessing</span>
  <span m=''2324940''>a</span> <span m=''2325030''>small</span> <span m=''2325340''>amount</span>
  <span m=''2325630''>of</span> <span m=''2325740''>things,</span> <span m=''2326230''>but</span>
  <span m=''2328180''>all</span> <span m=''2328330''>of</span> <span m=''2328420''>the</span>
  <span m=''2328510''>data,</span> <span m=''2328870''>all</span> <span m=''2329220''>the</span>
  <span m=''2329640''>aggregate</span> <span m=''2330000''>can''t fit</span> <span
  m=''2330270''>into</span> <span m=''2330630''>the</span> <span m=''2330770''>cache.</span>
  <span m=''2331580''>The</span> <span m=''2331760''>pattern</span> <span m=''2332240''>makes</span>
  <span m=''2332530''>it</span> <span m=''2332640''>only</span> <span m=''2332800''>fit</span>
  <span m=''2333050''>into</span> <span m=''2333250''>a</span> <span m=''2333300''>small</span>
  <span m=''2333580''>part</span> <span m=''2333810''>of</span> <span m=''2333880''>the</span>
  <span m=''2333970''>cache,</span> <span m=''2334470''>so</span> <span m=''2334590''>you</span>
  <span m=''2334670''>had to</span> <span m=''2334860''>throw</span> <span m=''2335010''>the</span>
  <span m=''2335090''>data</span> <span m=''2335280''>out.</span> <span m=''2335510''>I''ll</span>
  <span m=''2335570''>get</span> <span m=''2335720''>back</span> <span m=''2335860''>to</span>
  <span m=''2335940''>this.</span> <span m=''2336250''>I''m</span> <span m=''2336360''>just</span>
  <span m=''2336500''>going</span> <span m=''2336620''>to</span> <span m=''2336740''>put
  it there.</span> </p><p><span m=''2338140''>And</span> <span m=''2338380''>then</span>
  <span m=''2339000''>in</span> <span m=''2339240''>a</span> <span m=''2339330''>multiprocess</span>
  <span m=''2340610''>system,</span> <span m=''2340930''>[UNINTELLIGIBLE]</span> <span
  m=''2341340''>multicourse,</span> <span m=''2341880''>there''s a</span> <span m=''2342070''>thing</span>
  <span m=''2342170''>called</span> <span m=''2342350''>true sharing.</span> <span
  m=''2343580''>That</span> <span m=''2343810''>means</span> <span m=''2343990''>I</span>
  <span m=''2344110''>[UNINTELLIGIBLE]</span> <span m=''2344420''>data</span> <span
  m=''2344650''>[UNINTELLIGIBLE],</span> <span m=''2345650''>and</span> <span m=''2345790''>the</span>
  <span m=''2345870''>next</span> <span m=''2346130''>time</span> <span m=''2346380''>[UNINTELLIGIBLE]</span>
  <span m=''2346740''>want to</span> <span m=''2347140''>trust the data.</span> <span
  m=''2347690''>So</span> <span m=''2348100''>I</span> <span m=''2348190''>have</span>
  <span m=''2348310''>to</span> <span m=''2348350''>give</span> <span m=''2348480''>the</span>
  <span m=''2348550''>data</span> <span m=''2348770''>to you,</span> <span m=''2348990''>so</span>
  <span m=''2349100''>you''re</span> <span m=''2349270''>getting</span> <span m=''2349490''>cache.</span>
  <span m=''2350200''>And</span> <span m=''2350370''>then</span> <span m=''2350480''>when</span>
  <span m=''2350630''>I</span> <span m=''2350700''>want</span> <span m=''2350860''>to</span>
  <span m=''2350900''>use</span> <span m=''2351090''>my</span> <span m=''2351230''>data,</span>
  <span m=''2351830''>it''s</span> <span m=''2352310''>[UNINTELLIGIBLE].</span> <span
  m=''2352560''>I have to</span> <span m=''2352790''>get</span> <span m=''2352930''>it
  back</span> <span m=''2353270''>to</span> <span m=''2353350''>me.</span> <span m=''2353610''>So</span>
  <span m=''2353740''>I''m</span> <span m=''2353920''>kind</span> <span m=''2354180''>of</span>
  <span m=''2354280''>using</span> <span m=''2354590''>data</span> <span m=''2354800''>back</span>
  <span m=''2355020''>and</span> <span m=''2355160''>forth,</span> <span m=''2355330''>back</span>
  <span m=''2355560''>and</span> <span m=''2355680''>forth.</span> <span m=''2357120''>So</span>
  <span m=''2357240''>that''s</span> <span m=''2357460''>called</span> <span m=''2357630''>true
  sharing.</span> </p><p><span m=''2359800''>And</span> <span m=''2360140''>a</span>
  <span m=''2360300''>more</span> <span m=''2360710''>hideous</span> <span m=''2361280''>form</span>
  <span m=''2361580''>of</span> <span m=''2361690''>that</span> <span m=''2361850''>is
  called</span> <span m=''2362210''>false</span> <span m=''2362660''>sharing.</span>
  <span m=''2363560''>That</span> <span m=''2363830''>means</span> <span m=''2364140''>most</span>
  <span m=''2364500''>of</span> <span m=''2364560''>the</span> <span m=''2364690''>data
  is</span> <span m=''2365110''>in</span> <span m=''2365180''>a</span> <span m=''2365290''>cache</span>
  <span m=''2365610''>line.</span> <span m=''2367130''>When you</span> <span m=''2367620''>move</span>
  <span m=''2367940''>data</span> <span m=''2368130''>you move</span> <span m=''2368400''>the</span>
  <span m=''2368500''>cache line.</span> <span m=''2369560''>So</span> <span m=''2369870''>what</span>
  <span m=''2370120''>I''m</span> <span m=''2370320''>doing,</span> <span m=''2370560''>is</span>
  <span m=''2370670''>I''m</span> <span m=''2371190''>using</span> <span m=''2371550''>my</span>
  <span m=''2371700''>data</span> <span m=''2372770''>myself,</span> <span m=''2373540''>and</span>
  <span m=''2373850''>you are</span> <span m=''2374140''>using</span> <span m=''2374390''>some</span>
  <span m=''2374800''>other</span> <span m=''2375030''>data,</span> <span m=''2375300''>but</span>
  <span m=''2375560''>unfortunately,</span> <span m=''2376210''>they''re</span> <span
  m=''2376400''>in</span> <span m=''2376490''>the</span> <span m=''2376570''>same</span>
  <span m=''2376800''>cache</span> <span m=''2377070''>line.</span> <span m=''2378760''>So</span>
  <span m=''2378980''>when</span> <span m=''2379210''>I</span> <span m=''2379290''>say,</span>
  <span m=''2379440''>OK,</span> <span m=''2379620''>I</span> <span m=''2379710''>want</span>
  <span m=''2380020''>my</span> <span m=''2380160''>data,</span> <span m=''2380360''>I</span>
  <span m=''2380430''>get</span> <span m=''2380660''>the entire</span> <span m=''2381050''>cache</span>
  <span m=''2381300''>line, including</span> <span m=''2381800''>your</span> <span
  m=''2381990''>data,</span> <span m=''2383340''>and</span> <span m=''2383470''>then</span>
  <span m=''2383570''>you</span> <span m=''2383710''>want</span> <span m=''2383870''>to
  use</span> <span m=''2384040''>your</span> <span m=''2384260''>data.</span> <span
  m=''2384640''>You say,</span> <span m=''2385020''>oops,</span> <span m=''2385370''>it''s</span>
  <span m=''2385520''>not</span> <span m=''2385690''>with me.</span> <span m=''2386480''>And</span>
  <span m=''2386640''>I</span> <span m=''2387040''>then</span> <span m=''2387180''>that</span>
  <span m=''2387360''>means</span> <span m=''2387500''>you</span> <span m=''2387620''>[UNINTELLIGIBLE]</span>
  <span m=''2388430''>go</span> <span m=''2388590''>to</span> <span m=''2388690''>you,</span>
  <span m=''2389340''>and</span> <span m=''2390260''>at</span> <span m=''2390350''>that</span>
  <span m=''2390740''>point,</span> <span m=''2390890''>I</span> <span m=''2390950''>don''t</span>
  <span m=''2391110''>have</span> <span m=''2391260''>my</span> <span m=''2391390''>data</span>
  <span m=''2391630''>in</span> <span m=''2391740''>my</span> <span m=''2391870''>cache.</span>
  <span m=''2392330''>So</span> <span m=''2392500''>this</span> <span m=''2392790''>data</span>
  <span m=''2393180''>is</span> <span m=''2393290''>going</span> <span m=''2393470''>back</span>
  <span m=''2393750''>and</span> <span m=''2393910''>forth.</span> <span m=''2394200''>Even</span>
  <span m=''2394570''>though</span> <span m=''2394730''>I</span> <span m=''2395220''>never</span>
  <span m=''2395430''>touch</span> <span m=''2395580''>your</span> <span m=''2395930''>data,</span>
  <span m=''2396890''>we</span> <span m=''2397030''>have</span> <span m=''2397350''>two</span>
  <span m=''2397510''>separate</span> <span m=''2397720''>data,</span> <span m=''2398190''>but
  it''s</span> <span m=''2398410''>going</span> <span m=''2398610''>back.</span> <span
  m=''2399330''>I</span> <span m=''2399530''>will</span> <span m=''2399780''>get</span>
  <span m=''2400030''>this</span> <span m=''2400270''>things</span> <span m=''2400470''>in</span>
  <span m=''2400490''>a</span> <span m=''2400800''>lot</span> <span m=''2401030''>more</span>
  <span m=''2401170''>detail</span> <span m=''2401570''>in</span> <span m=''2401750''>later</span>
  <span m=''2401870''>lectures,</span> <span m=''2402300''>so</span> <span m=''2402380''>this</span>
  <span m=''2402530''>is</span> <span m=''2402650''>kind</span> <span m=''2402840''>of</span>
  <span m=''2402900''>giving</span> <span m=''2403220''>[INAUDIBLE].</span> <span
  m=''2403760''>So</span> <span m=''2403870''>there are</span> <span m=''2404020''>all</span>
  <span m=''2404240''>of</span> <span m=''2404380''>these</span> <span m=''2404510''>different</span>
  <span m=''2404870''>ways</span> <span m=''2405240''>that the</span> <span m=''2405640''>data</span>
  <span m=''2405950''>can</span> <span m=''2406390''>be</span> <span m=''2406580''>not</span>
  <span m=''2406790''>in</span> <span m=''2406920''>the</span> <span m=''2407010''>cache.</span>
  </p><p><span m=''2408770''>So</span> <span m=''2409500''>here</span> <span m=''2409900''>is</span>
  <span m=''2410650''>what</span> <span m=''2412140''>the</span> <span m=''2412810''>processor</span>
  <span m=''2413230''>you</span> <span m=''2413530''>are</span> <span m=''2414350''>working</span>
  <span m=''2414675''>with</span> <span m=''2415000''>looks</span> <span m=''2415320''>like.</span>
  <span m=''2415700''>There are</span> <span m=''2416170''>6</span> <span m=''2416540''>cores,</span>
  <span m=''2417220''>and</span> <span m=''2417400''>there are</span> <span m=''2417630''>L1</span>
  <span m=''2418240''>separate</span> <span m=''2418660''>instruction</span> <span
  m=''2419230''>and</span> <span m=''2419350''>data</span> <span m=''2419620''>caches,</span>
  <span m=''2420440''>and</span> <span m=''2420640''>then</span> <span m=''2420810''>there''s</span>
  <span m=''2421040''>L2</span> <span m=''2421500''>unified</span> <span m=''2422130''>cache,</span>
  <span m=''2422950''>[UNINTELLIGIBLE]</span> <span m=''2423910''>L3</span> <span
  m=''2424650''>cache</span> <span m=''2425590''>or</span> <span m=''2425870''>[UNINTELLIGIBLE],</span>
  <span m=''2426610''>and</span> <span m=''2426770''>then</span> <span m=''2426890''>there''s
  main</span> <span m=''2427220''>memory.</span> <span m=''2427850''>So</span> <span
  m=''2428000''>it''s</span> <span m=''2428140''>even</span> <span m=''2428450''>this</span>
  <span m=''2428640''>deep,</span> <span m=''2429010''>deep,</span> <span m=''2429330''>deep</span>
  <span m=''2429570''>cache</span> <span m=''2429830''>hierarchy</span> <span m=''2430180''>going</span>
  <span m=''2430390''>on</span> <span m=''2430500''>then.</span> <span m=''2430700''>And</span>
  <span m=''2430820''>then</span> <span m=''2431020''>right-hand</span> <span m=''2431340''>side,</span>
  <span m=''2431850''>I</span> <span m=''2431950''>kind</span> <span m=''2432130''>of</span>
  <span m=''2432730''>showed</span> <span m=''2433180''>the</span> <span m=''2433280''>difference.</span>
  <span m=''2433730''>And</span> <span m=''2433850''>the</span> <span m=''2433930''>interesting</span>
  <span m=''2434280''>thing</span> <span m=''2434430''>to</span> <span m=''2434500''>realize</span>
  <span m=''2434970''>is,</span> <span m=''2437090''>the</span> <span m=''2437580''>L1</span>
  <span m=''2438220''>cache</span> <span m=''2438690''>delays</span> <span m=''2439170''>about</span>
  <span m=''2439370''>4</span> <span m=''2439570''>nanoseconds.</span> <span m=''2440610''>It</span>
  <span m=''2440800''>gets</span> <span m=''2441120''>a</span> <span m=''2441170''>little</span>
  <span m=''2441370''>bit,</span> <span m=''2441810''>2</span> <span m=''2441960''>1/2</span>
  <span m=''2442230''>times</span> <span m=''2442580''>slower</span> <span m=''2443670''>when</span>
  <span m=''2443810''>you</span> <span m=''2443900''>go</span> <span m=''2444220''>to</span>
  <span m=''2448320''>L2</span> <span m=''2448550''>cache,</span> <span m=''2449440''>and</span>
  <span m=''2450120''>[? 12 ?]</span> <span m=''2450480''>times</span> <span m=''2450910''>slower</span>
  <span m=''2451400''>when you</span> <span m=''2451510''>go</span> <span m=''2451690''>to</span>
  <span m=''2451970''>L3</span> <span m=''2452250''>cache,</span> <span m=''2453060''>and</span>
  <span m=''2454080''>even</span> <span m=''2454290''>more</span> <span m=''2454440''>slow</span>
  <span m=''2454700''>when you</span> <span m=''2454870''>go to</span> <span m=''2455040''>main</span>
  <span m=''2455250''>memory.</span> <span m=''2455540''>So</span> <span m=''2456060''>every</span>
  <span m=''2456320''>time</span> <span m=''2456500''>you</span> <span m=''2456610''>go</span>
  <span m=''2456850''>down,</span> <span m=''2457160''>it</span> <span m=''2457240''>gets
  slower</span> <span m=''2457560''>and</span> <span m=''2457780''>slower</span> <span
  m=''2458030''>and</span> <span m=''2458140''>slower.</span> <span m=''2459020''>That''s</span>
  <span m=''2459330''>basically</span> <span m=''2459810''>the</span> <span m=''2459980''>gist</span>
  <span m=''2460390''>of it</span> <span m=''2460760''>in here.</span> <span m=''2464020''>Question?</span>
  </p><p><span m=''2466404''>AUDIENCE: Each</span> <span m=''2467376''>core has</span>
  <span m=''2467862''>two</span> <span m=''2468348''>L1</span> <span m=''2468834''>cache</span>
  <span m=''2469806''>for instructions and</span> <span m=''2470292''>[INAUDIBLE]?</span>
  </p><p><span m=''2470778''>SAMAN AMARASINGHE: And instruction</span> <span m=''2471264''>data.</span>
  <span m=''2472780''>So</span> <span m=''2473160''>instruction goes</span> <span
  m=''2473660''>one direction,</span> <span m=''2474040''>data</span> <span m=''2474340''>goes
  in</span> <span m=''2474600''>one</span> <span m=''2474840''>direction.</span> </p><p><span
  m=''2476440''>So</span> <span m=''2476650''>next</span> <span m=''2477660''>I</span>
  <span m=''2477800''>want to</span> <span m=''2478070''>talk</span> <span m=''2478370''>a
  little bit</span> <span m=''2478780''>about</span> <span m=''2479640''>profiling.</span>
  <span m=''2480900''>So</span> <span m=''2482200''>predictor</span> <span m=''2482790''>who
  is</span> <span m=''2483250''>going</span> <span m=''2483500''>to</span> <span m=''2483560''>be--</span>
  <span m=''2484070''>the</span> <span m=''2484150''>first</span> <span m=''2484590''>part</span>
  <span m=''2484810''>of</span> <span m=''2484870''>the</span> <span m=''2484930''>predictor</span>
  <span m=''2485250''>is</span> <span m=''2485410''>all</span> <span m=''2485630''>about</span>
  <span m=''2485890''>profiling.</span> <span m=''2487360''>Profiling</span> <span
  m=''2487840''>is</span> <span m=''2487930''>very</span> <span m=''2488100''>important,</span>
  <span m=''2488560''>because</span> <span m=''2488640''>you</span> <span m=''2488760''>run</span>
  <span m=''2488940''>a</span> <span m=''2488980''>program.</span> <span m=''2489470''>It</span>
  <span m=''2489860''>doesn''t</span> <span m=''2490170''>do</span> <span m=''2490360''>well.</span>
  <span m=''2491740''>So</span> <span m=''2491860''>how</span> <span m=''2492020''>do</span>
  <span m=''2493620''>you know</span> <span m=''2494180''>what''s</span> <span m=''2494510''>going</span>
  <span m=''2494820''>on?</span> <span m=''2495750''>First</span> <span m=''2496000''>of</span>
  <span m=''2496090''>all,</span> <span m=''2496190''>you</span> <span m=''2496320''>do</span>
  <span m=''2496540''>know, even</span> <span m=''2496820''>if</span> <span m=''2496920''>it''s</span>
  <span m=''2497080''>not</span> <span m=''2497410''>doing</span> <span m=''2497650''>well.</span>
  <span m=''2498040''>And</span> <span m=''2498190''>if</span> <span m=''2498310''>it''s</span>
  <span m=''2498500''>not</span> <span m=''2498740''>doing</span> <span m=''2499080''>well,</span>
  <span m=''2499160''>what''s the</span> <span m=''2499510''>reason?</span> <span
  m=''2500140''>So</span> <span m=''2500570''>just</span> <span m=''2500870''>having</span>
  <span m=''2501910''>one</span> <span m=''2502220''>number,</span> <span m=''2502460''>that</span>
  <span m=''2502700''>then</span> <span m=''2503010''>saying</span> <span m=''2503360''>it''s</span>
  <span m=''2503530''>[UNINTELLIGIBLE]</span> <span m=''2503920''>in</span> <span
  m=''2504545''>10 minutes,</span> <span m=''2504820''>[UNINTELLIGIBLE]</span> <span
  m=''2505310''>5</span> <span m=''2505620''>minutes,</span> <span m=''2506010''>doesn''t</span>
  <span m=''2506260''>tell</span> <span m=''2506350''>you</span> <span m=''2506500''>too
  much.</span> <span m=''2507090''>You</span> <span m=''2507520''>know</span> <span
  m=''2507610''>what</span> <span m=''2507760''>to</span> <span m=''2507820''>look</span>
  <span m=''2508000''>if</span> <span m=''2508110''>you have a</span> <span m=''2508300''>large</span>
  <span m=''2508590''>program.</span> <span m=''2509150''>The</span> <span m=''2509260''>profiling</span>
  <span m=''2509840''>means</span> <span m=''2510110''>going,</span> <span m=''2510430''>looking</span>
  <span m=''2510840''>at</span> <span m=''2511000''>what</span> <span m=''2511220''>the</span>
  <span m=''2511320''>program</span> <span m=''2511790''>is</span> <span m=''2511960''>doing</span>
  <span m=''2512450''>to</span> <span m=''2512510''>get an</span> <span m=''2512700''>understanding</span>
  <span m=''2513065''>in</span> <span m=''2513430''>there.</span> </p><p><span m=''2515310''>So</span>
  <span m=''2516490''>what</span> <span m=''2516760''>you</span> <span m=''2516860''>want</span>
  <span m=''2517070''>to</span> <span m=''2517120''>do</span> <span m=''2517220''>was</span>
  <span m=''2517500''>collect</span> <span m=''2517820''>this</span> <span m=''2517990''>performance</span>
  <span m=''2518510''>data</span> <span m=''2519560''>while</span> <span m=''2520270''>running</span>
  <span m=''2520520''>the</span> <span m=''2520590''>application,</span> <span m=''2521620''>and</span>
  <span m=''2522190''>then</span> <span m=''2522480''>if</span> <span m=''2522800''>you''re</span>
  <span m=''2523010''>a large</span> <span m=''2523260''>application,</span> <span
  m=''2523620''>you</span> <span m=''2523720''>want to</span> <span m=''2523870''>organize</span>
  <span m=''2524320''>and</span> <span m=''2524440''>display</span> <span m=''2524850''>data</span>
  <span m=''2525920''>in</span> <span m=''2526410''>that</span> <span m=''2526640''>a
  variety</span> <span m=''2526900''>of</span> <span m=''2527090''>ways,</span> <span
  m=''2529250''>and</span> <span m=''2529820''>a</span> <span m=''2529840''>lot</span>
  <span m=''2529980''>of</span> <span m=''2530060''>times,</span> <span m=''2530300''>relate</span>
  <span m=''2530630''>that</span> <span m=''2530810''>data</span> <span m=''2531110''>to</span>
  <span m=''2531200''>source</span> <span m=''2531480''>code,</span> <span m=''2532050''>and</span>
  <span m=''2532270''>see</span> <span m=''2532450''>what</span> <span m=''2532650''>that</span>
  <span m=''2532830''>means in the</span> <span m=''2533050''>[UNINTELLIGIBLE]</span>
  <span m=''2533410''>code.</span> <span m=''2533960''>And</span> <span m=''2534360''>hopefully</span>
  <span m=''2534830''>by</span> <span m=''2535020''>looking</span> <span m=''2535380''>at</span>
  <span m=''2535540''>this</span> <span m=''2535780''>one,</span> <span m=''2536020''>you</span>
  <span m=''2536140''>can</span> <span m=''2536250''>identify,</span> <span m=''2536620''>ha,</span>
  <span m=''2536850''>there''s a</span> <span m=''2537110''>problem</span> <span m=''2537450''>here.</span>
  </p><p><span m=''2539950''>So</span> <span m=''2540680''>there are</span> <span
  m=''2540820''>a</span> <span m=''2540870''>bunch</span> <span m=''2541230''>of</span>
  <span m=''2541380''>tools.</span> <span m=''2542130''>Intel</span> <span m=''2542405''>Vtune,</span>
  <span m=''2543060''>gprof,</span> <span m=''2543590''>oprofile,</span> <span m=''2544490''>perf.</span>
  <span m=''2544980''>So</span> <span m=''2545650''>you</span> <span m=''2545830''>guys</span>
  <span m=''2546110''>are</span> <span m=''2546160''>going to</span> <span m=''2546440''>use</span>
  <span m=''2547100''>mainly</span> <span m=''2548130''>perf,</span> <span m=''2548480''>and</span>
  <span m=''2548520''>we will</span> <span m=''2549170''>probably</span> <span m=''2549310''>talk
  a</span> <span m=''2549520''>little</span> <span m=''2549820''>bit</span> <span
  m=''2550060''>about</span> <span m=''2552390''>gprof.</span> <span m=''2554970''>And</span>
  <span m=''2555430''>next</span> <span m=''2555720''>time</span> <span m=''2556010''>when</span>
  <span m=''2556100''>you</span> <span m=''2556180''>come,</span> <span m=''2556650''>next
  lecture</span> <span m=''2557130''>we''ll</span> <span m=''2557240''>talk</span>
  <span m=''2557450''>about</span> <span m=''2557640''>this</span> <span m=''2557920''>a
  lot more.</span> </p><p><span m=''2560270''>So</span> <span m=''2560470''>profiling</span>
  <span m=''2560960''>is</span> <span m=''2561080''>mainly</span> <span m=''2562370''>to</span>
  <span m=''2562460''>find</span> <span m=''2563450''>where</span> <span m=''2563760''>in</span>
  <span m=''2563890''>an</span> <span m=''2563980''>application</span> <span m=''2565440''>or</span>
  <span m=''2565640''>a</span> <span m=''2565690''>system</span> <span m=''2566080''>there
  is</span> <span m=''2566300''>a</span> <span m=''2566360''>significant</span> <span
  m=''2567070''>amount</span> <span m=''2567310''>of</span> <span m=''2567400''>activity.</span>
  <span m=''2568710''>And</span> <span m=''2568960''>when</span> <span m=''2569100''>the</span>
  <span m=''2569210''>significant</span> <span m=''2569700''>amount</span> <span m=''2569940''>of</span>
  <span m=''2570030''>activity</span> <span m=''2570370''>you</span> <span m=''2570470''>want</span>
  <span m=''2570640''>to</span> <span m=''2570710''>know</span> <span m=''2571080''>whether
  those</span> <span m=''2571430''>activity</span> <span m=''2571770''>can</span>
  <span m=''2571960''>be</span> <span m=''2572150''>avoided,</span> <span m=''2572940''>or</span>
  <span m=''2573140''>there''s</span> <span m=''2573310''>a</span> <span m=''2573350''>problem</span>
  <span m=''2573840''>here.</span> <span m=''2574470''>So</span> <span m=''2575740''>there
  are</span> <span m=''2576190''>some</span> <span m=''2576420''>[UNINTELLIGIBLE]</span>
  <span m=''2577700''>significant</span> <span m=''2578500''>to</span> <span m=''2578610''>what''s</span>
  <span m=''2578850''>there,</span> <span m=''2580190''>it</span> <span m=''2580300''>could</span>
  <span m=''2580420''>be</span> <span m=''2580540''>anywhere.</span> <span m=''2581970''>It</span>
  <span m=''2582290''>might be</span> <span m=''2582470''>addressed</span> <span m=''2582880''>in</span>
  <span m=''2582960''>the</span> <span m=''2583040''>memory,</span> <span m=''2583360''>something</span>
  <span m=''2583690''>might</span> <span m=''2583880''>be</span> <span m=''2583940''>happening.</span>
  <span m=''2584840''>It</span> <span m=''2585070''>might</span> <span m=''2585320''>be</span>
  <span m=''2585840''>in</span> <span m=''2585950''>the</span> <span m=''2586120''>[UNINTELLIGIBLE]</span>
  <span m=''2586630''>system,</span> <span m=''2586970''>some</span> <span m=''2587170''>kind</span>
  <span m=''2587380''>of</span> <span m=''2587510''>process</span> <span m=''2588465''>in</span>
  <span m=''2588790''>the</span> <span m=''2589100''>operating system</span> <span
  m=''2589400''>might</span> <span m=''2589570''>be</span> <span m=''2589650''>happening</span>
  <span m=''2590080''>in one</span> <span m=''2590440''>thread,</span> <span m=''2591180''>it</span>
  <span m=''2591320''>might</span> <span m=''2591510''>be</span> <span m=''2591570''>happening
  in an</span> <span m=''2591950''>executable</span> <span m=''2592470''>file</span>
  <span m=''2592720''>or</span> <span m=''2592830''>a</span> <span m=''2592930''>module.</span>
  <span m=''2594510''>If</span> <span m=''2594690''>you</span> <span m=''2594870''>know</span>
  <span m=''2595220''>the</span> <span m=''2595330''>symbol</span> <span m=''2595590''>of
  something,</span> <span m=''2595850''>you</span> <span m=''2596040''>can say,</span>
  <span m=''2596210''>oh,</span> <span m=''2596340''>huh,</span> <span m=''2596570''>that</span>
  <span m=''2596770''>mode,</span> <span m=''2597040''>that</span> <span m=''2597280''>actually</span>
  <span m=''2597590''>is</span> <span m=''2597710''>this</span> <span m=''2597920''>function,</span>
  <span m=''2598800''>and</span> <span m=''2598980''>if</span> <span m=''2599140''>you</span>
  <span m=''2599400''>know</span> <span m=''2599670''>even</span> <span m=''2599990''>more</span>
  <span m=''2600200''>information</span> <span m=''2600800''>about</span> <span m=''2600930''>the</span>
  <span m=''2601050''>program,</span> <span m=''2601480''>you can say,</span> <span
  m=''2601800''>aha,</span> <span m=''2602050''>that''s</span> <span m=''2602280''>false,
  and</span> <span m=''2602520''>in</span> <span m=''2602720''>fact</span> <span m=''2602940''>it''s</span>
  <span m=''2603060''>this</span> <span m=''2603310''>line</span> <span m=''2603750''>of</span>
  <span m=''2603840''>the</span> <span m=''2603920''>program.</span> <span m=''2604680''>So</span>
  <span m=''2604840''>you</span> <span m=''2605030''>get</span> <span m=''2605350''>this</span>
  <span m=''2605500''>information</span> <span m=''2606020''>from</span> <span m=''2606170''>the</span>
  <span m=''2606230''>application</span> <span m=''2607690''>when</span> <span m=''2607720''>you</span>
  <span m=''2607900''>compile</span> <span m=''2608710''>that</span> <span m=''2609230''>you</span>
  <span m=''2609380''>can</span> <span m=''2609520''>say</span> <span m=''2609790''>debug</span>
  <span m=''2610190''>information,</span> <span m=''2610660''>say aha,</span> <span
  m=''2611000''>this</span> <span m=''2611220''>happens</span> <span m=''2611570''>in</span>
  <span m=''2611650''>this</span> <span m=''2611840''>line</span> <span m=''2612050''>of</span>
  <span m=''2612090''>the</span> <span m=''2612170''>program</span> <span m=''2612810''>that''s</span>
  <span m=''2613000''>having</span> <span m=''2613210''>this</span> <span m=''2613380''>problem.</span>
  <span m=''2613880''>So</span> <span m=''2614010''>you</span> <span m=''2614100''>can</span>
  <span m=''2614320''>break</span> <span m=''2614690''>it</span> <span m=''2614810''>down</span>
  <span m=''2615170''>and</span> <span m=''2615310''>get</span> <span m=''2615450''>that</span>
  <span m=''2615580''>info</span> <span m=''2615810''>like</span> <span m=''2616000''>that.</span>
  </p><p><span m=''2616180''>[PHONE RINGING]</span> </p><p><span m=''2619030''>Somebody''s</span>
  <span m=''2619210''>trying to call me.</span> <span m=''2619680''>Hold on.</span>
  <span m=''2620015''>OK.</span> </p><p><span m=''2622300''>Secondly,</span> <span
  m=''2623680''>we</span> <span m=''2623860''>care</span> <span m=''2623980''>about</span>
  <span m=''2624190''>significant</span> <span m=''2624750''>activity.</span> <span
  m=''2625500''>If the</span> <span m=''2625730''>activity</span> <span m=''2625950''>just</span>
  <span m=''2627440''>happened</span> <span m=''2627770''>only</span> <span m=''2627900''>a</span>
  <span m=''2627990''>few</span> <span m=''2628180''>times,</span> <span m=''2628950''>happened</span>
  <span m=''2629890''>only</span> <span m=''2630130''>nanoseconds</span> <span m=''2630720''>of</span>
  <span m=''2630950''>execution</span> <span m=''2631410''>time,</span> <span m=''2631560''>who
  cares?</span> <span m=''2632040''>You</span> <span m=''2632110''>don''t</span> <span
  m=''2632290''>want to do that.</span> <span m=''2632640''>You</span> <span m=''2632820''>want</span>
  <span m=''2632970''>to</span> <span m=''2633010''>focus</span> <span m=''2633540''>on</span>
  <span m=''2633670''>things</span> <span m=''2634330''>that</span> <span m=''2634510''>matter.</span>
  <span m=''2635250''>And</span> <span m=''2635480''>the</span> <span m=''2635590''>key</span>
  <span m=''2635860''>thing</span> <span m=''2636090''>about</span> <span m=''2636330''>this</span>
  <span m=''2636540''>[UNINTELLIGIBLE].</span> <span m=''2638060''>If</span> <span
  m=''2638200''>you</span> <span m=''2638340''>spend</span> <span m=''2638620''>most</span>
  <span m=''2638900''>of</span> <span m=''2639010''>your</span> <span m=''2639190''>time</span>
  <span m=''2639480''>in</span> <span m=''2640160''>insignificant</span> <span m=''2640880''>things,</span>
  <span m=''2641350''>you would</span> <span m=''2641430''>get insignificant</span>
  <span m=''2642310''>performance</span> <span m=''2642710''>improvement.</span> <span
  m=''2643600''>If</span> <span m=''2643710''>you</span> <span m=''2643820''>found</span>
  <span m=''2644170''>the</span> <span m=''2644210''>significant</span> <span m=''2644900''>part</span>
  <span m=''2645200''>and</span> <span m=''2645320''>work</span> <span m=''2645590''>on</span>
  <span m=''2645710''>that,</span> <span m=''2646100''>you</span> <span m=''2646240''>can</span>
  <span m=''2646370''>get</span> <span m=''2646520''>significant</span> <span m=''2647050''>gains.</span>
  <span m=''2647410''>So</span> <span m=''2647600''>the key thing</span> <span m=''2648060''>is</span>
  <span m=''2648150''>to</span> <span m=''2648230''>find the</span> <span m=''2648490''>significant</span>
  <span m=''2648765''>ones.</span> </p><p><span m=''2649040''>[PHONE RINGING]</span>
  </p><p><span m=''2650018''>Excuse me.</span> <span m=''2660290''>OK.</span> </p><p><span
  m=''2662010''>And</span> <span m=''2662830''>the</span> <span m=''2663050''>final</span>
  <span m=''2663580''>activity.</span> <span m=''2666680''>So</span> <span m=''2667250''>activity</span>
  <span m=''2667460''>means</span> <span m=''2667810''>time</span> <span m=''2668510''>is</span>
  <span m=''2668740''>spent in</span> <span m=''2669200''>doing</span> <span m=''2669520''>something,</span>
  <span m=''2670100''>and</span> <span m=''2670290''>some</span> <span m=''2670510''>activities</span>
  <span m=''2670950''>are</span> <span m=''2671020''>bad</span> <span m=''2671350''>ones.</span>
  <span m=''2671610''>Like</span> <span m=''2671820''>if</span> <span m=''2671920''>you</span>
  <span m=''2671990''>actually</span> <span m=''2672290''>do</span> <span m=''2672480''>running</span>
  <span m=''2672770''>instruction,</span> <span m=''2673250''>that''s</span> <span
  m=''2673460''>good.</span> <span m=''2673690''>If your</span> <span m=''2674130''>running</span>
  <span m=''2674440''>is</span> <span m=''2674750''>useful</span> <span m=''2675120''>instruction,</span>
  <span m=''2675450''>a</span> <span m=''2675560''>long</span> <span m=''2675820''>time,</span>
  <span m=''2676090''>you''re</span> <span m=''2676240''>OK.</span> <span m=''2676770''>But</span>
  <span m=''2677050''>you</span> <span m=''2677160''>might</span> <span m=''2677390''>doing</span>
  <span m=''2677620''>actually</span> <span m=''2678140''>[UNINTELLIGIBLE],</span>
  <span m=''2679040''>[UNINTELLIGIBLE]</span> <span m=''2679390''>[? misprediction
  ?],</span> <span m=''2680720''>stuff</span> <span m=''2681070''>like</span> <span
  m=''2681280''>that,</span> <span m=''2681600''>that''s</span> <span m=''2681850''>bad</span>
  <span m=''2682180''>activity.</span> <span m=''2682500''>You</span> <span m=''2682610''>[UNINTELLIGIBLE]</span>
  <span m=''2682830''>say,</span> <span m=''2682890''>aha.</span> <span m=''2683270''>I
  am</span> <span m=''2683570''>spending</span> <span m=''2683800''>a</span> <span
  m=''2683840''>lot</span> <span m=''2684030''>of</span> <span m=''2684140''>time</span>
  <span m=''2684340''>doing</span> <span m=''2684490''>something</span> <span m=''2685200''>that</span>
  <span m=''2685380''>I can</span> <span m=''2685620''>avoid,</span> <span m=''2686050''>and</span>
  <span m=''2686160''>how</span> <span m=''2686310''>do</span> <span m=''2686480''>I</span>
  <span m=''2686550''>avoid</span> <span m=''2686790''>that?</span> <span m=''2687020''>So</span>
  <span m=''2687170''>that''s</span> <span m=''2687340''>what</span> <span m=''2687460''>you</span>
  <span m=''2687550''>want</span> <span m=''2687710''>to look at.</span> </p><p><span
  m=''2690320''>And</span> <span m=''2690630''>you</span> <span m=''2690820''>have</span>
  <span m=''2691010''>two</span> <span m=''2691100''>ways</span> <span m=''2691390''>of</span>
  <span m=''2691510''>doing</span> <span m=''2691730''>that,</span> <span m=''2692010''>and</span>
  <span m=''2693420''>I</span> <span m=''2693520''>want</span> <span m=''2693720''>to</span>
  <span m=''2693780''>give</span> <span m=''2693980''>you</span> <span m=''2694190''>an</span>
  <span m=''2694300''>analogy</span> <span m=''2694680''>to</span> <span m=''2695625''>figure
  out</span> <span m=''2696120''>what it is.</span> <span m=''2697300''>So</span>
  <span m=''2697620''>assume</span> <span m=''2698380''>you</span> <span m=''2698530''>are</span>
  <span m=''2698660''>going,</span> <span m=''2698910''>visiting</span> <span m=''2699350''>a</span>
  <span m=''2699420''>bunch</span> <span m=''2699790''>of</span> <span m=''2699900''>different</span>
  <span m=''2700260''>places.</span> <span m=''2702360''>You''re</span> <span m=''2702470''>on</span>
  <span m=''2702700''>a</span> <span m=''2702750''>city</span> <span m=''2703040''>tour.</span>
  <span m=''2703750''>You are</span> <span m=''2703950''>visiting</span> <span m=''2704260''>different</span>
  <span m=''2704670''>parts</span> <span m=''2704880''>of</span> <span m=''2704960''>the</span>
  <span m=''2705040''>city.</span> <span m=''2705920''>And</span> <span m=''2707090''>I</span>
  <span m=''2707260''>want</span> <span m=''2707570''>to</span> <span m=''2707740''>figure</span>
  <span m=''2707960''>out,</span> <span m=''2708490''>where do</span> <span m=''2708800''>you</span>
  <span m=''2709100''>spend</span> <span m=''2709440''>most</span> <span m=''2709610''>of</span>
  <span m=''2709790''>your</span> <span m=''2709940''>time?</span> <span m=''2712440''>And</span>
  <span m=''2713790''>that''s</span> <span m=''2713980''>a</span> <span m=''2714010''>hard</span>
  <span m=''2714280''>problem,</span> <span m=''2714630''>because</span> <span m=''2715080''>I
  am</span> <span m=''2715360''>sitting</span> <span m=''2715650''>in</span> <span
  m=''2715780''>my</span> <span m=''2715950''>office,</span> <span m=''2716250''>and</span>
  <span m=''2716390''>say,</span> <span m=''2716540''>OK,</span> <span m=''2716800''>you''re</span>
  <span m=''2717010''>going</span> <span m=''2717270''>[UNINTELLIGIBLE]</span> <span
  m=''2717630''>the city.</span> <span m=''2717890''>I</span> <span m=''2718170''>want
  to figure out</span> <span m=''2718670''>where</span> <span m=''2718970''>you</span>
  <span m=''2719060''>spend</span> <span m=''2719280''>most</span> <span m=''2719500''>of
  the time.</span> </p><p><span m=''2720020''>I have two</span> <span m=''2720330''>ways</span>
  <span m=''2720560''>of</span> <span m=''2720610''>doing that.</span> <span m=''2722180''>I''m
  a</span> <span m=''2722290''>busy</span> <span m=''2722660''>person.</span> <span
  m=''2722925''>What</span> <span m=''2723190''>I</span> <span m=''2723290''>can</span>
  <span m=''2723490''>do</span> <span m=''2723590''>is</span> <span m=''2723720''>every</span>
  <span m=''2723990''>30</span> <span m=''2724830''>minutes,</span> <span m=''2725230''>I</span>
  <span m=''2725280''>can</span> <span m=''2725440''>call</span> <span m=''2725660''>you
  and</span> <span m=''2725880''>say,</span> <span m=''2725920''>where are you?</span>
  <span m=''2726920''>And</span> <span m=''2727120''>you</span> <span m=''2727310''>say,</span>
  <span m=''2727420''>OK,</span> <span m=''2727650''>I''m</span> <span m=''2727780''>in</span>
  <span m=''2727940''>this</span> <span m=''2728090''>library,</span> <span m=''2728550''>I''m
  in</span> <span m=''2728710''>this--</span> <span m=''2729230''>and</span> <span
  m=''2729410''>then</span> <span m=''2729580''>at</span> <span m=''2729770''>that</span>
  <span m=''2729960''>point,</span> <span m=''2730140''>I</span> <span m=''2730200''>can</span>
  <span m=''2730380''>have a</span> <span m=''2730530''>histogram</span> <span m=''2730670''>and</span>
  <span m=''2731020''>say, he''s</span> <span m=''2731310''>still</span> <span m=''2731750''>in</span>
  <span m=''2731860''>the</span> <span m=''2731950''>library.</span> <span m=''2732640''>And
  I can</span> <span m=''2732770''>call</span> <span m=''2732960''>again,</span> <span
  m=''2733440''>where</span> <span m=''2733530''>are you?</span> <span m=''2734260''>And</span>
  <span m=''2734410''>I</span> <span m=''2734450''>can</span> <span m=''2734680''>log</span>
  <span m=''2734850''>that.</span> <span m=''2735270''>And</span> <span m=''2735420''>at</span>
  <span m=''2735510''>some</span> <span m=''2735710''>point,</span> <span m=''2736000''>at</span>
  <span m=''2736180''>the</span> <span m=''2736360''>end</span> <span m=''2736520''>of</span>
  <span m=''2736600''>the day,</span> <span m=''2736870''>I''ll have a</span> <span
  m=''2737000''>histogram</span> <span m=''2737710''>saying,</span> <span m=''2738950''>every</span>
  <span m=''2739190''>time</span> <span m=''2739380''>I</span> <span m=''2739450''>call,</span>
  <span m=''2739810''>you</span> <span m=''2739930''>found</span> <span m=''2740250''>something.</span>
  <span m=''2740820''>If</span> <span m=''2741080''>you</span> <span m=''2741210''>spend</span>
  <span m=''2741580''>a</span> <span m=''2741620''>lot</span> <span m=''2741960''>of</span>
  <span m=''2742060''>time</span> <span m=''2742310''>in the science</span> <span
  m=''2742390''>museum,</span> <span m=''2743156''>I</span> <span m=''2743540''>will</span>
  <span m=''2743660''>have</span> <span m=''2743730''>a</span> <span m=''2743790''>bunch</span>
  <span m=''2744180''>of</span> <span m=''2744330''>[UNINTELLIGIBLE].</span> <span
  m=''2745100''>We''ll see</span> <span m=''2745220''>[UNINTELLIGIBLE]</span> <span
  m=''2746080''>become</span> <span m=''2746570''>then,</span> <span m=''2747490''>and</span>
  <span m=''2748510''>if</span> <span m=''2748780''>you</span> <span m=''2749050''>are</span>
  <span m=''2749110''>not</span> <span m=''2749320''>[UNINTELLIGIBLE],</span> <span
  m=''2749710''>if</span> <span m=''2749870''>you</span> <span m=''2750020''>have</span>
  <span m=''2750240''>only</span> <span m=''2750460''>one</span> <span m=''2750760''>[UNINTELLIGIBLE]</span>
  <span m=''2751470''>find</span> <span m=''2751680''>out,</span> <span m=''2752270''>OK,</span>
  <span m=''2752540''>you''re</span> <span m=''2752680''>not</span> <span m=''2752860''>spending</span>
  <span m=''2753150''>time</span> <span m=''2753420''>there.</span> <span m=''2753690''>That''s</span>
  <span m=''2753890''>one</span> <span m=''2754050''>way</span> <span m=''2754160''>to</span>
  <span m=''2754240''>do</span> <span m=''2754370''>that.</span> </p><p><span m=''2756600''>Let''s</span>
  <span m=''2756810''>go</span> <span m=''2756960''>[UNINTELLIGIBLE]</span> <span
  m=''2758250''>saying,</span> <span m=''2758595''>for</span> <span m=''2758940''>every</span>
  <span m=''2759890''>landmark,</span> <span m=''2760570''>I</span> <span m=''2760710''>create</span>
  <span m=''2760880''>a</span> <span m=''2761040''>telephone</span> <span m=''2761510''>booth.</span>
  <span m=''2762570''>And</span> <span m=''2762750''>every</span> <span m=''2763030''>time</span>
  <span m=''2763300''>you</span> <span m=''2763390''>enter a</span> <span m=''2763730''>landmark,</span>
  <span m=''2764230''>you</span> <span m=''2764350''>[UNINTELLIGIBLE]</span> <span
  m=''2764920''>the</span> <span m=''2765030''>telephone</span> <span m=''2765450''>booth,</span>
  <span m=''2766040''>you''ve got</span> <span m=''2766180''>to</span> <span m=''2766270''>call</span>
  <span m=''2766630''>an</span> <span m=''2766750''>operator</span> <span m=''2767110''>and</span>
  <span m=''2767260''>say</span> <span m=''2767360''>what</span> <span m=''2767560''>time
  it</span> <span m=''2767880''>is,</span> <span m=''2768060''>so</span> <span m=''2768170''>[UNINTELLIGIBLE].</span>
  <span m=''2768850''>And</span> <span m=''2768990''>then</span> <span m=''2769120''>you</span>
  <span m=''2769220''>call</span> <span m=''2769490''>me</span> <span m=''2769620''>and</span>
  <span m=''2769760''>say,</span> <span m=''2769880''>aha,</span> <span m=''2770220''>I''m
  entering</span> <span m=''2770690''>this</span> <span m=''2770790''>landmark,</span>
  <span m=''2771280''>the</span> <span m=''2771360''>time</span> <span m=''2771610''>now</span>
  <span m=''2771800''>is</span> <span m=''2771930''>5:50,</span> <span m=''2772190''>and
  I</span> <span m=''2772636''>write it</span> <span m=''2773082''>down.</span> <span
  m=''2773530''>And</span> <span m=''2773690''>every</span> <span m=''2773840''>time</span>
  <span m=''2774050''>you exit</span> <span m=''2774520''>the</span> <span m=''2774700''>landmark,</span>
  <span m=''2774880''>you</span> <span m=''2774920''>call me</span> <span m=''2775120''>and
  say,</span> <span m=''2775510''>I''m</span> <span m=''2775670''>exiting</span> <span
  m=''2776070''>this</span> <span m=''2776250''>landmark.</span> <span m=''2776670''>Time</span>
  <span m=''2776790''>now</span> <span m=''2777010''>is--</span> <span m=''2777250''>I</span>
  <span m=''2777670''>write it</span> <span m=''2778090''>down.</span> <span m=''2778510''>OK?</span>
  <span m=''2779040''>These</span> <span m=''2779350''>are</span> <span m=''2779550''>kind</span>
  <span m=''2779740''>of</span> <span m=''2779830''>two</span> <span m=''2779930''>ways</span>
  <span m=''2780220''>of</span> <span m=''2780340''>doing</span> <span m=''2780520''>that.</span>
  <span m=''2780640''>That''s</span> <span m=''2780840''>like an</span> <span m=''2781010''>instrumentation</span>
  <span m=''2781670''>solution.</span> </p><p><span m=''2782780''>So</span> <span
  m=''2784620''>the</span> <span m=''2784910''>sampling</span> <span m=''2785290''>collector-based</span>
  <span m=''2786140''>periodically</span> <span m=''2786580''>interupt</span> <span
  m=''2787100''>the</span> <span m=''2787190''>processor</span> <span m=''2788010''>and</span>
  <span m=''2788550''>look</span> <span m=''2788680''>at</span> <span m=''2788770''>where</span>
  <span m=''2788960''>you</span> <span m=''2789130''>are,</span> <span m=''2790760''>and</span>
  <span m=''2790980''>depending</span> <span m=''2791340''>on</span> <span m=''2791440''>where</span>
  <span m=''2791790''>you are,</span> <span m=''2793390''>you</span> <span m=''2793520''>can</span>
  <span m=''2793800''>mark</span> <span m=''2794030''>that</span> <span m=''2794160''>off.</span>
  <span m=''2795030''>And</span> <span m=''2795340''>it''s</span> <span m=''2795650''>called</span>
  <span m=''2795830''>time-based</span> <span m=''2796350''>sampling</span> <span
  m=''2796900''>means</span> <span m=''2797320''>every</span> <span m=''2797630''>time,</span>
  <span m=''2797960''>every</span> <span m=''2798310''>100</span> <span m=''2798640''>milliseconds</span>
  <span m=''2799250''>or</span> <span m=''2799330''>something,</span> <span m=''2800480''>in</span>
  <span m=''2800940''>[UNINTELLIGIBLE]</span> <span m=''2801190''>processing,</span>
  <span m=''2801710''>you</span> <span m=''2801840''>stop</span> <span m=''2802420''>and</span>
  <span m=''2802610''>say</span> <span m=''2802760''>where you are.</span> <span m=''2804360''>Event-based</span>
  <span m=''2805150''>sampling</span> <span m=''2805630''>means</span> <span m=''2806060''>you
  are</span> <span m=''2806750''>counting</span> <span m=''2807200''>number</span>
  <span m=''2807650''>of</span> <span m=''2807760''>events</span> <span m=''2808120''>like</span>
  <span m=''2808400''>cache</span> <span m=''2808810''>meters.</span> <span m=''2809310''>Every</span>
  <span m=''2809550''>hundred</span> <span m=''2809970''>cache</span> <span m=''2810310''>meters,</span>
  <span m=''2810610''>you</span> <span m=''2810760''>stop</span> <span m=''2811030''>and</span>
  <span m=''2811180''>say,</span> <span m=''2811310''>OK,</span> <span m=''2811820''>where
  has</span> <span m=''2812040''>this</span> <span m=''2812500''>happened?</span>
  <span m=''2813180''>Of</span> <span m=''2813350''>course,</span> <span m=''2813840''>if</span>
  <span m=''2814070''>the</span> <span m=''2814250''>cache</span> <span m=''2814580''>misses</span>
  <span m=''2814740''>happen</span> <span m=''2814990''>in</span> <span m=''2815070''>a</span>
  <span m=''2815120''>regular</span> <span m=''2815440''>pattern,</span> <span m=''2815860''>you</span>
  <span m=''2815960''>might</span> <span m=''2816160''>be</span> <span m=''2816310''>in
  trouble,</span> <span m=''2816585''>because</span> <span m=''2816860''>every</span>
  <span m=''2817000''>hundred,</span> <span m=''2817290''>you</span> <span m=''2817410''>might</span>
  <span m=''2817590''>be</span> <span m=''2817690''>the</span> <span m=''2817780''>same</span>
  <span m=''2818030''>place,</span> <span m=''2818670''>then</span> <span m=''2818850''>you</span>
  <span m=''2818970''>would</span> <span m=''2819100''>get</span> <span m=''2819260''>a</span>
  <span m=''2819560''>skewed</span> <span m=''2819800''>number.</span> <span m=''2820130''>But</span>
  <span m=''2820320''>most</span> <span m=''2820570''>probably,</span> <span m=''2820830''>there''s</span>
  <span m=''2821020''>a</span> <span m=''2821070''>statistical</span> <span m=''2821610''>variation</span>
  <span m=''2822150''>in</span> <span m=''2822280''>there.</span> <span m=''2823480''>You</span>
  <span m=''2823690''>can</span> <span m=''2823870''>get</span> <span m=''2824160''>[?
  account index ?]</span> <span m=''2824960''>and</span> <span m=''2825120''>figure</span>
  <span m=''2825270''>out where</span> <span m=''2825610''>these</span> <span m=''2825840''>things</span>
  <span m=''2826010''>happen.</span> <span m=''2826300''>So</span> <span m=''2826390''>if</span>
  <span m=''2826490''>you''re</span> <span m=''2826600''>looking</span> <span m=''2826890''>at</span>
  <span m=''2827370''>where all</span> <span m=''2827580''>the</span> <span m=''2827690''>cache</span>
  <span m=''2827940''>[UNINTELLIGIBLE]</span> <span m=''2828100''>is</span> <span
  m=''2828180''>happening,</span> <span m=''2828480''>you don''t</span> <span m=''2828570''>look</span>
  <span m=''2828840''>at</span> <span m=''2828950''>every</span> <span m=''2829280''>miss,</span>
  <span m=''2829650''>because</span> <span m=''2829800''>there</span> <span m=''2829910''>are</span>
  <span m=''2829960''>millions</span> <span m=''2830460''>of</span> <span m=''2830570''>miss.</span>
  <span m=''2831230''>Every</span> <span m=''2831490''>10,000</span> <span m=''2831925''>miss,</span>
  <span m=''2832360''>you</span> <span m=''2832480''>figure out</span> <span m=''2832670''>where
  you are,</span> <span m=''2833120''>and</span> <span m=''2833740''>statistically,</span>
  <span m=''2834560''>one</span> <span m=''2834860''>is</span> <span m=''2834990''>missing</span>
  <span m=''2835390''>many</span> <span m=''2835630''>times,</span> <span m=''2836680''>that</span>
  <span m=''2836850''>will</span> <span m=''2837140''>adapt in</span> <span m=''2837290''>that</span>
  <span m=''2837470''>column.</span> </p><p><span m=''2839550''>And</span> <span m=''2840430''>nice</span>
  <span m=''2840740''>thing</span> <span m=''2840870''>about</span> <span m=''2841050''>that</span>
  <span m=''2841310''>is,</span> <span m=''2841990''>there''s</span> <span m=''2842200''>nothing</span>
  <span m=''2842570''>you</span> <span m=''2842690''>need</span> <span m=''2842870''>to</span>
  <span m=''2842930''>do.</span> <span m=''2843120''>Now</span> <span m=''2843390''>installation,</span>
  <span m=''2844090''>no</span> <span m=''2844240''>changes</span> <span m=''2844570''>to</span>
  <span m=''2844790''>application</span> <span m=''2845320''>you</span> <span m=''2845400''>need</span>
  <span m=''2845600''>to</span> <span m=''2845660''>do.</span> <span m=''2846944''>[UNINTELLIGIBLE]</span>
  <span m=''2847372''>here,</span> <span m=''2847800''>you</span> <span m=''2847910''>know
  how</span> <span m=''2848060''>to</span> <span m=''2848210''>go in</span> <span
  m=''2848790''>changes,</span> <span m=''2849240''>phone booth</span> <span m=''2849870''>everywhere.</span>
  <span m=''2851560''>Wide</span> <span m=''2851950''>coverage.</span> <span m=''2853100''>You</span>
  <span m=''2853280''>can</span> <span m=''2853450''>cover</span> <span m=''2853670''>everything.</span>
  <span m=''2854180''>So</span> <span m=''2854320''>that</span> <span m=''2854550''>means,</span>
  <span m=''2854880''>assume</span> <span m=''2855570''>you install</span> <span m=''2855930''>phone</span>
  <span m=''2856200''>booth</span> <span m=''2856420''>in</span> <span m=''2856540''>all</span>
  <span m=''2856820''>the</span> <span m=''2858550''>fixed</span> <span m=''2858800''>landmarks,</span>
  <span m=''2859260''>but</span> <span m=''2859420''>there''s</span> <span m=''2859620''>a</span>
  <span m=''2859670''>service</span> <span m=''2860000''>[UNINTELLIGIBLE]</span> <span
  m=''2860170''>down.</span> <span m=''2860660''>I</span> <span m=''2860810''>didn''t</span>
  <span m=''2860950''>see.</span> <span m=''2861670''>I</span> <span m=''2861730''>don''t</span>
  <span m=''2861880''>have a</span> <span m=''2862010''>phone booth</span> <span m=''2862275''>there.</span>
  <span m=''2862540''>But</span> <span m=''2862770''>here,</span> <span m=''2863470''>if</span>
  <span m=''2863640''>I''m</span> <span m=''2863790''>calling</span> <span m=''2864180''>you,</span>
  <span m=''2864540''>I</span> <span m=''2864680''>know</span> <span m=''2864870''>I''m</span>
  <span m=''2865230''>[UNINTELLIGIBLE]</span> <span m=''2865550''>you,</span> <span
  m=''2865900''>anyplace</span> <span m=''2866370''>you are,</span> <span m=''2866520''>I</span>
  <span m=''2866720''>will</span> <span m=''2866910''>cover,</span> <span m=''2867220''>even</span>
  <span m=''2867440''>though</span> <span m=''2867640''>I</span> <span m=''2867790''>haven''t</span>
  <span m=''2868700''>anticipated</span> <span m=''2869360''>that</span> <span m=''2869540''>point.</span>
  <span m=''2870960''>Very low</span> <span m=''2871245''>overhead,</span> <span m=''2872860''>because</span>
  <span m=''2873810''>I</span> <span m=''2873950''>can</span> <span m=''2874200''>decide</span>
  <span m=''2874570''>to</span> <span m=''2874690''>call</span> <span m=''2874970''>you</span>
  <span m=''2875180''>every</span> <span m=''2875840''>30</span> <span m=''2876080''>minutes</span>
  <span m=''2876660''>or</span> <span m=''2876960''>call</span> <span m=''2877220''>you</span>
  <span m=''2877510''>every</span> <span m=''2877730''>1</span> <span m=''2877980''>minute,</span>
  <span m=''2878330''>if</span> <span m=''2878530''>I</span> <span m=''2878600''>really</span>
  <span m=''2879010''>care</span> <span m=''2879300''>or worry</span> <span m=''2879750''>about</span>
  <span m=''2880680''>you,</span> <span m=''2880950''>and</span> <span m=''2881830''>I</span>
  <span m=''2882040''>can</span> <span m=''2882240''>control</span> <span m=''2882590''>the</span>
  <span m=''2882690''>overhead that</span> <span m=''2882880''>I''m</span> <span m=''2883080''>looking
  at,</span> <span m=''2883180''>basically.</span> </p><p><span m=''2885410''>The</span>
  <span m=''2885520''>problem</span> <span m=''2885940''>is</span> <span m=''2886140''>its</span>
  <span m=''2886320''>approximate</span> <span m=''2886820''>position.</span> <span
  m=''2887685''>Because</span> <span m=''2888610''>if</span> <span m=''2888810''>you</span>
  <span m=''2889220''>spend</span> <span m=''2890900''>5 hours</span> <span m=''2891340''>at</span>
  <span m=''2891430''>MIT</span> <span m=''2891830''>and</span> <span m=''2891950''>30</span>
  <span m=''2892170''>seconds</span> <span m=''2892540''>at</span> <span m=''2892610''>Harvard,</span>
  <span m=''2892860''>I</span> <span m=''2893170''>will</span> <span m=''2893460''>never</span>
  <span m=''2893530''>know</span> <span m=''2893650''>that</span> <span m=''2893800''>you</span>
  <span m=''2893940''>went</span> <span m=''2894010''>to</span> <span m=''2894090''>Harvard,</span>
  <span m=''2894500''>because</span> <span m=''2894670''>I</span> <span m=''2894730''>might</span>
  <span m=''2894950''>have</span> <span m=''2895090''>not</span> <span m=''2895280''>called</span>
  <span m=''2895500''>you</span> <span m=''2895540''>while you</span> <span m=''2895700''>were</span>
  <span m=''2895790''>there</span> <span m=''2895970''>at</span> <span m=''2896180''>Harvard.</span>
  <span m=''2896470''>You</span> <span m=''2896580''>might</span> <span m=''2896740''>think</span>
  <span m=''2896880''>it''s</span> <span m=''2897030''>boring</span> <span m=''2897380''>and</span>
  <span m=''2897480''>come</span> <span m=''2897650''>back,</span> <span m=''2897960''>and</span>
  <span m=''2899276''>I</span> <span m=''2899750''>never</span> <span m=''2899990''>knew</span>
  <span m=''2900110''>that</span> <span m=''2900290''>you</span> <span m=''2900390''>did</span>
  <span m=''2900500''>that.</span> <span m=''2901140''>And</span> <span m=''2901400''>also,</span>
  <span m=''2901640''>the</span> <span m=''2901770''>other</span> <span m=''2901900''>thing</span>
  <span m=''2902110''>is,</span> <span m=''2902250''>I</span> <span m=''2902450''>don''t</span>
  <span m=''2902650''>know</span> <span m=''2902780''>exactly</span> <span m=''2903420''>how</span>
  <span m=''2903700''>many</span> <span m=''2903930''>times</span> <span m=''2904220''>you</span>
  <span m=''2904420''>went to a</span> <span m=''2904780''>place,</span> <span m=''2905060''>because</span>
  <span m=''2905410''>I</span> <span m=''2905510''>might have</span> <span m=''2905870''>called</span>
  <span m=''2906160''>you</span> <span m=''2907290''>10</span> <span m=''2907600''>times,</span>
  <span m=''2907960''>and</span> <span m=''2908490''>I</span> <span m=''2908580''>found</span>
  <span m=''2908910''>you</span> <span m=''2909030''>in</span> <span m=''2909620''>the</span>
  <span m=''2909700''>museum</span> <span m=''2910100''>of</span> <span m=''2910460''>the</span>
  <span m=''2910520''>science</span> <span m=''2910880''>10</span> <span m=''2911090''>times,</span>
  <span m=''2911550''>but</span> <span m=''2911790''>you</span> <span m=''2911900''>might</span>
  <span m=''2912100''>have</span> <span m=''2912240''>gone</span> <span m=''2912560''>there</span>
  <span m=''2912790''>20</span> <span m=''2913070''>times,</span> <span m=''2913770''>and</span>
  <span m=''2913910''>I</span> <span m=''2913940''>might</span> <span m=''2914120''>have</span>
  <span m=''2914290''>missed</span> <span m=''2914460''>you under</span> <span m=''2914650''>the</span>
  <span m=''2914990''>times</span> <span m=''2915120''>I</span> <span m=''2915240''>didn''t</span>
  <span m=''2915420''>call, or</span> <span m=''2915830''>you</span> <span m=''2915900''>might</span>
  <span m=''2916080''>have</span> <span m=''2916250''>gone</span> <span m=''2916480''>there
  only</span> <span m=''2916720''>five</span> <span m=''2916960''>times and</span>
  <span m=''2917050''>stayed</span> <span m=''2917500''>for</span> <span m=''2917670''>a</span>
  <span m=''2917700''>long</span> <span m=''2917920''>time,</span> <span m=''2918260''>and</span>
  <span m=''2918580''>I</span> <span m=''2918640''>might have</span> <span m=''2918830''>called</span>
  <span m=''2919085''>multiple times.</span> <span m=''2919510''>I</span> <span m=''2919590''>don''t</span>
  <span m=''2919720''>know</span> <span m=''2919850''>that,</span> <span m=''2920650''>and</span>
  <span m=''2920850''>I</span> <span m=''2920920''>don''t</span> <span m=''2921080''>know</span>
  <span m=''2921310''>the</span> <span m=''2921720''>count</span> <span m=''2922070''>of</span>
  <span m=''2922160''>times</span> <span m=''2922410''>you are</span> <span m=''2922590''>gone,</span>
  <span m=''2923000''>which is</span> <span m=''2923100''>hard to know.</span> </p><p><span
  m=''2926140''>So</span> <span m=''2928040''>the</span> <span m=''2928160''>main</span>
  <span m=''2928670''>thing</span> <span m=''2928880''>is</span> <span m=''2929000''>there</span>
  <span m=''2929150''>might</span> <span m=''2929320''>be</span> <span m=''2929460''>things</span>
  <span m=''2929840''>that</span> <span m=''2930110''>are</span> <span m=''2930530''>not</span>
  <span m=''2930810''>that</span> <span m=''2931050''>statistically</span> <span m=''2931610''>significant</span>
  <span m=''2932230''>that</span> <span m=''2932380''>you</span> <span m=''2932480''>might</span>
  <span m=''2932720''>miss.</span> <span m=''2933340''>And</span> <span m=''2933690''>if</span>
  <span m=''2933860''>you</span> <span m=''2934020''>care</span> <span m=''2934310''>about</span>
  <span m=''2934610''>that,</span> <span m=''2935360''>it''s</span> <span m=''2935600''>not</span>
  <span m=''2935770''>a</span> <span m=''2935910''>good</span> <span m=''2936100''>bet.</span>
  <span m=''2936380''>But</span> <span m=''2936580''>most</span> <span m=''2936860''>of</span>
  <span m=''2936920''>the</span> <span m=''2936980''>time</span> <span m=''2937250''>we</span>
  <span m=''2937370''>care</span> <span m=''2937600''>about</span> <span m=''2938070''>the</span>
  <span m=''2938300''>really</span> <span m=''2938610''>statistically</span> <span
  m=''2939090''>significant</span> <span m=''2939630''>things,</span> <span m=''2939800''>so</span>
  <span m=''2939950''>this</span> <span m=''2940130''>is</span> <span m=''2940250''>a</span>
  <span m=''2940280''>really</span> <span m=''2940500''>good</span> <span m=''2940690''>method.</span>
  </p><p><span m=''2943250''>The</span> <span m=''2943810''>other</span> <span m=''2944340''>part</span>
  <span m=''2944690''>is</span> <span m=''2945210''>perfect</span> <span m=''2945660''>accuracy,</span>
  <span m=''2946740''>because</span> <span m=''2947470''>every</span> <span m=''2947800''>time</span>
  <span m=''2948050''>you</span> <span m=''2948140''>go</span> <span m=''2948350''>somewhere,</span>
  <span m=''2948810''>you have to</span> <span m=''2948880''>call</span> <span m=''2949160''>me,</span>
  <span m=''2949940''>and</span> <span m=''2950090''>I</span> <span m=''2950390''>know</span>
  <span m=''2951600''>how</span> <span m=''2951750''>many</span> <span m=''2951920''>times</span>
  <span m=''2952170''>you</span> <span m=''2952340''>went to</span> <span m=''2953270''>the</span>
  <span m=''2953350''>museum</span> <span m=''2953790''>of science.</span> <span m=''2954030''>I</span>
  <span m=''2954090''>know</span> <span m=''2954230''>exactly</span> <span m=''2954970''>the
  time</span> <span m=''2955140''>you</span> <span m=''2955190''>enter</span> <span
  m=''2955920''>and</span> <span m=''2956080''>exited a</span> <span m=''2956335''>[UNINTELLIGIBLE].</span>
  <span m=''2956900''>I</span> <span m=''2957050''>know</span> <span m=''2957500''>all</span>
  <span m=''2957680''>of</span> <span m=''2957780''>those</span> <span m=''2957880''>things</span>
  <span m=''2958230''>[INAUDIBLE].</span> </p><p><span m=''2959590''>The</span> <span
  m=''2959720''>problem</span> <span m=''2959995''>of</span> <span m=''2960270''>that</span>
  <span m=''2960550''>is</span> <span m=''2960840''>kind</span> <span m=''2961000''>of</span>
  <span m=''2961090''>low</span> <span m=''2961250''>granularity.</span> <span m=''2961780''>I</span>
  <span m=''2961920''>can''t</span> <span m=''2962170''>put phone</span> <span m=''2962730''>booth</span>
  <span m=''2962850''>at</span> <span m=''2962960''>every</span> <span m=''2963260''>corner,</span>
  <span m=''2963760''>and</span> <span m=''2963940''>if</span> <span m=''2964040''>you</span>
  <span m=''2964150''>had</span> <span m=''2964590''>called me at</span> <span m=''2965050''>every</span>
  <span m=''2965230''>corner,</span> <span m=''2965640''>it''s</span> <span m=''2965870''>going
  to be</span> <span m=''2966050''>way</span> <span m=''2966340''>too</span> <span
  m=''2966480''>expensive.</span> <span m=''2967270''>So</span> <span m=''2967390''>I</span>
  <span m=''2967440''>have</span> <span m=''2967570''>low</span> <span m=''2967790''>granularity,</span>
  <span m=''2968130''>very</span> <span m=''2968440''>good</span> <span m=''2968580''>information,</span>
  <span m=''2969130''>and also</span> <span m=''2969390''>high overhead.</span> <span
  m=''2970670''>Because</span> <span m=''2971060''>if</span> <span m=''2971180''>you''re</span>
  <span m=''2971330''>going</span> <span m=''2971620''>in</span> <span m=''2971740''>and</span>
  <span m=''2971830''>out</span> <span m=''2971990''>a</span> <span m=''2972100''>lot</span>
  <span m=''2972430''>to</span> <span m=''2972470''>a</span> <span m=''2972530''>building,</span>
  <span m=''2972880''>you</span> <span m=''2972980''>have</span> <span m=''2973080''>to</span>
  <span m=''2973160''>call,</span> <span m=''2973630''>you</span> <span m=''2973710''>have
  to</span> <span m=''2973780''>stop</span> <span m=''2974050''>and</span> <span m=''2974290''>call,</span>
  <span m=''2974550''>it''s very</span> <span m=''2974830''>high</span> <span m=''2975010''>overhead.</span>
  <span m=''2975390''>And</span> <span m=''2975720''>there''s</span> <span m=''2975930''>not</span>
  <span m=''2976120''>much</span> <span m=''2976260''>of a</span> <span m=''2976370''>way</span>
  <span m=''2976790''>for me</span> <span m=''2977010''>to</span> <span m=''2977080''>control</span>
  <span m=''2977460''>that.</span> <span m=''2978080''>And</span> <span m=''2978320''>it''s</span>
  <span m=''2978480''>also</span> <span m=''2978580''>high</span> <span m=''2978770''>touch.</span>
  <span m=''2979140''>That</span> <span m=''2979280''>means I</span> <span m=''2979380''>have
  to</span> <span m=''2979730''>build</span> <span m=''2980060''>all that</span> <span
  m=''2980220''>infrastructure,</span> <span m=''2980690''>I have to</span> <span
  m=''2981000''>go and</span> <span m=''2981200''>modify</span> <span m=''2981610''>your</span>
  <span m=''2981750''>application,</span> <span m=''2983230''>basically,</span> <span
  m=''2984190''>in</span> <span m=''2984830''>something</span> <span m=''2985090''>[UNINTELLIGIBLE]</span>
  <span m=''2985740''>compile</span> <span m=''2986190''>time</span> <span m=''2986340''>application,</span>
  <span m=''2986820''>get</span> <span m=''2986970''>modified</span> <span m=''2987760''>to</span>
  <span m=''2987850''>basically</span> <span m=''2988260''>have</span> <span m=''2988470''>all</span>
  <span m=''2988630''>these</span> <span m=''2988780''>[UNINTELLIGIBLE]</span> <span
  m=''2989490''>installed into</span> <span m=''2989790''>the</span> <span m=''2989840''>application.</span>
  </p><p><span m=''2992900''>So</span> <span m=''2993700''>you</span> <span m=''2993850''>can</span>
  <span m=''2994040''>look</span> <span m=''2994150''>a</span> <span m=''2994390''>lot</span>
  <span m=''2994630''>of</span> <span m=''2994730''>different</span> <span m=''2995030''>types</span>
  <span m=''2995260''>of</span> <span m=''2995370''>events.</span> <span m=''2996490''>So</span>
  <span m=''2998140''>in</span> <span m=''2998270''>Intel,</span> <span m=''2998730''>if</span>
  <span m=''2998830''>you</span> <span m=''2998920''>look</span> <span m=''2999070''>at</span>
  <span m=''2999380''>core performance</span> <span m=''3000100''>counters,</span>
  <span m=''3000320''>there are</span> <span m=''3000650''>hundreds</span> <span m=''3000970''>of</span>
  <span m=''3001220''>performance</span> <span m=''3001660''>counters.</span> <span
  m=''3002420''>And</span> <span m=''3002660''>some</span> <span m=''3002850''>of</span>
  <span m=''3002950''>these</span> <span m=''3003090''>performance</span> <span m=''3003560''>counters</span>
  <span m=''3004340''>have</span> <span m=''3004560''>no</span> <span m=''3005390''>sense</span>
  <span m=''3005870''>whatsoever.</span> <span m=''3006350''>So</span> <span m=''3006460''>for</span>
  <span m=''3006580''>example,</span> <span m=''3007940''>Intel</span> <span m=''3008215''>has</span>
  <span m=''3008490''>this</span> <span m=''3008610''>counter</span> <span m=''3008850''>called</span>
  <span m=''3009120''>number</span> <span m=''3009450''>of</span> <span m=''3009760''>bogus</span>
  <span m=''3009950''>branches.</span> <span m=''3011370''>What''s a</span> <span
  m=''3011850''>bogus</span> <span m=''3012020''>branch?</span> <span m=''3012650''>I</span>
  <span m=''3012760''>mean,</span> <span m=''3013070''>why</span> <span m=''3013260''>should</span>
  <span m=''3013600''>Intel</span> <span m=''3014020''>be</span> <span m=''3014180''>doing</span>
  <span m=''3014340''>anything</span> <span m=''3014620''>bogus?</span> <span m=''3014970''>It''s</span>
  <span m=''3015330''>some</span> <span m=''3015700''>[UNINTELLIGIBLE]</span> <span
  m=''3016920''>came</span> <span m=''3017170''>out.</span> <span m=''3017450''>But</span>
  <span m=''3018220''>there</span> <span m=''3018700''>are</span> <span m=''3018730''>some</span>
  <span m=''3018995''>counters</span> <span m=''3019260''>that are</span> <span m=''3019640''>useful,</span>
  <span m=''3020080''>so</span> <span m=''3020590''>you''re sort of</span> <span m=''3020960''>getting</span>
  <span m=''3021180''>[UNINTELLIGIBLE]</span> <span m=''3021790''>by</span> <span
  m=''3022060''>thousands</span> <span m=''3022490''>of</span> <span m=''3022600''>things</span>
  <span m=''3022800''>available,</span> <span m=''3023470''>we</span> <span m=''3023630''>focus</span>
  <span m=''3024010''>on</span> <span m=''3024120''>things</span> <span m=''3024380''>that</span>
  <span m=''3024600''>we</span> <span m=''3024730''>care</span> <span m=''3024970''>about.</span>
  <span m=''3025220''>Things like</span> <span m=''3025490''>branch</span> <span m=''3025880''>events,</span>
  <span m=''3026890''>load</span> <span m=''3027120''>store</span> <span m=''3027360''>events,</span>
  <span m=''3027830''>cache</span> <span m=''3028120''>meter,</span> <span m=''3028760''>prefetchers.</span>
  <span m=''3029820''>Those are</span> <span m=''3030080''>the</span> <span m=''3030160''>important</span>
  <span m=''3030630''>things,</span> <span m=''3030870''>and</span> <span m=''3031320''>some</span>
  <span m=''3031530''>multicore</span> <span m=''3032000''>events</span> <span m=''3032400''>that</span>
  <span m=''3032610''>we</span> <span m=''3032740''>can</span> <span m=''3032910''>look</span>
  <span m=''3033100''>at,</span> <span m=''3033270''>and</span> <span m=''3033420''>get</span>
  <span m=''3033580''>some</span> <span m=''3033750''>interesting</span> <span m=''3034240''>information.</span>
  </p><p><span m=''3036500''>And</span> <span m=''3036760''>a</span> <span m=''3036780''>lot</span>
  <span m=''3037060''>of</span> <span m=''3037160''>times,</span> <span m=''3037660''>just</span>
  <span m=''3037970''>by</span> <span m=''3038150''>looking</span> <span m=''3038630''>at</span>
  <span m=''3039880''>numbers</span> <span m=''3040480''>doesn''t</span> <span m=''3040730''>make</span>
  <span m=''3040920''>too</span> <span m=''3041020''>much</span> <span m=''3041270''>sense.</span>
  <span m=''3042262''>You know</span> <span m=''3042760''>you</span> <span m=''3042920''>had</span>
  <span m=''3043130''>$5</span> <span m=''3043430''>billion,</span> <span m=''3043780''>$300</span>
  <span m=''3044670''>million</span> <span m=''3045750''>branches</span> <span m=''3046510''>missed.</span>
  <span m=''3047290''>Is it</span> <span m=''3047410''>a</span> <span m=''3047540''>good</span>
  <span m=''3047900''>high or</span> <span m=''3048390''>low?</span> <span m=''3049600''>You
  have</span> <span m=''3049960''>no</span> <span m=''3050150''>idea.</span> <span
  m=''3051020''>The</span> <span m=''3051240''>right</span> <span m=''3051450''>thing</span>
  <span m=''3051660''>is,</span> <span m=''3051790''>OK.</span> <span m=''3052660''>[UNINTELLIGIBLE]</span>
  <span m=''3053260''>to</span> <span m=''3053430''>number</span> <span m=''3053700''>of</span>
  <span m=''3053760''>instruction</span> <span m=''3054280''>executed</span> <span
  m=''3054760''>how</span> <span m=''3054900''>much</span> <span m=''3055120''>it</span>
  <span m=''3055250''>would</span> <span m=''3055370''>be.</span> <span m=''3055920''>The</span>
  <span m=''3056020''>most</span> <span m=''3056390''>important</span> <span m=''3057020''>numbers</span>
  <span m=''3057410''>are ratios.</span> <span m=''3058750''>So</span> <span m=''3059000''>from</span>
  <span m=''3059240''>the</span> <span m=''3059330''>branches</span> <span m=''3059840''>executed,</span>
  <span m=''3060360''>how</span> <span m=''3060560''>many</span> <span m=''3060740''>were</span>
  <span m=''3060790''>missed?</span> <span m=''3061650''>That''s</span> <span m=''3061900''>a
  lot</span> <span m=''3062170''>more</span> <span m=''3062310''>important</span>
  <span m=''3062750''>than,</span> <span m=''3062950''>you</span> <span m=''3063080''>have</span>
  <span m=''3063280''>5</span> <span m=''3063470''>billion</span> <span m=''3063710''>branch</span>
  <span m=''3063970''>misses.</span> <span m=''3065140''>That</span> <span m=''3065610''>doesn''t</span>
  <span m=''3065820''>say</span> <span m=''3065930''>anything</span> <span m=''3066220''>to</span>
  <span m=''3066300''>me.</span> <span m=''3066420''>So</span> <span m=''3066890''>most
  of</span> <span m=''3066970''>the</span> <span m=''3067250''>time, you have</span>
  <span m=''3067460''>to</span> <span m=''3067660''>figure</span> <span m=''3067940''>out</span>
  <span m=''3068060''>the</span> <span m=''3068130''>right</span> <span m=''3068540''>ratios,</span>
  <span m=''3069120''>and</span> <span m=''3069460''>what</span> <span m=''3069770''>makes</span>
  <span m=''3070010''>sense</span> <span m=''3070240''>to</span> <span m=''3070480''>look
  at</span> <span m=''3070610''>those</span> <span m=''3070810''>ratios.</span> </p><p><span
  m=''3074320''>So</span> <span m=''3074520''>now</span> <span m=''3074870''>what</span>
  <span m=''3075010''>I</span> <span m=''3075150''>want</span> <span m=''3075270''>to</span>
  <span m=''3075390''>do</span> <span m=''3075640''>is</span> <span m=''3076170''>to</span>
  <span m=''3077170''>go</span> <span m=''3077480''>through</span> <span m=''3077630''>a</span>
  <span m=''3077670''>couple</span> <span m=''3077960''>of</span> <span m=''3078110''>examples</span>
  <span m=''3079510''>and</span> <span m=''3080050''>show</span> <span m=''3080820''>what</span>
  <span m=''3081140''>I</span> <span m=''3081320''>can</span> <span m=''3081610''>see</span>
  <span m=''3081970''>in</span> <span m=''3082080''>these</span> <span m=''3082310''>different</span>
  <span m=''3083160''>program</span> <span m=''3083590''>behaviors.</span> <span m=''3084450''>Any</span>
  <span m=''3084630''>questions</span> <span m=''3085040''>so far?</span> <span m=''3086090''>Next</span>
  <span m=''3086510''>lecture</span> <span m=''3086840''>we</span> <span m=''3086930''>are
  going</span> <span m=''3087110''>to</span> <span m=''3087300''>go</span> <span m=''3087680''>through</span>
  <span m=''3089190''>hands-on</span> <span m=''3090050''>examples,</span> <span m=''3091500''>going</span>
  <span m=''3091630''>through</span> <span m=''3091860''>some</span> <span m=''3092080''>of</span>
  <span m=''3092170''>these</span> <span m=''3095070''>profiling</span> <span m=''3096140''>tools.</span>
  </p><p><span m=''3098150''>So</span> <span m=''3099960''>it''s</span> <span m=''3100120''>kind</span>
  <span m=''3100280''>of</span> <span m=''3100370''>fun--</span> <span m=''3101410''>what</span>
  <span m=''3101610''>I</span> <span m=''3101810''>did</span> <span m=''3102040''>was</span>
  <span m=''3102320''>finally discover</span> <span m=''3103000''>what</span> <span
  m=''3103520''>architecture</span> <span m=''3104080''>is</span> <span m=''3104280''>doing,</span>
  <span m=''3104620''>and</span> <span m=''3104780''>what</span> <span m=''3105050''>is</span>
  <span m=''3105260''>the</span> <span m=''3105340''>modern</span> <span m=''3106640''>multicore</span>
  <span m=''3106880''>is</span> <span m=''3107270''>capable of</span> <span m=''3107580''>doing.</span>
  <span m=''3108170''>In</span> <span m=''3108330''>fact,</span> <span m=''3108530''>some</span>
  <span m=''3108710''>of</span> <span m=''3108780''>these</span> <span m=''3108960''>examples,</span>
  <span m=''3109440''>so</span> <span m=''3109630''>this</span> <span m=''3109910''>set</span>
  <span m=''3110100''>of</span> <span m=''3110180''>examples</span> <span m=''3110440''>were</span>
  <span m=''3110830''>done</span> <span m=''3111220''>on</span> <span m=''3111380''>a</span>
  <span m=''3111680''>Core Two.</span> <span m=''3112460''>So</span> <span m=''3113300''>some</span>
  <span m=''3113560''>of</span> <span m=''3113630''>the</span> <span m=''3113730''>numbers</span>
  <span m=''3114120''>might</span> <span m=''3114310''>be</span> <span m=''3114390''>very</span>
  <span m=''3114590''>different</span> <span m=''3115070''>in</span> <span m=''3115360''>[UNINTELLIGIBLE],</span>
  <span m=''3116440''>because</span> <span m=''3117240''>the architecture</span> <span
  m=''3117750''>might</span> <span m=''3117950''>do</span> <span m=''3118030''>better</span>
  <span m=''3118600''>in</span> <span m=''3118740''>some</span> <span m=''3118980''>special</span>
  <span m=''3119290''>prediction</span> <span m=''3119890''>stuff.</span> <span m=''3120170''>I</span>
  <span m=''3120270''>don''t</span> <span m=''3120410''>know.</span> <span m=''3120600''>It
  might be</span> <span m=''3121030''>fun</span> <span m=''3121190''>to</span> <span
  m=''3121250''>move it</span> <span m=''3121530''>it</span> <span m=''3121640''>again.</span>
  </p><p><span m=''3122160''>So</span> <span m=''3122290''>what</span> <span m=''3122460''>I</span>
  <span m=''3122630''>have</span> <span m=''3122790''>is</span> <span m=''3122880''>a</span>
  <span m=''3122930''>program</span> <span m=''3123460''>that</span> <span m=''3123600''>I</span>
  <span m=''3123660''>first</span> <span m=''3123920''>created</span> <span m=''3124320''>two</span>
  <span m=''3125030''>interesting</span> <span m=''3125600''>arrays</span> <span m=''3126220''>to</span>
  <span m=''3126350''>access</span> <span m=''3126920''>this</span> <span m=''3127120''>array.</span>
  <span m=''3128190''>One</span> <span m=''3128630''>array</span> <span m=''3128810''>has</span>
  <span m=''3129360''>numbers</span> <span m=''3129970''>1</span> <span m=''3130350''>to
  n,</span> <span m=''3131640''>MAXA,</span> <span m=''3132290''>is</span> <span m=''3132430''>stored</span>
  <span m=''3132810''>in</span> <span m=''3132930''>this</span> <span m=''3133030''>array.</span>
  <span m=''3133760''>This</span> <span m=''3134090''>has</span> <span m=''3134290''>1</span>
  <span m=''3134310''>to</span> <span m=''3134700''>MAXA</span> <span m=''3134965''>in</span>
  <span m=''3135230''>random</span> <span m=''3135310''>order</span> <span m=''3135640''>stored
  in</span> <span m=''3135850''>this</span> <span m=''3136080''>array.</span> <span
  m=''3138660''>So</span> <span m=''3138870''>when</span> <span m=''3139090''>I</span>
  <span m=''3139150''>use</span> <span m=''3139980''>this</span> <span m=''3140280''>as</span>
  <span m=''3140790''>a</span> <span m=''3142130''>way</span> <span m=''3142410''>to</span>
  <span m=''3142490''>access</span> <span m=''3142980''>the main</span> <span m=''3143380''>array,</span>
  <span m=''3143825''>and</span> <span m=''3144120''>if</span> <span m=''3144490''>I</span>
  <span m=''3144550''>use</span> <span m=''3144820''>this</span> <span m=''3145730''>in</span>
  <span m=''3146140''>[UNINTELLIGIBLE]</span> <span m=''3146880''>0</span> <span m=''3147220''>to</span>
  <span m=''3147360''>n,</span> <span m=''3147530''>I</span> <span m=''3147700''>will
  actually</span> <span m=''3148160''>access</span> <span m=''3148600''>A</span> <span
  m=''3148850''>[UNINTELLIGIBLE]</span> <span m=''3149140''>0.</span> <span m=''3149570''>It''s</span>
  <span m=''3149820''>almost</span> <span m=''3150180''>like</span> <span m=''3150360''>saying</span>
  <span m=''3150610''>AI.</span> <span m=''3151350''>But</span> <span m=''3151580''>I</span>
  <span m=''3151630''>use</span> <span m=''3151930''>this</span> <span m=''3152110''>here.</span>
  <span m=''3152270''>But</span> <span m=''3152460''>if</span> <span m=''3152600''>I</span>
  <span m=''3152650''>use</span> <span m=''3152860''>this</span> <span m=''3153100''>one,</span>
  <span m=''3153520''>I''m doing</span> <span m=''3153840''>random</span> <span m=''3154030''>[UNINTELLIGIBLE].</span>
  </p><p><span m=''3155542''>Well,</span> <span m=''3156040''>the</span> <span m=''3156200''>first</span>
  <span m=''3156360''>program</span> <span m=''3156730''>I''m</span> <span m=''3156930''>doing</span>
  <span m=''3157190''>is</span> <span m=''3157330''>just</span> <span m=''3157560''>nothing</span>
  <span m=''3157890''>but</span> <span m=''3158260''>going</span> <span m=''3158520''>through</span>
  <span m=''3158660''>this</span> <span m=''3158850''>one.</span> <span m=''3160120''>I
  will</span> <span m=''3160380''>have</span> <span m=''3160640''>autoloop</span>
  <span m=''3161260''>that will</span> <span m=''3161350''>go</span> <span m=''3161680''>through</span>
  <span m=''3161770''>many,</span> <span m=''3161970''>many</span> <span m=''3162140''>times,</span>
  <span m=''3162390''>so</span> <span m=''3162490''>I</span> <span m=''3162570''>can</span>
  <span m=''3162740''>actually</span> <span m=''3162830''>[UNINTELLIGIBLE]</span>
  <span m=''3163460''>time.</span> <span m=''3164140''>So</span> <span m=''3164380''>I</span>
  <span m=''3164490''>just</span> <span m=''3164710''>go through--</span> <span m=''3165280''>just</span>
  <span m=''3165460''>nothing</span> <span m=''3165720''>but</span> <span m=''3165950''>trying
  to</span> <span m=''3166070''>just</span> <span m=''3166210''>go</span> <span m=''3166400''>through</span>
  <span m=''3166490''>that.</span> <span m=''3167930''>Second</span> <span m=''3168340''>thing</span>
  <span m=''3168520''>I</span> <span m=''3168590''>did,</span> <span m=''3168780''>I</span>
  <span m=''3168950''>just</span> <span m=''3169090''>put a</span> <span m=''3169580''>condition.</span>
  <span m=''3170650''>Say,</span> <span m=''3171170''>j</span> <span m=''3171580''>is</span>
  <span m=''3171740''>than</span> <span m=''3172120''>MAXA</span> <span m=''3172630''>half.</span>
  <span m=''3173120''>That</span> <span m=''3173390''>means</span> <span m=''3174060''>halfway</span>
  <span m=''3175000''>through</span> <span m=''3175140''>the</span> <span m=''3175830''>program,</span>
  <span m=''3176300''>I</span> <span m=''3176550''>will go</span> <span m=''3176920''>and</span>
  <span m=''3177040''>update</span> <span m=''3177150''>this one.</span> <span m=''3177550''>Another</span>
  <span m=''3177900''>half,</span> <span m=''3178180''>I''m</span> <span m=''3178220''>not</span>
  <span m=''3178420''>doing anything.</span> </p><p><span m=''3181150''>Then</span>
  <span m=''3181440''>I</span> <span m=''3181530''>said,</span> <span m=''3181680''>OK,</span>
  <span m=''3182140''>look.</span> <span m=''3182770''>I</span> <span m=''3183990''>divide</span>
  <span m=''3184310''>by</span> <span m=''3184440''>every</span> <span m=''3184885''>fourth</span>
  <span m=''3185150''>[UNINTELLIGIBLE].</span> <span m=''3185880''>So</span> <span
  m=''3186010''>what</span> <span m=''3186190''>I</span> <span m=''3186290''>is</span>
  <span m=''3186760''>j</span> <span m=''3187100''>and</span> <span m=''3187560''>with</span>
  <span m=''3187970''>03</span> <span m=''3189610''>in there.</span> <span m=''3189920''>That</span>
  <span m=''3190230''>means</span> <span m=''3190470''>3</span> <span m=''3190740''>means</span>
  <span m=''3191330''>[? 2b ?]</span> <span m=''3192660''>in the</span> <span m=''3192820''>1</span>
  <span m=''3193070''>1.</span> <span m=''3193600''>So</span> <span m=''3193740''>we</span>
  <span m=''3193860''>study</span> <span m=''3194220''>0.</span> <span m=''3194540''>That</span>
  <span m=''3194700''>means</span> <span m=''3194870''>last</span> <span m=''3195170''>two</span>
  <span m=''3195260''>[UNINTELLIGIBLE]</span> <span m=''3195480''>has</span> <span
  m=''3195620''>to</span> <span m=''3195710''>be</span> <span m=''3195830''>0.</span>
  <span m=''3196600''>To</span> <span m=''3197160''>form in delta</span> <span m=''3197860''>every</span>
  <span m=''3198030''>fourth</span> <span m=''3198580''>element,</span> <span m=''3198970''>I</span>
  <span m=''3199110''>will update.</span> <span m=''3199680''>Otherwise</span> <span
  m=''3200000''>I won''t.</span> </p><p><span m=''3202710''>And</span> <span m=''3203280''>the</span>
  <span m=''3203380''>next</span> <span m=''3203620''>thing</span> <span m=''3203790''>I</span>
  <span m=''3203870''>did</span> <span m=''3204080''>was</span> <span m=''3207360''>I</span>
  <span m=''3207590''>updated--</span> <span m=''3210320''>OK.</span> <span m=''3210750''>Let</span>
  <span m=''3210880''>me</span> <span m=''3211010''>ask</span> <span m=''3211240''>you</span>
  <span m=''3211370''>a</span> <span m=''3211450''>question.</span> <span m=''3211840''>So</span>
  <span m=''3212000''>this</span> <span m=''3212310''>program,</span> <span m=''3213250''>the</span>
  <span m=''3213690''>output--</span> <span m=''3214240''>that</span> <span m=''3214460''>means</span>
  <span m=''3215000''>what</span> <span m=''3215280''>happened</span> <span m=''3215650''>to</span>
  <span m=''3215760''>A--</span> <span m=''3218560''>the</span> <span m=''3218740''>output</span>
  <span m=''3219200''>of</span> <span m=''3219360''>A</span> <span m=''3219530''>is
  equivalent</span> <span m=''3219830''>to</span> <span m=''3220130''>some</span>
  <span m=''3220330''>other</span> <span m=''3220510''>program,</span> <span m=''3220900''>one</span>
  <span m=''3221100''>of</span> <span m=''3221200''>these</span> <span m=''3221420''>three
  programs.</span> <span m=''3222120''>Which one</span> <span m=''3222580''>is</span>
  <span m=''3222740''>the</span> <span m=''3223010''>[? outward ?]</span> <span m=''3223410''>equivalent?</span>
  <span m=''3228640''>See what</span> <span m=''3228840''>you</span> <span m=''3229080''>can</span>
  <span m=''3229240''>make up.</span> </p><p><span m=''3232220''>So</span> <span m=''3234310''>first
  three</span> <span m=''3234690''>programs</span> <span m=''3235150''>or</span> <span
  m=''3235340''>each</span> <span m=''3235630''>will</span> <span m=''3235840''>have</span>
  <span m=''3235990''>separate</span> <span m=''3236290''>different</span> <span m=''3236780''>outputs.</span>
  <span m=''3237260''>A</span> <span m=''3238120''>at</span> <span m=''3238270''>A</span>
  <span m=''3238420''>would</span> <span m=''3238590''>be</span> <span m=''3239050''>different</span>
  <span m=''3240710''>if</span> <span m=''3240980''>you</span> <span m=''3241080''>run
  it.</span> <span m=''3241860''>Except</span> <span m=''3242520''>the</span> <span
  m=''3242760''>fourth</span> <span m=''3243050''>program</span> <span m=''3243580''>will</span>
  <span m=''3243700''>produce</span> <span m=''3244010''>the</span> <span m=''3244100''>exact</span>
  <span m=''3244460''>same</span> <span m=''3244720''>results</span> <span m=''3244960''>as</span>
  <span m=''3245170''>some</span> <span m=''3245390''>other</span> <span m=''3245540''>program,</span>
  <span m=''3245700''>on</span> <span m=''3246200''>the</span> <span m=''3246320''>first</span>
  <span m=''3246500''>three programs.</span> <span m=''3247380''>Which</span> <span
  m=''3247510''>one?</span> </p><p><span m=''3256518''>Wake</span> <span m=''3257020''>up,</span>
  <span m=''3257285''>wake up,</span> <span m=''3257550''>wake up!</span> <span m=''3262787''>I</span>
  <span m=''3263780''>hear</span> <span m=''3264090''>something.</span> <span m=''3264480''>I</span>
  <span m=''3264600''>hear</span> <span m=''3264720''>some--</span> <span m=''3265960''>second</span>
  <span m=''3266320''>one.</span> <span m=''3266650''>Somebody</span> <span m=''3266900''>said</span>
  <span m=''3266980''>the</span> <span m=''3267210''>second</span> <span m=''3267440''>one.</span>
  <span m=''3268790''>How</span> <span m=''3268970''>many</span> <span m=''3269140''>people</span>
  <span m=''3269370''>agree</span> <span m=''3269680''>with</span> <span m=''3269830''>that?</span>
  <span m=''3272360''>How</span> <span m=''3272570''>many people</span> <span m=''3273020''>disagree?</span>
  <span m=''3276660''>OK.</span> <span m=''3278060''>This</span> <span m=''3278250''>is</span>
  <span m=''3278360''>not</span> <span m=''3278500''>a</span> <span m=''3278580''>statistical</span>
  <span m=''3278820''>example.</span> <span m=''3279515''>It</span> <span m=''3279770''>can</span>
  <span m=''3279950''>be</span> <span m=''3280090''>exact.</span> <span m=''3282090''>Why</span>
  <span m=''3282310''>say</span> <span m=''3282460''>the</span> <span m=''3282560''>second</span>
  <span m=''3282880''>one?</span> <span m=''3283385''>Second</span> <span m=''3283670''>one</span>
  <span m=''3283770''>is</span> <span m=''3283850''>right.</span> <span m=''3284660''>So</span>
  <span m=''3285180''>what</span> <span m=''3285330''>that</span> <span m=''3285520''>means</span>
  <span m=''3285870''>is,</span> <span m=''3286380''>in</span> <span m=''3286590''>fact,</span>
  <span m=''3286890''>instead</span> <span m=''3287190''>of</span> <span m=''3287290''>a</span>
  <span m=''3287350''>j,</span> <span m=''3288140''>I''m</span> <span m=''3288500''>using</span>
  <span m=''3288910''>inc</span> <span m=''3289300''>j.</span> <span m=''3289740''>Inc</span>
  <span m=''3289950''>j</span> <span m=''3290400''>is</span> <span m=''3291370''>exactly</span>
  <span m=''3291725''>j,</span> <span m=''3292080''>because</span> <span m=''3292300''>it</span>
  <span m=''3292410''>goes,</span> <span m=''3292670''>inc</span> <span m=''3292940''>0</span>
  <span m=''3293120''>is</span> <span m=''3293370''>0,</span> <span m=''3293520''>inc</span>
  <span m=''3294010''>1</span> <span m=''3294210''>is</span> <span m=''3294310''>1,</span>
  <span m=''3294580''>inc</span> <span m=''3294730''>2</span> <span m=''3295020''>is
  2.</span> <span m=''3295480''>I</span> <span m=''3295610''>just</span> <span m=''3295810''>created</span>
  <span m=''3296060''>the</span> <span m=''3296140''>same</span> <span m=''3296440''>[UNINTELLIGIBLE]</span>
  <span m=''3296640''>array</span> <span m=''3296800''>in</span> <span m=''3297050''>here.</span>
  <span m=''3297620''>This</span> <span m=''3297760''>is</span> <span m=''3297920''>something</span>
  <span m=''3299600''>to get that.</span> </p><p><span m=''3301506''>And</span> <span
  m=''3301890''>finally,</span> <span m=''3302680''>I</span> <span m=''3302820''>am</span>
  <span m=''3303020''>doing</span> <span m=''3303210''>the</span> <span m=''3303400''>[UNINTELLIGIBLE]</span>
  <span m=''3303680''>A</span> <span m=''3304170''>basically</span> <span m=''3304650''>from
  x.</span> <span m=''3306260''>So</span> <span m=''3306410''>what</span> <span m=''3306540''>that</span>
  <span m=''3306720''>means,</span> <span m=''3307130''>I''m</span> <span m=''3307410''>using</span>
  <span m=''3307650''>the</span> <span m=''3307720''>same</span> <span m=''3308040''>amount</span>
  <span m=''3308480''>of</span> <span m=''3308690''>data</span> <span m=''3309020''>will</span>
  <span m=''3309150''>get</span> <span m=''3309320''>updated,</span> <span m=''3309850''>but
  it''s</span> <span m=''3310200''>very</span> <span m=''3310400''>different</span>
  <span m=''3310740''>order</span> <span m=''3311293''>in there.</span> </p><p><span
  m=''3312000''>So</span> <span m=''3312170''>now,</span> <span m=''3313890''>before</span>
  <span m=''3314190''>I</span> <span m=''3314270''>go</span> <span m=''3314410''>to</span>
  <span m=''3314490''>the</span> <span m=''3314650''>next</span> <span m=''3314810''>slide--</span>
  <span m=''3315920''>question?</span> </p><p><span m=''3318360''>AUDIENCE: Maybe</span>
  <span m=''3319284''>you said this, but</span> <span m=''3320208''>what is the</span>
  <span m=''3320670''>A</span> <span m=''3321132''>array?</span> </p><p><span m=''3322518''>SAMAN
  AMARASINGHE: Yeah, it''s some</span> <span m=''3322980''>numbers.</span> <span m=''3323590''>Some</span>
  <span m=''3324780''>random</span> <span m=''3325110''>set</span> <span m=''3325330''>of</span>
  <span m=''3325420''>numbers.</span> <span m=''3325860''>I</span> <span m=''3325960''>don''t</span>
  <span m=''3326160''>care</span> <span m=''3326310''>about</span> <span m=''3326530''>that.</span>
  <span m=''3326770''>I</span> <span m=''3326890''>just</span> <span m=''3327130''>updated</span>
  <span m=''3327660''>this one.</span> </p><p><span m=''3328390''>So</span> <span
  m=''3328960''>in</span> <span m=''3329280''>here,</span> <span m=''3330420''>which
  program</span> <span m=''3330850''>do we</span> <span m=''3331050''>think</span>
  <span m=''3331420''>run</span> <span m=''3331540''>the</span> <span m=''3331660''>faster?</span>
  <span m=''3336980''>So let me</span> <span m=''3337460''>ask you this--</span> <span
  m=''3339070''>which</span> <span m=''3339560''>program</span> <span m=''3340210''>updated</span>
  <span m=''3340770''>the</span> <span m=''3340900''>least</span> <span m=''3341370''>amount</span>
  <span m=''3341720''>of</span> <span m=''3343750''>updates</span> <span m=''3344030''>for</span>
  <span m=''3344370''>A?</span> <span m=''3354380''>Third one,</span> <span m=''3355020''>yeah,</span>
  <span m=''3355200''>because</span> <span m=''3355470''>it''s</span> <span m=''3355600''>only</span>
  <span m=''3355790''>doing</span> <span m=''3356040''>every</span> <span m=''3356100''>fourth</span>
  <span m=''3356560''>element.</span> <span m=''3357900''>Which did</span> <span m=''3358400''>the</span>
  <span m=''3358510''>most?</span> <span m=''3360460''>First</span> <span m=''3360720''>one</span>
  <span m=''3361110''>is</span> <span m=''3361220''>doing</span> <span m=''3361470''>every</span>
  <span m=''3361510''>element,</span> <span m=''3362360''>and</span> <span m=''3362880''>everybody</span>
  <span m=''3363280''>else</span> <span m=''3363440''>will do</span> <span m=''3363790''>probably</span>
  <span m=''3364100''>half</span> <span m=''3364910''>of the updates.</span> <span
  m=''3365280''>So</span> <span m=''3366120''>knowing</span> <span m=''3366390''>that,</span>
  <span m=''3366740''>which</span> <span m=''3367090''>program</span> <span m=''3367350''>will</span>
  <span m=''3367610''>run</span> <span m=''3367770''>faster?</span> <span m=''3371120''>First</span>
  <span m=''3371360''>one</span> <span m=''3371680''>is</span> <span m=''3372000''>updating</span>
  <span m=''3372210''>everything.</span> <span m=''3373260''>[UNINTELLIGIBLE],</span>
  <span m=''3373460''>OK.</span> <span m=''3374440''>[UNINTELLIGIBLE]</span> <span
  m=''3374940''>plus</span> <span m=''3375180''>1,</span> <span m=''3375380''>OK.</span>
  </p><p><span m=''3376230''>Which</span> <span m=''3376510''>program will</span>
  <span m=''3376970''>run slow?</span> <span m=''3381220''>Last</span> <span m=''3381530''>one.</span>
  <span m=''3382143''>You guys are</span> <span m=''3382526''>onto</span> <span m=''3382910''>something.</span>
  <span m=''3383020''>You have</span> <span m=''3383400''>seen</span> <span m=''3383610''>my</span>
  <span m=''3383720''>slide,</span> <span m=''3385020''>you actually</span> <span
  m=''3385410''>know</span> <span m=''3385540''>what the hell</span> <span m=''3385750''>is</span>
  <span m=''3385960''>going</span> <span m=''3386220''>on.</span> </p><p><span m=''3386910''>So</span>
  <span m=''3387640''>what</span> <span m=''3387860''>I</span> <span m=''3388000''>show</span>
  <span m=''3388320''>here</span> <span m=''3388620''>is,</span> <span m=''3389340''>you</span>
  <span m=''3389470''>can''t</span> <span m=''3389730''>read</span> <span m=''3389890''>this</span>
  <span m=''3390060''>one,</span> <span m=''3390230''>but</span> <span m=''3390400''>I</span>
  <span m=''3390460''>[UNINTELLIGIBLE]</span> <span m=''3390880''>on</span> <span
  m=''3391050''>time,</span> <span m=''3391330''>and</span> <span m=''3391450''>then</span>
  <span m=''3391630''>I</span> <span m=''3391700''>create a</span> <span m=''3392140''>ratio.</span>
  <span m=''3392550''>So</span> <span m=''3392670''>if</span> <span m=''3392800''>you</span>
  <span m=''3392920''>look</span> <span m=''3393040''>at</span> <span m=''3393140''>the</span>
  <span m=''3393270''>ratio--</span> <span m=''3394320''>so</span> <span m=''3394540''>aha.</span>
  <span m=''3394890''>The</span> <span m=''3395080''>first</span> <span m=''3395260''>program,</span>
  <span m=''3395740''>I</span> <span m=''3395850''>always</span> <span m=''3396420''>normalize</span>
  <span m=''3396830''>to</span> <span m=''3396910''>that,</span> <span m=''3397550''>runs</span>
  <span m=''3397850''>1,</span> <span m=''3398500''>and</span> <span m=''3398770''>that</span>
  <span m=''3399040''>runs</span> <span m=''3399190''>the</span> <span m=''3399280''>fastest,</span>
  <span m=''3400020''>if</span> <span m=''3400170''>you</span> <span m=''3400290''>tried,</span>
  <span m=''3400780''>and</span> <span m=''3401060''>the</span> <span m=''3401130''>last</span>
  <span m=''3401400''>program</span> <span m=''3401760''>ran</span> <span m=''3401910''>the</span>
  <span m=''3401990''>slowest.</span> <span m=''3403620''>And</span> <span m=''3404710''>the</span>
  <span m=''3404770''>interesting</span> <span m=''3405120''>thing</span> <span m=''3405350''>is,</span>
  <span m=''3407044''>the</span> <span m=''3408880''>[UNINTELLIGIBLE],</span> <span
  m=''3412620''>the</span> <span m=''3412830''>other,</span> <span m=''3413030''>the</span>
  <span m=''3413250''>two,</span> <span m=''3413490''>the</span> <span m=''3414080''>second</span>
  <span m=''3414520''>and</span> <span m=''3415680''>fourth</span> <span m=''3416060''>one,</span>
  <span m=''3416560''>that</span> <span m=''3416900''>wrote</span> <span m=''3417230''>about</span>
  <span m=''3417410''>half</span> <span m=''3417730''>[UNINTELLIGIBLE],</span> <span
  m=''3418090''>basically</span> <span m=''3418470''>ran</span> <span m=''3418810''>all</span>
  <span m=''3418970''>of</span> <span m=''3419120''>the</span> <span m=''3419280''>same.</span>
  <span m=''3419990''>But</span> <span m=''3420160''>the</span> <span m=''3420240''>one</span>
  <span m=''3420450''>that</span> <span m=''3420620''>wrote</span> <span m=''3420990''>every</span>
  <span m=''3421580''>fourth</span> <span m=''3421970''>element</span> <span m=''3422590''>was</span>
  <span m=''3422900''>actually</span> <span m=''3423190''>slower</span> <span m=''3423500''>than</span>
  <span m=''3423740''>others.</span> <span m=''3424620''>Why</span> <span m=''3424920''>is
  it</span> <span m=''3425200''>going</span> <span m=''3425510''>on?</span> </p><p><span
  m=''3426810''>So</span> <span m=''3426990''>what</span> <span m=''3427240''>you</span>
  <span m=''3427390''>can</span> <span m=''3427540''>do</span> <span m=''3427720''>is,</span>
  <span m=''3427990''>first</span> <span m=''3428180''>look</span> <span m=''3428380''>at</span>
  <span m=''3429680''>how</span> <span m=''3429940''>many</span> <span m=''3430230''>instructions</span>
  <span m=''3430790''>would</span> <span m=''3430950''>it</span> <span m=''3431050''>add
  up, and</span> <span m=''3431490''>how</span> <span m=''3431660''>many</span> <span
  m=''3431840''>instruction</span> <span m=''3432310''>were</span> <span m=''3432470''>executed?</span>
  <span m=''3434430''>So</span> <span m=''3434520''>if</span> <span m=''3434740''>you</span>
  <span m=''3434870''>look</span> <span m=''3435070''>at</span> <span m=''3435260''>that,</span>
  <span m=''3436030''>what</span> <span m=''3436280''>you</span> <span m=''3436520''>see</span>
  <span m=''3436870''>is,</span> <span m=''3437950''>the</span> <span m=''3438220''>first</span>
  <span m=''3438560''>one</span> <span m=''3438710''>executes</span> <span m=''3439160''>the</span>
  <span m=''3439280''>least</span> <span m=''3439560''>amount</span> <span m=''3439800''>of</span>
  <span m=''3439900''>instructions,</span> <span m=''3440520''>because</span> <span
  m=''3440730''>it</span> <span m=''3440820''>doesn''t</span> <span m=''3440950''>have
  to</span> <span m=''3441100''>do all</span> <span m=''3441330''>this</span> <span
  m=''3441500''>[UNINTELLIGIBLE]</span> <span m=''3441980''>when</span> <span m=''3442240''>it''s</span>
  <span m=''3442460''>updating.</span> <span m=''3444320''>The</span> <span m=''3444400''>interesting</span>
  <span m=''3444820''>thing</span> <span m=''3445080''>is,</span> <span m=''3447560''>the</span>
  <span m=''3447760''>one that</span> <span m=''3448660''>wrote</span> <span m=''3448910''>half</span>
  <span m=''3449970''>has</span> <span m=''3450250''>the</span> <span m=''3450350''>most</span>
  <span m=''3450620''>amount</span> <span m=''3450860''>of</span> <span m=''3450970''>instructions.</span>
  <span m=''3451930''>One</span> <span m=''3452230''>that wrote</span> <span m=''3452830''>only</span>
  <span m=''3453240''>1/4</span> <span m=''3454400''>has</span> <span m=''3455430''>middle</span>
  <span m=''3455840''>amount</span> <span m=''3456110''>of</span> <span m=''3456170''>instructions.</span>
  <span m=''3456510''>That</span> <span m=''3456790''>kind</span> <span m=''3456970''>of</span>
  <span m=''3457020''>makes</span> <span m=''3457300''>sense</span> <span m=''3457570''>in
  here.</span> <span m=''3458130''>But</span> <span m=''3458430''>this</span> <span
  m=''3458670''>still</span> <span m=''3458990''>doesn''t</span> <span m=''3459450''>explain</span>
  <span m=''3460240''>the</span> <span m=''3460950''>slowdown.</span> <span m=''3461450''>That</span>
  <span m=''3461650''>means</span> <span m=''3464070''>if</span> <span m=''3464620''>this</span>
  <span m=''3464850''>is</span> <span m=''3464990''>the</span> <span m=''3465050''>only</span>
  <span m=''3465300''>case,</span> <span m=''3466000''>the</span> <span m=''3466500''>divide</span>
  <span m=''3466770''>by</span> <span m=''3466900''>4</span> <span m=''3467130''>should</span>
  <span m=''3467330''>run</span> <span m=''3467550''>faster</span> <span m=''3467950''>than</span>
  <span m=''3468660''>the</span> <span m=''3469240''>other</span> <span m=''3469460''>three.</span>
  <span m=''3469660''>That</span> <span m=''3469830''>doesn''t</span> <span m=''3470040''>make</span>
  <span m=''3470190''>sense.</span> <span m=''3471120''>And</span> <span m=''3471660''>then</span>
  <span m=''3471880''>what you</span> <span m=''3472120''>look</span> <span m=''3472310''>at,</span>
  <span m=''3472430''>look at</span> <span m=''3472540''>[UNINTELLIGIBLE]</span> <span
  m=''3473320''>branches</span> <span m=''3473990''>in</span> <span m=''3474150''>there,</span>
  <span m=''3475010''>and</span> <span m=''3475550''>if</span> <span m=''3475650''>you</span>
  <span m=''3475740''>look</span> <span m=''3475880''>at</span> <span m=''3475980''>the</span>
  <span m=''3476050''>branches,</span> <span m=''3476650''>what</span> <span m=''3476800''>you</span>
  <span m=''3476940''>see</span> <span m=''3477250''>is--</span> </p><p><span m=''3478050''>Let
  me</span> <span m=''3478230''>skip</span> <span m=''3478600''>this</span> <span
  m=''3478780''>one,</span> <span m=''3478930''>actually.</span> <span m=''3480230''>I</span>
  <span m=''3480330''>want</span> <span m=''3480500''>to</span> <span m=''3480550''>get</span>
  <span m=''3480740''>this</span> <span m=''3481010''>one.</span> <span m=''3481210''>This</span>
  <span m=''3481380''>is</span> <span m=''3481530''>called</span> <span m=''3482080''>clocks</span>
  <span m=''3482370''>per</span> <span m=''3482830''>instruction.</span> <span m=''3483870''>What</span>
  <span m=''3484280''>this</span> <span m=''3484550''>is</span> <span m=''3484850''>is,</span>
  <span m=''3485145''>if</span> <span m=''3485440''>the</span> <span m=''3485620''>instructions</span>
  <span m=''3486330''>ran</span> <span m=''3486610''>slow,</span> <span m=''3487540''>these</span>
  <span m=''3487900''>instructions</span> <span m=''3488740''>will</span> <span m=''3488930''>take
  a lot</span> <span m=''3489250''>more</span> <span m=''3489410''>clock cycles.</span>
  <span m=''3491110''>That</span> <span m=''3491400''>means</span> <span m=''3491650''>the</span>
  <span m=''3491760''>instructions</span> <span m=''3492260''>are</span> <span m=''3492350''>not</span>
  <span m=''3492550''>doing</span> <span m=''3492870''>well.</span> <span m=''3493590''>That
  means</span> <span m=''3493920''>they are</span> <span m=''3494180''>stalling,</span>
  <span m=''3494880''>they are</span> <span m=''3495210''>taking</span> <span m=''3495320''>a</span>
  <span m=''3495500''>lot</span> <span m=''3495710''>more</span> <span m=''3495850''>time.</span>
  <span m=''3496560''>Normally, we</span> <span m=''3497010''>should</span> <span
  m=''3497180''>be</span> <span m=''3497320''>able</span> <span m=''3497470''>to</span>
  <span m=''3497590''>run</span> <span m=''3498040''>[UNINTELLIGIBLE]</span> <span
  m=''3498720''>about</span> <span m=''3498920''>four instruction</span> <span m=''3499330''>[UNINTELLIGIBLE]</span>
  <span m=''3499790''>cycles</span> <span m=''3500220''>should</span> <span m=''3500340''>get</span>
  <span m=''3500580''>a</span> <span m=''3500710''>CPA</span> <span m=''3500970''>of</span>
  <span m=''3501230''>0.25,</span> <span m=''3503140''>but</span> <span m=''3503580''>that''s</span>
  <span m=''3503770''>very</span> <span m=''3503930''>rare,</span> <span m=''3504710''>and</span>
  <span m=''3504870''>if</span> <span m=''3504970''>you</span> <span m=''3505050''>look</span>
  <span m=''3505220''>at</span> <span m=''3505380''>that,</span> <span m=''3505540''>if</span>
  <span m=''3505690''>I</span> <span m=''3505760''>normalize,</span> <span m=''3507460''>I</span>
  <span m=''3507600''>get</span> <span m=''3507940''>1 in</span> <span m=''3508340''>here</span>
  <span m=''3508560''>normalized.</span> <span m=''3509440''>And</span> <span m=''3509950''>then</span>
  <span m=''3510090''>what</span> <span m=''3510240''>you</span> <span m=''3510390''>see</span>
  <span m=''3510730''>is</span> <span m=''3512350''>second</span> <span m=''3512800''>and</span>
  <span m=''3512990''>fourth</span> <span m=''3513270''>test,</span> <span m=''3513590''>almost</span>
  <span m=''3513920''>the</span> <span m=''3513980''>same</span> <span m=''3514260''>CPI,</span>
  <span m=''3516300''>and</span> <span m=''3516760''>the</span> <span m=''3516880''>third</span>
  <span m=''3518172''>has</span> <span m=''3518550''>worse,</span> <span m=''3518960''>and</span>
  <span m=''3519150''>the</span> <span m=''3519220''>last one</span> <span m=''3519530''>is</span>
  <span m=''3519760''>even</span> <span m=''3519920''>worse.</span> <span m=''3520620''>So</span>
  <span m=''3520700''>why</span> <span m=''3521040''>is</span> <span m=''3521270''>that?</span>
  <span m=''3521730''>Why</span> <span m=''3521920''>are</span> <span m=''3522200''>those</span>
  <span m=''3522380''>instructions</span> <span m=''3523010''>doing</span> <span m=''3523240''>bad?</span>
  </p><p><span m=''3524780''>And</span> <span m=''3524900''>then</span> <span m=''3525130''>you</span>
  <span m=''3525380''>can</span> <span m=''3525620''>go</span> <span m=''3525990''>look
  at</span> <span m=''3526170''>that</span> <span m=''3526290''>misprediction</span>
  <span m=''3526980''>instruction,</span> <span m=''3528150''>and</span> <span m=''3528390''>this</span>
  <span m=''3528600''>is</span> <span m=''3528760''>exactly</span> <span m=''3529180''>what</span>
  <span m=''3529360''>happens.</span> <span m=''3529750''>Divide</span> <span m=''3530100''>by</span>
  <span m=''3530445''>4.</span> <span m=''3531030''>This</span> <span m=''3531210''>is</span>
  <span m=''3531330''>a</span> <span m=''3531380''>condition.</span> <span m=''3532210''>The</span>
  <span m=''3532750''>branch</span> <span m=''3533170''>predictor</span> <span m=''3533620''>couldn''t</span>
  <span m=''3533820''>predict it</span> <span m=''3534300''>that</span> <span m=''3534510''>well,</span>
  <span m=''3535480''>because</span> <span m=''3535900''>[UNINTELLIGIBLE]</span> <span
  m=''3536390''>predicted in</span> <span m=''3536690''>the</span> <span m=''3536800''>first</span>
  <span m=''3537090''>three,</span> <span m=''3537340''>and</span> <span m=''3537490''>it''s</span>
  <span m=''3537630''>[UNINTELLIGIBLE]</span> <span m=''3538030''>predicted,</span>
  <span m=''3538250''>OK,</span> <span m=''3538390''>after</span> <span m=''3538740''>three,</span>
  <span m=''3539210''>next</span> <span m=''3539440''>one</span> <span m=''3539630''>is
  also</span> <span m=''3540000''>going</span> <span m=''3540150''>1</span> <span
  m=''3540380''>direction, oops,</span> <span m=''3540770''>it''s in</span> <span
  m=''3540920''>another</span> <span m=''3541230''>direction.</span> <span m=''3541920''>OK,</span>
  <span m=''3542220''>going</span> <span m=''3542420''>first</span> <span m=''3542740''>three</span>
  <span m=''3542840''>predictions,</span> <span m=''3543300''>going</span> <span m=''3543500''>one</span>
  <span m=''3543670''>direction,</span> <span m=''3544090''>knowing</span> <span m=''3544300''>that</span>
  <span m=''3544470''>information.</span> <span m=''3544890''>So</span> <span m=''3545010''>divide</span>
  <span m=''3545330''>by</span> <span m=''3545490''>4,</span> <span m=''3545920''>looks</span>
  <span m=''3546180''>really</span> <span m=''3546400''>bad,</span> <span m=''3546810''>then
  predict 3.</span> <span m=''3548250''>And</span> <span m=''3548610''>then</span>
  <span m=''3548800''>the</span> <span m=''3548960''>random</span> <span m=''3549290''>one</span>
  <span m=''3549480''>was</span> <span m=''3549570''>just</span> <span m=''3549740''>completely</span>
  <span m=''3550090''>off.</span> <span m=''3550740''>Random</span> <span m=''3551100''>one,</span>
  <span m=''3551270''>basically</span> <span m=''3552130''>predictions</span> <span
  m=''3552460''>of</span> <span m=''3552790''>three</span> <span m=''3552880''>[INAUDIBLE].</span>
  <span m=''3553470''>That''s</span> <span m=''3553690''>why this is.</span> </p><p><span
  m=''3554530''>So</span> <span m=''3554640''>in</span> <span m=''3554800''>fact,</span>
  <span m=''3555100''>if you</span> <span m=''3555420''>just</span> <span m=''3555760''>want
  to</span> <span m=''3556060''>calculate</span> <span m=''3556620''>the</span> <span
  m=''3556750''>run time,</span> <span m=''3558260''>if</span> <span m=''3558480''>you</span>
  <span m=''3558620''>think</span> <span m=''3559440''>every</span> <span m=''3559840''>misprediction</span>
  <span m=''3560720''>cost</span> <span m=''3561220''>you</span> <span m=''3561350''>21</span>
  <span m=''3561830''>instructions,</span> <span m=''3563810''>you</span> <span m=''3563920''>kind</span>
  <span m=''3564110''>of</span> <span m=''3564310''>get</span> <span m=''3564470''>the</span>
  <span m=''3564530''>exact</span> <span m=''3565490''>total</span> <span m=''3565840''>first.</span>
  <span m=''3566130''>You can''t</span> <span m=''3566340''>help it.</span> <span
  m=''3566740''>So</span> <span m=''3567970''>after you</span> <span m=''3568250''>meet
  the</span> <span m=''3568470''>instruction,</span> <span m=''3568900''>take</span>
  <span m=''3569100''>one</span> <span m=''3569580''>cycle,</span> <span m=''3570300''>and</span>
  <span m=''3570500''>everybody misprediction</span> <span m=''3571270''>instruction,</span>
  <span m=''3571750''>take</span> <span m=''3571860''>21</span> <span m=''3572330''>cycles,</span>
  <span m=''3572660''>and</span> <span m=''3572810''>you</span> <span m=''3572930''>just</span>
  <span m=''3573170''>calculate</span> <span m=''3573630''>that.</span> <span m=''3574170''>And</span>
  <span m=''3574350''>this</span> <span m=''3574470''>[UNINTELLIGIBLE],</span> <span
  m=''3574840''>I</span> <span m=''3574920''>just</span> <span m=''3575090''>came,</span>
  <span m=''3575490''>took</span> <span m=''3575570''>it</span> <span m=''3575730''>out</span>
  <span m=''3575870''>of a</span> <span m=''3575950''>hat,</span> <span m=''3576530''>and</span>
  <span m=''3576900''>then</span> <span m=''3577030''>voila,</span> <span m=''3577200''>I</span>
  <span m=''3577480''>get</span> <span m=''3577660''>a</span> <span m=''3577710''>number</span>
  <span m=''3577960''>that''s</span> <span m=''3578140''>very</span> <span m=''3578370''>close</span>
  <span m=''3578660''>to</span> <span m=''3578830''>run</span> <span m=''3579070''>time.</span>
  <span m=''3579290''>So</span> <span m=''3579650''>what</span> <span m=''3579820''>that</span>
  <span m=''3580000''>means</span> <span m=''3580950''>is,</span> <span m=''3581750''>I</span>
  <span m=''3581920''>can</span> <span m=''3582240''>kind of</span> <span m=''3582740''>understand</span>
  <span m=''3584120''>what</span> <span m=''3584370''>the</span> <span m=''3584460''>behavior,</span>
  <span m=''3585140''>this</span> <span m=''3585420''>explains</span> <span m=''3586100''>what''s</span>
  <span m=''3586310''>going</span> <span m=''3586490''>on.</span> <span m=''3586700''>So
  I</span> <span m=''3586870''>can</span> <span m=''3586960''>have a</span> <span
  m=''3587110''>model</span> <span m=''3587520''>in</span> <span m=''3587640''>my</span>
  <span m=''3587790''>head</span> <span m=''3588120''>for</span> <span m=''3588320''>what''s</span>
  <span m=''3588650''>going on.</span> <span m=''3588830''>So</span> <span m=''3588920''>it''s</span>
  <span m=''3589230''>all about</span> <span m=''3589480''>misprediction in</span>
  <span m=''3590030''>here.</span> </p><p><span m=''3591210''>I</span> <span m=''3591390''>did</span>
  <span m=''3591650''>two</span> <span m=''3591840''>other</span> <span m=''3592020''>experiments</span>
  <span m=''3592560''>in</span> <span m=''3592680''>here.</span> <span m=''3592840''>I</span>
  <span m=''3592920''>have</span> <span m=''3593070''>the</span> <span m=''3593180''>slide</span>
  <span m=''3593620''>sitting</span> <span m=''3593720''>here,</span> <span m=''3593890''>but</span>
  <span m=''3594070''>I</span> <span m=''3594130''>don''t think I</span> <span m=''3594400''>have</span>
  <span m=''3594640''>too</span> <span m=''3594770''>much</span> <span m=''3595310''>time</span>
  <span m=''3595560''>to go.</span> <span m=''3595840''>I want</span> <span m=''3596110''>to
  go</span> <span m=''3596270''>to</span> <span m=''3596430''>the</span> <span m=''3596540''>numbers</span>
  <span m=''3598000''>in</span> <span m=''3598210''>there.</span> <span m=''3600240''>Are
  you ready,</span> <span m=''3600515''>[UNINTELLIGIBLE]?</span> <span m=''3601200''>OK.</span>
  <span m=''3602010''>Why don''t</span> <span m=''3602220''>you</span> <span m=''3602510''>go</span>
  <span m=''3603870''>put</span> <span m=''3604210''>your</span> <span m=''3604290''>laptop</span>
  <span m=''3605020''>in.</span> <span m=''3605530''>You</span> <span m=''3605700''>have</span>
  <span m=''3605870''>the</span> <span m=''3605980''>dongle?</span> </p><p><span m=''3606957''>AUDIENCE:
  [INAUDIBLE]</span> </p><p><span m=''3610440''>SAMAN AMARASINGHE: OK.</span> <span
  m=''3612820''>So</span> <span m=''3613050''>voila.</span> <span m=''3614310''>So</span>
  <span m=''3614660''>something</span> <span m=''3615060''>you</span> <span m=''3615160''>guys</span>
  <span m=''3615560''>waited</span> <span m=''3615870''>all</span> <span m=''3616040''>this</span>
  <span m=''3616350''>time,</span> <span m=''3616760''>and</span> <span m=''3618580''>were</span>
  <span m=''3618730''>up</span> <span m=''3619000''>all</span> <span m=''3619100''>these</span>
  <span m=''3619370''>days</span> <span m=''3620660''>developing.</span> <span m=''3621030''>So</span>
  <span m=''3621230''>let''s</span> <span m=''3621510''>see</span> <span m=''3622220''>how</span>
  <span m=''3622410''>everybody</span> <span m=''3622890''>did.</span> <span m=''3623830''>OK,</span>
  <span m=''3624470''>without</span> <span m=''3625120''>further</span> <span m=''3625330''>ado.</span>
  <span m=''3625630''>I</span> <span m=''3625680''>haven''t</span> <span m=''3625910''>even</span>
  <span m=''3626100''>seen</span> <span m=''3626270''>these</span> <span m=''3626430''>numbers.</span>
  <span m=''3626860''>OK,</span> <span m=''3627340''>what happened?</span> <span m=''3629260''>He''s</span>
  <span m=''3629590''>trying</span> <span m=''3629740''>to--</span> <span m=''3630040''>OK,</span>
  <span m=''3630270''>good.</span> <span m=''3630520''>This is</span> <span m=''3631240''>[UNINTELLIGIBLE]</span>
  <span m=''3632730''>screen,</span> <span m=''3633150''>OK.</span> <span m=''3633606''>Do
  you</span> <span m=''3634062''>have it?</span> <span m=''3634518''>OK.</span> </p><p><span
  m=''3635430''>AUDIENCE: OK.</span> <span m=''3638334''>Something to</span> <span
  m=''3638820''>keep</span> <span m=''3638960''>in</span> <span m=''3639100''>mind</span>
  <span m=''3639440''>is,</span> <span m=''3639830''>we</span> <span m=''3640080''>haven''t</span>
  <span m=''3640380''>actually</span> <span m=''3640660''>investigated</span> <span
  m=''3641320''>what''s</span> <span m=''3641520''>causing</span> <span m=''3641890''>people</span>
  <span m=''3642160''>to have</span> <span m=''3642370''>build</span> <span m=''3642550''>failures
  or</span> <span m=''3642920''>crashes</span> <span m=''3643500''>yet.</span> <span
  m=''3643760''>So</span> <span m=''3644035''>it</span> <span m=''3644310''>could
  be your</span> <span m=''3644670''>fault, it</span> <span m=''3644940''>could</span>
  <span m=''3645020''>be</span> <span m=''3645220''>ours.  We''ll</span> <span m=''3645650''>figure</span>
  <span m=''3645890''>that</span> <span m=''3646100''>out.</span> </p><p><span m=''3647240''>SAMAN
  AMARASINGHE: So</span> <span m=''3647750''>if</span> <span m=''3648310''>smaller,</span>
  <span m=''3648700''>better</span> <span m=''3648900''>or higher,</span> <span m=''3649380''>better,</span>
  <span m=''3649670''>what''s--</span> </p><p><span m=''3650000''>AUDIENCE: [INAUDIBLE]</span>
  <span m=''3650300''>better.  This is</span> <span m=''3650530''>run time.</span>
  <span m=''3650740''>That</span> </p><p><span m=''3651670''>SAMAN AMARASINGHE: This</span>
  <span m=''3651890''>is</span> <span m=''3652140''>really</span> <span m=''3652410''>good!</span>
  <span m=''3655850''>This</span> <span m=''3656040''>is</span> <span m=''3656230''>actually--</span>
  </p><p><span m=''3656990''>AUDIENCE: [INAUDIBLE]</span> <span m=''3657980''>The</span>
  <span m=''3658070''>baseline</span> <span m=''3658350''>is the</span> <span m=''3659160''>flat
  code that</span> <span m=''3659650''>you</span> <span m=''3659740''>see</span> <span
  m=''3659910''>in the middle.</span> </p><p><span m=''3662650''>SAMAN AMARASINGHE:
  So</span> <span m=''3662810''>this</span> <span m=''3663010''>is</span> <span m=''3663210''>really</span>
  <span m=''3663470''>good.</span> <span m=''3663690''>That</span> <span m=''3663920''>means</span>
  <span m=''3664490''>there</span> <span m=''3664970''>were</span> <span m=''3665030''>kind</span>
  <span m=''3665310''>of</span> <span m=''3665470''>two</span> <span m=''3665750''>groups.</span>
  <span m=''3667210''>Most</span> <span m=''3667600''>of</span> <span m=''3667660''>the</span>
  <span m=''3667750''>people</span> <span m=''3668010''>got</span> <span m=''3668170''>everything</span>
  <span m=''3668620''>right,</span> <span m=''3668710''>and</span> <span m=''3668870''>they''re</span>
  <span m=''3669240''>now</span> <span m=''3669390''>the</span> <span m=''3669480''>bottom.</span>
  <span m=''3670150''>And</span> <span m=''3670330''>there''s</span> <span m=''3670950''>another</span>
  <span m=''3671080''>group</span> <span m=''3671400''>that</span> <span m=''3671620''>missed</span>
  <span m=''3672020''>something,</span> <span m=''3673040''>and</span> <span m=''3673370''>it''s</span>
  <span m=''3673530''>in</span> <span m=''3673600''>the</span> <span m=''3673680''>second</span>
  <span m=''3673980''>camp.</span> </p><p><span m=''3675126''>AUDIENCE: I think</span>
  <span m=''3676210''>some of these</span> <span m=''3676640''>projects</span> <span
  m=''3677110''>are from</span> <span m=''3677290''>people</span> <span m=''3677680''>who</span>
  <span m=''3677890''>dropped the</span> <span m=''3678110''>class</span> <span m=''3679050''>at</span>
  <span m=''3679190''>some</span> <span m=''3679350''>point.</span> <span m=''3679630''>So</span>
  <span m=''3679925''>there''s</span> <span m=''3680220''>probably</span> <span m=''3680540''>[INAUDIBLE]</span>
  <span m=''3681440''>might not</span> <span m=''3681890''>be</span> <span m=''3682340''>actually
  representative</span> <span m=''3683240''>of the</span> <span m=''3683690''>class.</span>
  </p><p><span m=''3684590''>SAMAN AMARASINGHE: So</span> <span m=''3685180''>last
  year,</span> <span m=''3685630''>we</span> <span m=''3685750''>got</span> <span
  m=''3685920''>like</span> <span m=''3686090''>almost</span> <span m=''3686420''>exponential</span>
  <span m=''3687000''>curve,</span> <span m=''3687280''>actually.</span> <span m=''3687980''>Last</span>
  <span m=''3688160''>year,</span> <span m=''3688390''>what happened</span> <span
  m=''3688610''>was there were</span> <span m=''3688880''>a</span> <span m=''3689000''>couple</span>
  <span m=''3689230''>of</span> <span m=''3689420''>people</span> <span m=''3689600''>at</span>
  <span m=''3689700''>the</span> <span m=''3689770''>bottom,</span> <span m=''3690290''>and</span>
  <span m=''3690460''>everybody</span> <span m=''3690870''>worked</span> <span m=''3691120''>at</span>
  <span m=''3691260''>the</span> <span m=''3691370''>top,</span> <span m=''3691600''>basically.</span>
  <span m=''3692150''>Which is</span> <span m=''3692250''>actually</span> <span m=''3692670''>good.</span>
  <span m=''3692900''>So</span> <span m=''3692980''>you</span> <span m=''3693120''>guys
  actually</span> <span m=''3693420''>figured</span> <span m=''3693590''>out</span>
  <span m=''3693800''>what''s</span> <span m=''3694030''>going on.</span> </p><p><span
  m=''3694490''>AUDIENCE: So next one is</span> <span m=''3694920''>even</span> <span
  m=''3695350''>more</span> <span m=''3695660''>interesting.</span> </p><p><span m=''3698290''>SAMAN
  AMARASINGHE: Wow!</span> </p><p><span m=''3698713''>AUDIENCE: So this is</span>
  <span m=''3699136''>[INAUDIBLE]</span> <span m=''3699560''>that we gave</span> <span
  m=''3699900''>you</span> <span m=''3700090''>guys.</span> <span m=''3700780''>Most</span>
  <span m=''3701040''>of</span> <span m=''3701140''>you</span> <span m=''3701540''>optimized</span>
  <span m=''3702020''>it</span> <span m=''3702090''>down</span> <span m=''3702320''>to</span>
  <span m=''3702510''>0</span> <span m=''3702860''>seconds.</span> <span m=''3703700''>So</span>
  <span m=''3704060''>I</span> <span m=''3704490''>coded</span> <span m=''3704780''>in</span>
  <span m=''3704950''>a</span> <span m=''3705120''>harder</span> <span m=''3705430''>test</span>
  <span m=''3705730''>case,</span> <span m=''3706470''>and</span> <span m=''3706800''>here''s</span>
  <span m=''3707290''>the</span> <span m=''3707370''>results</span> <span m=''3707830''>on</span>
  <span m=''3707980''>that.</span> <span m=''3708430''>Still</span> <span m=''3708680''>pretty</span>
  <span m=''3708890''>good.</span> </p><p><span m=''3711195''>[INAUDIBLE]</span> <span
  m=''3713144''>There''s some</span> <span m=''3713642''>very</span> <span m=''3714140''>specific</span>
  <span m=''3714638''>optimizations</span> <span m=''3715136''>[INAUDIBLE].</span>
  </p><p><span m=''3715640''>Yeah.</span> </p><p><span m=''3716370''>SAMAN AMARASINGHE:
  So</span> <span m=''3717330''>exactly.</span> <span m=''3717980''>There are</span>
  <span m=''3718270''>people</span> <span m=''3718480''>who</span> <span m=''3718690''>are</span>
  <span m=''3719250''>climbing</span> <span m=''3719680''>up,</span> <span m=''3719810''>I</span>
  <span m=''3719910''>don''t</span> <span m=''3720040''>know</span> <span m=''3720140''>exactly</span>
  <span m=''3720460''>what,</span> <span m=''3720650''>but</span> <span m=''3720820''>it''s</span>
  <span m=''3721040''>very</span> <span m=''3721300''>clear</span> <span m=''3721980''>that</span>
  <span m=''3722130''>[UNINTELLIGIBLE],</span> <span m=''3722890''>probably</span>
  <span m=''3723260''>data</span> <span m=''3723450''>representation</span> <span
  m=''3724460''>tag</span> <span m=''3724770''>that</span> <span m=''3724910''>people
  missed</span> <span m=''3725140''>in here.</span> <span m=''3726750''>Which</span>
  <span m=''3726980''>is really</span> <span m=''3727350''>now interesting.</span>
  <span m=''3728130''>Yes.</span> </p><p><span m=''3728500''>AUDIENCE: And</span>
  <span m=''3728890''>for</span> <span m=''3729280''>Pentominos,</span> <span m=''3730060''>this</span>
  <span m=''3730250''>is</span> <span m=''3730480''>very</span> <span m=''3730820''>incomplete,</span>
  <span m=''3731490''>because</span> <span m=''3731950''>the</span> <span m=''3732080''>set</span>
  <span m=''3732380''>of</span> <span m=''3732490''>tests</span> <span m=''3732810''>that</span>
  <span m=''3732960''>we</span> <span m=''3733070''>wanted</span> <span m=''3733380''>to</span>
  <span m=''3733510''>run</span> <span m=''3733830''>are</span> <span m=''3734010''>still</span>
  <span m=''3734330''>currently</span> <span m=''3734700''>running.</span> <span m=''3735370''>So</span>
  <span m=''3735570''>I</span> <span m=''3735680''>just</span> <span m=''3736000''>picked</span>
  <span m=''3736210''>a</span> <span m=''3736420''>random</span> <span m=''3736830''>test
  case,</span> <span m=''3737360''>just</span> <span m=''3737550''>to</span> <span
  m=''3737620''>give</span> <span m=''3737810''>everybody</span> <span m=''3738190''>an</span>
  <span m=''3738270''>idea</span> <span m=''3738600''>of</span> <span m=''3738680''>how</span>
  <span m=''3738840''>everybody</span> <span m=''3739310''>did,</span> <span m=''3740464''>and</span>
  <span m=''3740876''>set the</span> <span m=''3741290''>time</span> <span m=''3741470''>out</span>
  <span m=''3741690''>very</span> <span m=''3741970''>low</span> <span m=''3742200''>so</span>
  <span m=''3742340''>that I</span> <span m=''3742570''>could</span> <span m=''3742690''>actually</span>
  <span m=''3742990''>finish it during</span> <span m=''3743570''>this</span> <span
  m=''3743750''>lecture.</span> </p><p><span m=''3744560''>And what''s</span> <span
  m=''3745010''>[INAUDIBLE]?</span> </p><p><span m=''3746810''>Yes.</span> <span m=''3747110''>Somebody</span>
  <span m=''3747530''>solved it</span> <span m=''3747920''>instantaneously,</span>
  <span m=''3748950''>and it</span> <span m=''3749230''>searches</span> <span m=''3749670''>for</span>
  <span m=''3749780''>the</span> <span m=''3749860''>first</span> <span m=''3750170''>5,000</span>
  <span m=''3750740''>solutions</span> <span m=''3751150''>to some</span> <span m=''3751440''>random</span>
  <span m=''3751810''>puzzle that I</span> <span m=''3752237''>pulled</span> <span
  m=''3752664''>out.</span> </p><p><span m=''3753520''>SAMAN AMARASINGHE: So</span>
  <span m=''3755080''>[UNINTELLIGIBLE]?</span> </p><p><span m=''3757146''>AUDIENCE:
  That</span> <span m=''3757500''>I</span> <span m=''3757710''>haven''t</span> <span
  m=''3758040''>verified yet.</span> </p><p><span m=''3758700''>SAMAN AMARASINGHE:
  Aha.</span> <span m=''3759070''>So</span> <span m=''3759260''>it</span> <span m=''3759420''>might</span>
  <span m=''3759700''>be,</span> <span m=''3759830''>there</span> <span m=''3760060''>might</span>
  <span m=''3760270''>be</span> <span m=''3760370''>just</span> <span m=''3760590''>the
  scratchings,</span> <span m=''3761320''>so</span> <span m=''3761760''>we</span>
  <span m=''3761890''>don''t</span> <span m=''3762070''>know</span> <span m=''3762250''>that,
  and then</span> <span m=''3762570''>that</span> <span m=''3762830''>could</span>
  <span m=''3762930''>be</span> <span m=''3763100''>correct</span> <span m=''3763170''>answer,</span>
  <span m=''3763850''>but--</span> </p><p><span m=''3766790''>AUDIENCE: Which one
  is the</span> <span m=''3767280''>baseline?</span> </p><p><span m=''3768750''>The</span>
  <span m=''3768840''>baseline</span> <span m=''3769660''>is</span> <span m=''3770050''>actually
  the</span> <span m=''3772190''>90-second</span> <span m=''3772830''>mark.</span>
  </p><p><span m=''3773180''>[INAUDIBLE]</span> </p><p><span m=''3775610''>SAMAN AMARASINGHE:
  [UNINTELLIGIBLE]</span> <span m=''3776570''>the baseline?</span> </p><p><span m=''3777715''>AUDIENCE:
  No.</span> <span m=''3778170''>10</span> <span m=''3778400''>seconds</span> <span
  m=''3778750''>and</span> <span m=''3779140''>above are either</span> <span m=''3779600''>timeout
  or</span> <span m=''3779890''>[INAUDIBLE].</span> </p><p><span m=''3780190''>SAMAN
  AMARASINGHE: Oh,</span> <span m=''3780510''>they''re</span> <span m=''3780680''>probably</span>
  <span m=''3780930''>mostly</span> <span m=''3781200''>timeouts.</span> </p><p><span
  m=''3782248''>AUDIENCE: [INAUDIBLE]</span> </p><p><span m=''3785240''>SAMAN AMARASINGHE:
  Yes.</span> </p><p><span m=''3789180''>So</span> <span m=''3789350''>there</span>
  <span m=''3789550''>you</span> <span m=''3789650''>are.</span> <span m=''3789840''>This</span>
  <span m=''3790090''>one,</span> <span m=''3790290''>people</span> <span m=''3790550''>would</span>
  <span m=''3790670''>have</span> <span m=''3790830''>some</span> <span m=''3791020''>work</span>
  <span m=''3791200''>to do,</span> <span m=''3791410''>I</span> <span m=''3791480''>guess,</span>
  <span m=''3791740''>to</span> <span m=''3792200''>get</span> <span m=''3792340''>the</span>
  <span m=''3792410''>performance</span> <span m=''3793440''>down.</span> <span m=''3793860''>But</span>
  <span m=''3794110''>this is</span> <span m=''3794525''>pretty good.</span> <span
  m=''3795770''>This is</span> <span m=''3795950''>not like</span> <span m=''3796080''>[UNINTELLIGIBLE].</span>
  <span m=''3798210''>I mean,</span> <span m=''3798460''>last</span> <span m=''3798840''>couple</span>
  <span m=''3799070''>of</span> <span m=''3799140''>years,</span> <span m=''3799370''>we
  had</span> <span m=''3799610''>people,</span> <span m=''3800320''>[UNINTELLIGIBLE]</span>
  <span m=''3801000''>someone who</span> <span m=''3801350''>was</span> <span m=''3801560''>1,000</span>
  <span m=''3801960''>[UNINTELLIGIBLE],</span> <span m=''3802400''>you had</span>
  <span m=''3802490''>to</span> <span m=''3802580''>plot</span> <span m=''3802840''>it</span>
  <span m=''3802950''>in</span> <span m=''3803520''>a</span> <span m=''3803930''>log</span>
  <span m=''3804680''>thing.</span> <span m=''3805460''>So</span> <span m=''3805640''>in</span>
  <span m=''3805830''>fact,</span> <span m=''3806050''>if I</span> <span m=''3806750''>do
  a</span> <span m=''3807430''>square root</span> <span m=''3807780''>within</span>
  <span m=''3808070''>the grid,</span> <span m=''3808700''>this is</span> <span m=''3809160''>pretty</span>
  <span m=''3809620''>nice.</span> <span m=''3810980''>So</span> <span m=''3811150''>[UNINTELLIGIBLE]</span>
  <span m=''3812530''>is</span> <span m=''3812830''>not</span> <span m=''3813000''>that</span>
  <span m=''3813130''>bad.</span> </p><p><span m=''3813430''>So</span> <span m=''3814040''>this</span>
  <span m=''3814220''>is</span> <span m=''3814390''>great.</span> <span m=''3814860''>This</span>
  <span m=''3815090''>is</span> <span m=''3815240''>where you</span> <span m=''3815410''>get</span>
  <span m=''3815740''>[UNINTELLIGIBLE]</span> <span m=''3816060''>performance</span>
  <span m=''3816540''>wise</span> <span m=''3817620''>And</span> <span m=''3818470''>if</span>
  <span m=''3818670''>you are</span> <span m=''3819620''>in</span> <span m=''3819860''>the</span>
  <span m=''3819940''>bottom,</span> <span m=''3820310''>you can</span> <span m=''3820510''>go</span>
  <span m=''3820610''>have</span> <span m=''3820770''>a</span> <span m=''3820830''>beer.</span>
  <span m=''3821450''>Otherwise,</span> <span m=''3823800''>you might have</span>
  <span m=''3824180''>to</span> <span m=''3824250''>go</span> <span m=''3824420''>back</span>
  <span m=''3824710''>and</span> <span m=''3824810''>figure</span> <span m=''3824960''>out</span>
  <span m=''3825170''>what</span> <span m=''3825340''>you</span> <span m=''3825450''>missed.</span>
  </p><p><span m=''3826330''>AUDIENCE: [INAUDIBLE]</span> </p><p><span m=''3828770''>SAMAN
  AMARASINGHE: Oh,</span> <span m=''3828970''>if you''re</span> <span m=''3829040''>[UNINTELLIGIBLE].</span>
  <span m=''3829590''>Yes,</span> <span m=''3829750''>exactly</span> <span m=''3830170''>yes.</span>
  <span m=''3831000''>I</span> <span m=''3831180''>should</span> <span m=''3831450''>say</span>
  <span m=''3831850''>that.</span> </p>'
uid: 364c21a0-22d0-dbf3-9df6-737f16c6909c
---
